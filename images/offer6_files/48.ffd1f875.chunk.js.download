(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[48,0,5,6,13,93,139],{1012:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(10),n(135),n(114),n(105);var a=n(7),i=(n(927),n(866),n(18),n(175)),o=(n(49),n(176),n(5),i.MENU_PLP_CONSTANT.CARD_TYPE),r=(o.CAROUSAL,o.MEDIUM,function(e){return Object(a.Pc)(null===e||void 0===e?void 0:e.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===e||void 0===e?void 0:e.dispositionNew})},1021:function(e,t,n){"use strict";var a=n(4),i=n.n(a),o=n(10),r=n(225),c=n(69),d=n(224),l=n(7),s=n(5),u=function(e){var t=e.isAlert,n=e.show,a=e.sectionHeader,i=e.subSectionValue,u=e.orderTypeChange,v=e.onClickHandler,O=e.description,b=e.storeUnavailableError;return n?Object(s.jsxs)("div",{className:"schedule-order-form-sections",children:[Object(s.jsx)("h3",{className:"schedule-form-subsection-header",children:Object(o.e)(a)}),Boolean(b)&&Object(s.jsxs)("div",{className:"store-cannot-deliver-error ".concat(Object(l.mc)(!t,"store-error-msg-container","")),children:[Object(s.jsx)(c.a,{srcFile:t?d.a.Error_Yellow:d.a.Error,className:"store-cannot-deliver-icon"}),Object(s.jsx)("div",{className:"storeErrorMessage",dangerouslySetInnerHTML:{__html:Object(o.e)(b)}})]}),Object(s.jsxs)("div",{className:"schedule-form-subsection",children:[Object(s.jsx)("div",{className:"schedule-order-subsection-value",children:i}),O?Object(s.jsx)("div",{className:"schedule-order-subsection-value",children:O}):null,Object(s.jsx)("div",{className:"border-bottom"}),Object(s.jsx)("div",{className:"changeOrEditOrderType",children:Object(s.jsx)(r.a,{"aria-label":"Edit order type",onClickHandler:v,"data-testid":"dynamic-click-test",children:Object(o.e)(u)})})]})]}):null},v=i.a.memo(u);t.a=v},1056:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d}));var a=n(4);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}var o=function(e){var t=Object(a.useRef)(e);return t.current=e,t},r=function(e){var t=void 0===e?{}:e,n=t.requestOptions,r=t.debounce,c=void 0===r?200:r,d=t.cache,l=void 0===d?86400:d,s=t.cacheKey,u=t.googleMaps,v=t.callbackName,O=t.defaultValue,b=void 0===O?"":O,j=t.initOnMount,m=void 0===j||j,f=Object(a.useState)(!1),p=f[0],h=f[1],E=Object(a.useState)(b),S=E[0],g=E[1],T=Object(a.useState)({loading:!1,status:"",data:[]}),N=T[0],I=T[1],x=Object(a.useRef)(null),D=o(n),A=o(u),C=s?"upa-"+s:"upa",_=Object(a.useCallback)((function(){var e;if(!x.current){var t=window.google,n=A.current,a=(null==n?void 0:n.places)||(null==t||null==(e=t.maps)?void 0:e.places);a?(x.current=new a.AutocompleteService,h(!0)):console.error("\ud83d\udca1 use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library")}}),[]),y=Object(a.useCallback)((function(){I({loading:!1,status:"",data:[]})}),[]),R=Object(a.useCallback)((function(){try{sessionStorage.removeItem(C)}catch(e){}}),[]),w=Object(a.useCallback)(function(e,t){var n;return function(){for(var a=this,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];null!==n&&(clearTimeout(n),n=null),n=setTimeout((function(){return e.apply(a,o)}),t)}}((function(e){if(e){I((function(e){return i({},e,{loading:!0})}));var t={};try{t=JSON.parse(sessionStorage.getItem(C)||"{}")}catch(n){}l&&(t=Object.keys(t).reduce((function(e,n){return t[n].maxAge-Date.now()>=0&&(e[n]=t[n]),e}),{}))[e]?I({loading:!1,status:"OK",data:t[e].data}):x.current.getPlacePredictions(i({},D.current,{input:e}),(function(a,i){if(I({loading:!1,status:i,data:a||[]}),l&&"OK"===i){t[e]={data:a,maxAge:Date.now()+1e3*l};try{sessionStorage.setItem(C,JSON.stringify(t))}catch(n){}}}))}else y()}),c),[c,y]),L=Object(a.useCallback)((function(e,t){void 0===t&&(t=!0),g(e),x.current&&t&&w(e)}),[w]);return Object(a.useEffect)((function(){if(!m)return function(){return null};var e=window.google;return A.current||null!=e&&e.maps||!v?_():window[v]=_,function(){window[v]&&delete window[v]}}),[v,_]),{ready:p,value:S,suggestions:N,setValue:L,clearSuggestions:y,clearCache:R,init:_}},c=function(e){var t=new window.google.maps.Geocoder;return new Promise((function(n,a){t.geocode(e,(function(t,i){"OK"!==i&&a(i),!e.address&&e.componentRestrictions&&(console.error("\ud83d\udca1 use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions."),n(t)),n(t)}))}))},d=function(e){return new Promise((function(t,n){try{var a=e.geometry.location,i=a.lat,o=a.lng;t({lat:i(),lng:o()})}catch(r){n(r)}}))}},1060:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return j})),n.d(t,"l",(function(){return m})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"k",(function(){return h})),n.d(t,"i",(function(){return E})),n.d(t,"h",(function(){return S})),n.d(t,"j",(function(){return g})),n.d(t,"e",(function(){return T})),n.d(t,"c",(function(){return N}));var a=n(0),i=n(10),o=n(233),r=n(807),c=n(11),d=n(919),l=n(810),s=n(20),u=n(7),v=n(863),O={props:null,dispatch:null,customerId:null,tenantId:null,customer:null,userStatus:null,isMobileView:!1,favoriteItems:null,selectedOrderId:null,currencySymbol:null,currencyConversionFactor:null,addHope:null,carryBag:null,pastOrderDateformat:"",pastOrderTimeFormat:"",orderDetails:{},orderHistory:[],currentOrderHistory:[],completedOrderHistory:[],displayNumOfRecords:10,currentPage:1,totalNumOfPages:1,displayAllRecords:!1,showHaveQuestionSection:!0,showViewReceiptModal:!1,showFavoriteModal:!1,showReorderModal:!1,isDarkMode:!1,orderHistoryLoading:!0,userOrderStateDispatch:null,cartDataService:null},b=function(e){var t=e.dispatch,n=e.customerId,a=e.tenantId,i=Object(u.Vb)(12);t(Object(r.d)({customerId:n,tenantId:a},i))},j=function(e){var t=e.dispatch,n=e.tenantId,a=e.selectedOrderId;Object(u.gd)(a)&&t(Object(o.c)({orderId:a,tenantId:n}))},m=function(e){var t=e.props,n=e.dispatch,a=e.tenantReducer,i=e.profileReducer,o=e.updateSetOrderHistoryDetails,r=e.openReorderModal,c=e.userOrderStateDispatch,d=a.authoredContent,l=a.tenantId,s=a.currencySymbol,u=a.currencyConversionFactor,v=a.addHope,O=a.carryBag,b=a.pastOrderDateformat,j=void 0===b?"":b,m=a.pastOrderTimeFormat;o({props:t,dispatch:n,authoredContent:d,tenantId:l,currencySymbol:s,currencyConversionFactor:u,addHope:v,carryBag:O,pastOrderDateformat:j,pastOrderTimeFormat:void 0===m?"":m,customerId:null===i||void 0===i?void 0:i.customerId,customer:null===i||void 0===i?void 0:i.basic,favoriteItems:(null===i||void 0===i?void 0:i.favouriteItems)||[],openReorderModal:r,userOrderStateDispatch:c})},f=function(e){var t=e.cartReducer,n=e.updateSetOrderHistoryDetails,a=t.cartData;n({cartDataService:null===a||void 0===a?void 0:a.service})},p=function(e){var t=e.appStateReducer;(0,e.updateSetOrderHistoryDetails)({userStatus:null===t||void 0===t?void 0:t.userStatus})},h=function(e){var t=e.paymentsContentReducer;(0,e.updateSetOrderHistoryDetails)({paymentsContentReducer:t})},E=function(e){var t,n,i,o=e.orderHistoryReducer,r=e.orderHistoryDetails;(0,e.updateSetOrderHistoryDetails)({selectedOrderId:"",orderHistory:null!==o&&void 0!==o&&o.orderHistory&&Array.isArray(null===o||void 0===o?void 0:o.orderHistory)&&(null===o||void 0===o||null===(t=o.orderHistory)||void 0===t?void 0:t.length)>0?null===o||void 0===o||null===(n=o.orderHistory)||void 0===n||null===(i=n.sort((function(e,t){return(null===t||void 0===t?void 0:t.orderDateTimeInEpoch)-(null===e||void 0===e?void 0:e.orderDateTimeInEpoch)})))||void 0===i?void 0:i.map((function(t){var n=Object(d.c)({postOrPastOrderDetails:Object(a.a)(Object(a.a)({},t),{},{customer:null===r||void 0===r?void 0:r.customer}),orderDetails:r,paymentsContentReducer:null===r||void 0===r?void 0:r.paymentsContentReducer});return function(e){var t=e.profileReducer,n=e.orderDetails,a=t.favouriteOrders;if(Object(u.fd)(n)&&(null===a||void 0===a?void 0:a.length)>0){var i=null===a||void 0===a?void 0:a.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===n||void 0===n?void 0:n.orderId)}));Object(u.fd)(i)&&(n.isOrderSavedAsFavorite=!0,n.favoriteOrderName=null===i||void 0===i?void 0:i.name)}return n}(Object(a.a)({orderDetails:n},e))})):[]})},S=function(e){var t=e.orderHistoryDetails,n=e.updateSetOrderHistoryDetails,a=t.orderHistory;n({currentOrderHistory:null===a||void 0===a?void 0:a.filter((function(e){return!Object(l.F)(e)&&!Object(l.E)(e)})),completedOrderHistory:null===a||void 0===a?void 0:a.filter((function(e){return Object(l.F)(e)||Object(l.E)(e)}))})},g=function(e){var t=e.orderReducer,n=e.orderHistoryDetails;(0,e.updateSetOrderHistoryDetails)({orderDetails:Object(d.c)({postOrPastOrderDetails:null===t||void 0===t?void 0:t.response,orderDetails:n,paymentsContentReducer:null===n||void 0===n?void 0:n.paymentsContentReducer})})},T=function(e){var t=e.orderDetails,n=e.orderHistoryDetails,a=e.redirectTo,i=n.props;(null===t||void 0===t?void 0:t.orderId)&&Object(v.o)({trackDetails:n,orderDetails:t,redirectTo:a,props:i})},N=function(e){var t=e.orderHistoryDetails,n=e.orderDetails,a=n.orderDateOn,o=n.displayTodayDate,r=n.displayFormatOrderTime,d=n.fulfillmentDateTime,u=(n.occasionTime,t.isMobileView);if(Object(l.D)(n))return"".concat(Object(i.e)(Object(l.M)(n)||Object(l.L)(n)?null===c.a||void 0===c.a?void 0:c.a.REFUNDED:null===c.a||void 0===c.a?void 0:c.a.CANCELED),": ").concat(a);if(Object(s.x)(d)&&a===o){var v="".concat(a," ").concat(Object(i.e)(null===c.a||void 0===c.a?void 0:c.a.AT)," ");return a===o&&(v=Object(i.e)(null===c.a||void 0===c.a?void 0:c.a.SCHEDULE)+" ".concat(Object(i.e)(null===c.a||void 0===c.a?void 0:c.a.FOR)," ")+Object(i.e)(null===c.a||void 0===c.a?void 0:c.a.TODAY_AT)),"".concat(v," ").concat(r)}return"".concat(a," ").concat(u?" "+r:Object(i.e)(null===c.a||void 0===c.a?void 0:c.a.AT)+" "+r)}},1062:function(e,t,n){"use strict";var a=n(0),i=n(28),o=n(4),r=n.n(o),c=n(248),d=n(254),l=n(249),s=n(72),u=n(245),v=n(136),O=n(10),b=n(7),j=n(60),m=n(3),f=n(5);t.a=function(e){var t,n,p=r.a.useContext(j.a).userOrderState.dispositionStateData,h=void 0===p?{}:p,E=m.ac.DISPOSITION_TYPE,S=h.dispositionType,g=void 0===S?localStorage.getItem(E):S,T=e.locationAlertProp,N=e.negativeScenarioAlertProp,I=e.isMobile,x=e.onPositionChangeHandler,D=e.centerIndex,A=e.isVisible,C=e.setShowCard,_=e.locationAlert,y=e.setStoreMarker,R=void 0===y?function(){}:y,w=e.passAddress,L=e.storeCardHeight,M=e.latLongValue,k=e.isMarkerVisible,P=void 0===k||k,F=e.style,H=e.defaultZoom,U=void 0===H?10:H,B=e.shouldShowMarkerWithText,Y=void 0===B?g!==m.Bd:B,V=s.a.PLACE_PIN,G=r.a.createRef(),W=Object(o.useState)(!1),K=Object(i.a)(W,2),z=K[0],J=K[1],X=Object(o.useState)(!1),q=Object(i.a)(X,2),Q=q[0],Z=q[1],$=Object(o.useState)(U),ee=Object(i.a)($,2),te=ee[0],ne=ee[1],ae=Object(o.useState)(M),ie=Object(i.a)(ae,2),oe=ie[0],re=ie[1];Object(o.useEffect)((function(){t=ce(oe),n=de(oe)}),[]),Object(o.useEffect)((function(){Z(!1),z||re(M)}),[M]),Object(o.useEffect)((function(){ce(oe),n=de(oe)}),[oe,D,Q]);var ce=function(e){return new window.google.maps.Map(G.current,{zoom:te,center:Array.isArray(e)&&e.length>0?e[D]:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!I,gestureHandling:"greedy"})},de=function(e){var a=new window.google.maps.Geocoder,i=e;t=ce(i),A?Q||(t.addListener("zoom_changed",(function(){C(!1),Z(!0)})),t.addListener("drag",(function(){C(!1),Z(!0)}))):(t.addListener("drag",(function(){var e,a;ne(null===(e=t)||void 0===e?void 0:e.getZoom()),i={lat:t.getCenter().lat(),lng:t.getCenter().lng()},null===(a=n)||void 0===a||a.setPosition(i)})),window.google.maps.event.addListener(t,"dragend",(function(){var e;ne(null===(e=t)||void 0===e?void 0:e.getZoom()),function(e,t,n){e.geocode({location:n},(function(e,t){if(t===m.xc){var a,i=null===e||void 0===e?void 0:e.filter((function(e){var t;return!(null!==e&&void 0!==e&&null!==(t=e.types)&&void 0!==t&&t.includes(m.Lc))}));if(i[0])w(null===i||void 0===i||null===(a=i[0])||void 0===a?void 0:a.formatted_address,n)}}))}(a,0,i),J(!0)})));var o=Object(b.mc)(Array.isArray(i)&&i.length>0,i,[i]).map((function(e,n){var a=new window.google.maps.Marker({position:e,map:t,visible:P,icon:Object(b.xc)(!A,!Q&&A&&n===D)?Y?c.a:d.a:l.a});return a.addListener("click",(function(e){R(e.latLng),Z(!1),C(!0)})),a}));return Object(b.mc)(Array.isArray(i),o,o[0])};var le=Object(b.rd)(I,!Q,P,Y);return Object(f.jsxs)(r.a.Fragment,{children:[!T&&((null===g||void 0===g?void 0:g.toUpperCase())!==m.Bd||""!==N&&N?null:Object(f.jsx)("div",{className:"map-top-note ".concat(Object(b.mc)(_,"place-pin-off","")),children:Object(f.jsx)("div",{className:"map-top-note-text","data-testid":"map-top-text-test",children:Object(O.e)(V)})})),le&&Object(f.jsxs)("div",{className:"arrows",style:{bottom:"".concat(L+15,"px")},children:[Object(f.jsx)("span",{className:"map-arrow-left ".concat(Object(b.S)(0===D,"disableArrow")),"data-testid":"map-arrow-left",onClick:function(e){return Object(b.mc)(0===D,e.preventDefault(),x(0))},children:Object(f.jsx)(u.a,{srcFile:v.a,alt:"map-arrow-left"})}),Object(f.jsx)("span",{className:"map-arrow-right ".concat(D===oe.length-1&&"disableArrow"),"data-testid":"map-arrow-right",onClick:function(e){return D===oe.length-1?e.preventDefault():x(1)},children:Object(f.jsx)(u.a,{srcFile:v.a,alt:"map-arrow-right"})})]}),Object(f.jsx)("div",{id:"google-map",ref:G,style:Object(a.a)({height:"240px"},F)})]})}},1067:function(e,t,n){"use strict";var a=n(0),i=n(8),o=n(28),r=n(2),c=n.n(r),d=n(4),l=n.n(d),s=n(37),u=n(185),v=n.n(u),O=n(27),b=n.n(O),j=n(44),m=n(760),f=n(67),p=n(929),h=n(84),E=n(31),S=n(10),g=n(133),T=n(1021),N=n(11),I=n(7),x=n(3),D=n(69),A=n(935),C=n(224),_=n(757),y=n(5),R=function(e){var t=e.currencySymbol,n=e.currencyConversionFactor,a=e.unavailableItem,i=e.orderDetails,o=N.a.YOUR_ORDER,r=N.a.ITEM,c=N.a.TOTAL,d=N.a.ITEM_NOT_UNAVAILABLE,l=N.a.ITEM_CURRENLTY_UNAVAILABLE,s=Object(I.zc)(i),u=s.foodLines,v=void 0===u?[]:u,O=s.id,b=s.total,j=null===v||void 0===v?void 0:v.reduce((function(e,t){return e+(null===t||void 0===t?void 0:t.quantity)}),0),m=Object(I.ad)();return Object(y.jsxs)("div",{className:"reorder-item-section",children:[Object(y.jsx)("span",{className:"reorder-section-heading",children:Object(S.e)(o)}),Object(y.jsx)("div",{className:"".concat(Object(I.mc)(a.length>0,"error-can-not-deliver","hide-error-container")),children:Object(y.jsx)(A.a,{show:a.length>0,errorMsg:Object(S.e)(d),errImage:C.a.Error_Yellow,cssClass:"error-sub-container"})}),Object(y.jsx)("section",{className:"reorder-accordian",children:Object(y.jsxs)(_.a,{header:"".concat(j," ").concat(Object(S.e)(r)).concat(j>1?"s":""),children:[null===v||void 0===v?void 0:v.map((function(e){var i,o,r;return Object(y.jsx)("section",{className:"",children:Object(y.jsxs)("div",{className:"reorder-order-item",children:[Object(y.jsx)("div",{className:"reorder-item-details",children:Object(y.jsx)("div",{className:"item-count-box mr",children:Object(y.jsx)("span",{className:"item-count ml",children:null===e||void 0===e?void 0:e.quantity})})}),Object(y.jsxs)("div",{className:"item-desc-section",children:[Object(y.jsx)("span",{className:"item-desc item-desc-bold",children:null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.name}),a.find((function(t){var n;return(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.id)}))&&Object(y.jsxs)("span",{className:"item-desc unavailable-msg",children:[Object(y.jsx)(D.a,{srcFile:C.a.Error_Yellow,className:"unavailable-msg-icon"}),Object(S.e)(l)]})]}),!m&&Object(y.jsxs)("span",{className:"item-amount item-desc-bold",children:[t,Object(I.g)((null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.quantity)*(null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.unitPrice),n)," "]})]})})})),!m&&Object(y.jsxs)("div",{className:"reorder-payment-details mt-4 mb-4",children:[Object(y.jsx)("span",{className:"payment-total",children:Object(S.e)(c)}),Object(y.jsxs)("span",{className:"payment-total-amount",children:[t,Object(I.g)(b,n)]})]})]},"orderItem-".concat(O))})]})},w=n(49),L=function(e){var t,n=e.closeButtonHandler,i=e.onChangeDisposition,o=e.editDeliveryLocation,r=e.enableButton,c=e.onChangeRestaurant,d=e.currentOrderInfo,s=e.onClickOrderAgain,u=e.orderTypeDifferentError,v=e.storeError,O=e.isGenericError,b=e.isPastOrderValidationLoading,j=e.isAddItemLoading,m=e.storeChanged,f=e.currentStoreInfo,p=Object(I.tc)(m,f,d),h=p.modifiedStoreData,E=p.modifiedService,D=p.modifiedDeliveryAddress,A=Object(I.Db)(D,!0),C=N.a.REVIEW_ORDER,_=N.a.ORDER_TYPE,L=N.a.ORDER_TYPE_CHANGE,M=N.a.YOUR_KFC_RESTAURANT,k=N.a.YOUR_LOCATION,P=N.a.ORDER_AGAIN;return Object(y.jsx)(l.a.Fragment,{children:Object(y.jsxs)(g.a,{id:"ReOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:"re-order-id",show:!0,classNames:"reorder-modal-global extra-small-modal",showCloseBtn:!0,closeButtonHandler:n,backButtonHandler:n,modalTitle:Object(S.e)(C),closeDataTestId:"close-modal-handler",showBackBtn:!0,showFooterSection:!0,buttonVariant:w.b.secondary,footerBtnText:Object(S.e)(P),footerBtnHandler:s,footerBtnTestId:"reorder-order-it-again",disabledBtn:!!O||b||j||!r,loadingBtn:j,children:[Object(y.jsx)(T.a,{show:!0,sectionHeader:_,subSectionValue:E,orderTypeChange:L,onClickHandler:i,storeUnavailableError:u,isAlert:!0}),Object(y.jsx)(T.a,{show:E===x.S,sectionHeader:k,subSectionValue:A,description:(null===D||void 0===D?void 0:D.addressLines)>=1?null===D||void 0===D||null===(t=D.addressLines)||void 0===t?void 0:t[0]:"",orderTypeChange:L,onClickHandler:function(){return o(A)}}),Object(y.jsx)(T.a,{show:!0,sectionHeader:M,subSectionValue:null===h||void 0===h?void 0:h.name,orderTypeChange:L,onClickHandler:c,isAlert:!O,storeUnavailableError:v}),Object(y.jsx)(R,Object(a.a)({},e))]})})},M=n(12),k=n(60),P=n(86),F=n(755),H=n(38),U=n(20),B=n(921),Y=n(177),V=n(104);t.a=function(e){var t=e.currentOrderInfo,n=e.reorderModalOpen,r=e.closeButtonHandler,l=e.source,u=Object(I.zc)(t),O=u.service,g=u.id,T=u.store,D=u.name,A=Object(I.zc)(T).storeId,C=Object(s.b)(),_=Object(j.g)(),R=M.a.RESET_DELIVERY_ADDRESS_LINE,w=M.a.DISPOSITION_DATA,G=M.a.SCHEDULE_ORDER_DATA,W=M.a.SEARCH_ORDER_DATA,K=M.a.DISPOSITION_METHOD,z=M.a.USER_LOCALIZED,J=M.a.AUSTRALIA,X=M.a.CURRENT_STORE_INFO,q=M.a.SET_DISPOSITION,Q=M.a.SCHEDULE_ORDER_TIME_DATA,Z=M.a.REORDER_MODAL_OPEN,$=N.a.ORDER_TYPE_DIFFERENT_ERROR,ee=N.a.LOCATION_DIFFERENT_ERROR,te=N.a.STORE_CLOSED_ERROR,ne=Object(d.useContext)(k.a),ae=ne.userOrderState,ie=ne.userOrderStateDispatch,oe=ae.dispositionNew,re=ae.reorderFlag.storeChanged,ce=void 0!==re&&re,de=ae.currentStoreInfo,le=void 0===de?{}:de,se=ae.scheduleOrderData,ue=void 0===se?{}:se,ve=ue.changeFlow,Oe=void 0!==ve&&ve,be=ue.isAddressFlow,je=void 0!==be&&be;oe=Object(I.mc)(Object(I.Pc)(oe),JSON.parse(localStorage.getItem(x.ac.DISPOSITION_NEW)),oe);var me=Object(s.c)((function(e){var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),fe=Object(I.zc)(me),pe=fe.localized,he=void 0!==pe&&pe,Ee=fe.loggedIn,Se=void 0!==Ee&&Ee,ge=Object(I.vc)(he,Se),Te=Object(s.c)((function(e){return null===e||void 0===e?void 0:e.tenantReducer})),Ne=Object(I.zc)(Te),Ie=Ne.tenantId,xe=Ne.currencyConversionFactor,De=Ne.currencySymbol,Ae=Ne.componentOptions.web,Ce=(void 0===Ae?{}:Ae).shouldCheckDropOffAddress,_e=void 0!==Ce&&Ce,ye=Object(s.c)((function(e){return null===e||void 0===e?void 0:e.profileReducer})),Re=Object(I.zc)(ye).customerId,we=Object(s.c)((function(e){return null===e||void 0===e?void 0:e.postOrderReducer})),Le=Object(I.zc)(we).orderAccepted,Me=void 0===Le?{}:Le,ke=Object(s.c)((function(e){return null===e||void 0===e?void 0:e.reorderReducer})),Pe=Object(I.zc)(ke).flatResponse,Fe=Object(I.zc)(Pe).items,He=void 0===Fe?[]:Fe,Ue=Object(s.c)((function(e){return null===e||void 0===e?void 0:e.cartReducer})),Be=Object(s.c)((function(e){return null===e||void 0===e?void 0:e.menuReducer})),Ye=Object(s.c)((function(e){var t,n,a;return(null===(t=e.postOrderReducer)||void 0===t?void 0:t.orderAcceptedLoading)||(null===(n=e.storesReducer)||void 0===n?void 0:n.isStoreDetailsLoading)||(null===(a=e.LoaderReducer)||void 0===a?void 0:a.isLoading)})),Ve=Object(I.zc)(Be).flatResponse,Ge=void 0===Ve?[]:Ve,We=(Object(I.zc)(Ge).products,Object(I.zc)(Ue)),Ke=We.cartData,ze=We.isAddItemLoading,Je=We.currentItemId,Xe=Me.discountLines,qe=void 0===Xe?[]:Xe,Qe=Me.foodLines,Ze=void 0===Qe?[]:Qe,$e=Object(I.S)(qe,(null===qe||void 0===qe?void 0:qe.length)-1),et=Object(I.S)(qe,qe[$e]),tt=Object(I.zc)(et),nt=tt.couponCode,at=void 0===nt?"":nt,it=tt.amount,ot=void 0===it?"":it,rt=Object(I.g)(ot,xe),ct=Object(d.useState)([]),dt=Object(o.a)(ct,2),lt=dt[0],st=dt[1],ut=Object(d.useState)(n),vt=Object(o.a)(ut,2),Ot=vt[0],bt=vt[1],jt=Object(d.useState)(null),mt=Object(o.a)(jt,2),ft=mt[0],pt=mt[1],ht=Object(d.useState)(null),Et=Object(o.a)(ht,2),St=Et[0],gt=Et[1],Tt=Object(d.useState)(null),Nt=Object(o.a)(Tt,2),It=Nt[0],xt=Nt[1],Dt=Object(d.useState)(null),At=Object(o.a)(Dt,2),Ct=At[0],_t=At[1],yt=Object(d.useState)(!1),Rt=Object(o.a)(yt,2),wt=Rt[0],Lt=Rt[1],Mt=Object(d.useState)({}),kt=Object(o.a)(Mt,2),Pt=kt[0],Ft=kt[1],Ht=Object(d.useState)(!1),Ut=Object(o.a)(Ht,2),Bt=Ut[0],Yt=Ut[1],Vt=Object(d.useState)(!1),Gt=Object(o.a)(Vt,2),Wt=Gt[0],Kt=Gt[1];Object(d.useEffect)((function(){Object(I.S)(wt,Je)&&(Lt(!1),_.push(x.Wc.CART))}),[wt,Je]);var zt=Object(I.g)(null===Me||void 0===Me?void 0:Me.total,xe),Jt=Object(d.useCallback)((function(){bt(!1),ie({type:R}),ie({type:w,value:{showDisposition:!0}}),ie({type:G,value:{showScheduleOrder:!1}}),ie({type:W,value:{showSearchStore:!1}}),ie({type:Z,value:{reorderModalOpen:!1}})}),[ie]),Xt=Object(d.useCallback)((function(e){var t=v()(It,{});t&&(ie({type:K,value:{dispositionType:t.service}}),Object(F.a)(je,t,P.a,Oe,!0,e,ie),ie({type:Z,value:{reorderModalOpen:!1}}))}),[ie,Oe,je,It]),qt=Object(d.useCallback)((function(e){if(!Object(I.Pc)(e)){var t,n=e.summary,a=Object(I.zc)(null===n||void 0===n?void 0:n.timings),i=a.futureDates,o=a.scheduled,r=a.asap,c=o&&o.periods.length&&o.periods[0],d=c.interval,l=void 0===d?0:d,s=c.startEndTime,u=void 0===s?{}:s,v=u.from,O=u.to;return Object(F.f)(v,O,l,null===r||void 0===r?void 0:r.isAvailable,Object(I.S)(1===i.length,(null===Te||void 0===Te?void 0:Te.country)===J)),{time:x.i,interval:null===n||void 0===n||null===(t=n.timings.scheduled.periods[0])||void 0===t?void 0:t.interval,date:new Date,selectedTime:x.i}}})),Qt=function(e){var t=e;return e.forEach((function(t,n){var a;e[n].modifiers=null===(a=t.modifiers)||void 0===a?void 0:a.filter((function(e){return!0===e.isAdded}))})),t},Zt=function(e,t){var n=[],a=0,i=[];return null===e||void 0===e||e.map((function(e){var o,r,c,d,l=function(e,t){var n,a,i,o=Object(U.i)(),r=t.filter((function(t){return t.id===e}))||{},c=null===(n=r[0])||void 0===n||null===(a=n.availability[0])||void 0===a?void 0:a.availableHours,d=null===c||void 0===c?void 0:c.startTime.time,l=null===c||void 0===c?void 0:c.endTime.time,s=Object(U.e)(o,d,l);return(null===(i=r[0])||void 0===i?void 0:i.isHidden)?{isAvailable:"hidden",product:r}:{isAvailable:s,product:r}}(e.item.id,t),s=l.isAvailable,u=l.product;"hidden"!==s&&(s?n.push({Id:e.item.id,quantity:e.quantity,categoryUrl:null===u||void 0===u||null===(o=u[0])||void 0===o||null===(r=o.categoryUrl)||void 0===r?void 0:r[0],categoryName:null===u||void 0===u||null===(c=u[0])||void 0===c?void 0:c.categoryName,modGrps:Qt(null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.modGrps)}):(a+=1,i.push(e.item)))})),st(i),{unAval:a,itemArr:n}},$t=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,a,i,o,r,d,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(I.sc)(It),n=t.deliveryAddress,a=void 0===n?null:n,i=t.service,!Object(I.Qc)(a)){e.next=7;break}return o=Object(I.Db)(a),e.next=5,Object(Y.geocodeByAddress)(o);case 5:r=e.sent,Object(I.Rd)(i,r);case 7:localStorage.setItem(x.ac.SERVICE_TYPE,Object(I.sb)(i)),d=x.g.AUD,s=[],null===Ze||void 0===Ze||Ze.forEach((function(e,t){var n,a,i,o,r=Object(I.g)(null===e||void 0===e?void 0:e.unitPrice,xe);s.push({item_name:Object(I.U)(null===e||void 0===e||null===(n=e.item)||void 0===n||null===(a=n.dname[0])||void 0===a?void 0:a.value,"NA"),item_id:Object(I.U)(null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.id,"NA"),price:Object(I.U)(parseFloat(r),"NA"),coupon:at,currency:d,discount:rt,item_category:(null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.categoryName)||"NA",item_list_name:l,item_list_id:"",index:t+0,quantity:Object(I.U)(null===e||void 0===e?void 0:e.quantity,"NA")})})),Object(B.i)(s,ge,d,zt),Ze.length>0&&(C(Object(E.q)()),Yt(!0)),l===(null===x.Sc||void 0===x.Sc?void 0:x.Sc.HOME_FAVOURITES)&&Object(B.j)(ge,D);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){if(Object(I.h)([Ze.length>0,He.length>0,Bt])){var e=Object(I.zc)(Ke).id,t=Zt(Ze,He);!function(e,t,n,a,i,o,r){t.unAval!==n.length&&e(Object(E.a)({params:{basketId:a},tenantId:i},t.itemArr,(function(e){o(!0),r()})))}(C,t,Ze,e,Ie,Lt,r),C(Object(f.a)(Object(a.a)(Object(a.a)({},me),{},{localized:!0}))),Yt(!1)}}),[Ze,He,Bt]);var en=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,a,i,o,r,d,l,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(I.sc)(It),n=t.lang,a=t.catalog,i=t.storeId,o=t.deliveryAddress,r=t.storename,d=t.service,l=ce?o:null===Pt||void 0===Pt?void 0:Pt.deliveryAddress,s={id:i,summary:{menu:{catalogs:[a]}},addresses:[{lang:n}]},e.next=5,Object(I.s)(s,Object(I.sb)(d),Re,{time:x.i,date:new Date,selectedTime:x.i},Object(I.Db)(l,!0));case 5:u=e.sent,C(Object(E.f)({data:u,tenantId:Ie,successCallback:function(){return e=a,t=i,n=d,Object(V.g)(),void C(Object(p.b)({tenantId:Ie,catalogName:e},{storeId:t,channel:H.b.channel,service:n},(function(){return tn(It,Pt)})));var e,t,n},errorCallback:function(){var e;return _t(null===(e=Object(S.e)(te))||void 0===e?void 0:e.replace("$storeName",'<b class="item-desc-bold">'.concat(r,"</b>")))}}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tn=function(e,t){var n,a=v()(e,{}),i=ce?Object(I.sc)(e):t,o=i.deliveryAddress,r=i.service;ie({type:K,value:{dispositionType:r}});var c=qt(a),d={type:r,store:a,date:null===c||void 0===c?void 0:c.date,time:null===c||void 0===c?void 0:c.time,interval:null===c||void 0===c?void 0:c.interval,selectedTime:null===c||void 0===c?void 0:c.selectedTime,deliveryAddress:Object(I.Db)(o,!0),deliveryAddressLine:(null===o||void 0===o?void 0:o.addressLines)>=1?null===o||void 0===o||null===(n=o.addressLines)||void 0===n?void 0:n[0]:""};ie({type:q,value:{oldvalue:oe,newValue:d}}),localStorage.setItem(x.ac.DISPOSITION_OLD,JSON.stringify(null)),localStorage.setItem(x.ac.DISPOSITION_NEW,JSON.stringify(d)),ie({type:W,value:{showSearchStore:!1}}),ie({type:z,value:{isLocalized:!0}}),ie({type:X,value:a}),localStorage.setItem(x.ac.CURRENT_STORE_INFO_STORAGE,JSON.stringify(a)),localStorage.setItem(x.ac.STORE_INFO,JSON.stringify(a)),ie({type:Q,value:{selectedDateTime:c}}),localStorage.setItem(x.ac.TENANT_REDUCER,JSON.stringify(Te)),localStorage.setItem(x.ac.SELECTED_TILE,JSON.stringify({})),localStorage.setItem(x.ac.CONFIG_SEARCH_SCREEN,P.a),localStorage.setItem(x.ac.DISPOSITION_TYPE,r),localStorage.setItem(x.ac.DATE_TIME_ORDER,JSON.stringify(c)),$t()};return Object(d.useEffect)((function(){var e=Object(I.tc)(ce,le,t),n=e.modifiedStoreId,i=e.modifiedStoreData,o=e.modifiedService,r=e.modifiedDeliveryAddress;C(Object(h.j)({storeId:n,tenantId:Ie},(function(e){var t={data:Object(I.u)([i],o,r,_e),store:[Object(a.a)(Object(a.a)({},e),{},{service:o})],tenantId:Ie,setStatusFlag:!1,isFavoritePage:!1};C(Object(h.d)(t,(function(e){xt(e),C(Object(m.c)({tenantId:Ie,orderId:g,customerId:Re},(function(t){return function(e,t){if(bt(!0),Ft(t),Kt(!0),e.length){var n,a=v()(e,{}),i=b()(a,"summary",{}),o=b()(i,"status",{}).currentStatus,r=b()(i,"name",{});if(o===x.D&&_t(null===(n=Object(S.e)(te))||void 0===n?void 0:n.replace("$storeName",'<b class="item-desc-bold">'.concat(r,"</b>"))),me.localized){var c,d,l;if(Object(I.Pd)(null===(c=oe)||void 0===c?void 0:c.type)!==Object(I.Pd)(O)){var s,u,j=null===(s=Object(S.e)($))||void 0===s?void 0:s.replace("$previousOrderType",'<b class="item-desc-bold capitalize-text">'.concat(O,"</b>")).replace("$currentOrderType",'<b class="item-desc-bold capitalize-text">'.concat(null===(u=oe)||void 0===u?void 0:u.type,"</b>"));pt(j)}A!==(null===(d=oe)||void 0===d||null===(l=d.store)||void 0===l?void 0:l.id)&&gt(ee)}}}(e,t)})))})))})))}),[]),Object(I.mc)(Ot,Object(y.jsx)(L,Object(a.a)(Object(a.a)({},e),{},{onChangeDisposition:Jt,editDeliveryLocation:Xt,onChangeRestaurant:function(){var e,t=v()(It,{});t&&(bt(!1),ie({type:K,value:{dispositionType:t.service}}),Object(I.ce)(ie,null===(e=t.summary)||void 0===e?void 0:e.name),ie({type:Z,value:{reorderModalOpen:!1}}))},onClickOrderAgain:en,unavailableItem:lt,orderTypeDifferentError:ft,storeError:Object(I.U)(Ct,St),currencySymbol:De,currencyConversionFactor:xe,isGenericError:Ct,orderDetails:Me,isPastOrderValidationLoading:Ye,isAddItemLoading:ze,enableButton:Wt,storeChanged:ce,currentStoreInfo:le})),null)}},1068:function(e,t,n){"use strict";var a=n(0),i=n(28),o=n(4),r=n(37),c=n(47),d=n(41),l=n(807),s=n(10),u=n(11),v=n(133),O=n(69),b=n(224),j=n(7),m=n(49),f=n(5),p=function(e){var t=e.onCancel,n=e.setOccasionNameHandler,a=e.updateFavouriteOrder,i=e.occasionName,o=e.isNameExist,r=e.isInValid,c=e.isEditOrderName,d=void 0!==c&&c,l=e.onClearTextHandler,v=e.disaableButton,j=e.editFavHeading,p=void 0!==j&&j,h=e.isAddFavOrderBox,E=void 0!==h&&h,S=u.a.CANCEL,g=u.a.SAVE,T=u.a.OCCASSION_ADD_HEADING,N=u.a.OCCASSION_EDIT_HEADING,I=u.a.ORDER_PLACEHOLDER,x=u.a.NAME_EXIST,D=u.a.OCCASION_NAME_VALIDATION,A=u.a.EDIT_FAVOURITE_HEADING,C=u.a.SAVE_FAV_ORDER,_=d?p?A:N:T,y=r?"special-char-error":"name-exist-error";return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"InputHeading",children:Object(s.e)(E?C:_)}),Object(f.jsx)("form",{children:Object(f.jsxs)("div",{className:"inputLookUpNumbox",children:[Object(f.jsx)("input",{value:i,type:"text","data-testid":"occasion-input",className:o||r?"error-input":"occasion-input-box",required:!0,maxLength:50,onChange:function(e){return n(e)}}),Object(f.jsx)("label",{children:Object(s.e)(I)}),(o||r)&&Object(f.jsxs)("div",{className:"error-text-container ".concat(y),children:[Object(f.jsx)(O.a,{srcFile:b.a.Error}),Object(f.jsx)("span",{className:"error-text",children:Object(s.e)(r?D:x)})]}),""!==i?Object(f.jsx)("img",{src:b.a.clearTextIcon,alt:"clear-text-btn","data-testid":"clear-text-btn",className:"clearTextIcon",onClick:function(){return l()}}):null]})}),Object(f.jsxs)("div",{className:"buttonItems",children:[Object(f.jsx)(m.a,{"data-testid":"occasion-cancel-button",className:"button whiteButton blackBorder closebtn-cls",onClick:function(){return t()},children:Object(s.e)(S)}),Object(f.jsx)(m.a,{disabled:v,"data-testid":"submit-button",className:"button blackButton blackBorder save-button",onClickHandler:function(){return a()},children:Object(s.e)(g)})]})]})},h=n(3);t.a=function(e){var t=e.isMobile,n=e.editItemId,m=e.setEditItemId,E=e.showOccassionModal,S=e.setOccassionModalOpen,g=e.cardInfo,T=e.toastmessage,N=e.hasEdit,I=void 0!==N&&N,x=e.occasionName,D=e.setOccasionName,A=e.isAddFavOrderBox,C=e.updateSetOrderDetails,_=Object(r.b)(),y=Object(o.useState)(""),R=Object(i.a)(y,2),w=R[0],L=R[1],M=Object(o.useState)(""),k=Object(i.a)(M,2),P=k[0],F=k[1],H=Object(o.useState)(!0),U=Object(i.a)(H,2),B=U[0],Y=U[1],V=Object(o.useState)([]),G=Object(i.a)(V,2),W=G[0],K=G[1],z=Object(r.c)((function(e){var t;return Object(j.yc)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)})),J=Object(r.c)((function(e){var t;return Object(j.zc)(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)})),X=J.id,q=J.phone,Q=Object(r.c)((function(e){return Object(j.zc)(e.tenantReducer)})).tenantId,Z=Object(o.useState)(!1),$=Object(i.a)(Z,2),ee=$[0],te=$[1],ne=Object(o.useState)(!1),ae=Object(i.a)(ne,2),ie=ae[0],oe=ae[1],re=b.a.FavoriteActiveWhite,ce=Object(f.jsx)(O.a,{srcFile:re}),de=Object(s.e)(u.a.FAVORITE_ORDER_NAME_EDITED),le=Object(j.mc)(I,"occassion-modal","OccassionModal"),se=Object(j.mc)(I,"edit-modal","");Object(o.useEffect)((function(){var e;null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]),Object(o.useEffect)((function(){F(x),L(x)}),[E]),Object(o.useEffect)((function(){""!==w&&Object(j.S)(!ee,!ie)?Y(!1):Y(!0)}),[w,ee,ie]);var ue=Object(j.mc)(I,(function(){var e,t=null===w||void 0===w?void 0:w.trim(),a=null===W||void 0===W?void 0:W.indexOf(null===t||void 0===t?void 0:t.toUpperCase()),i=null===h.fd||void 0===h.fd||null===(e=h.fd.FAVORITES_ORDERS_REGEX)||void 0===e?void 0:e.test(w),o=null===t||void 0===t?void 0:t.replace(/ /g,"").length;if(Object(j.U)(!i,0===o))te(!0);else if(i&&a>=0&&P!==w)oe(!0),te(!1);else{var r={tenantId:Q,customerId:X,phoneNumber:Object(j.fc)(q)},d={orderId:n,name:w};_(Object(l.a)(r,d)),m(""),Oe(),Object(j.Zd)(de,ce,"favorites-added-toast"),setTimeout((function(){c.b.dismiss()}),3e3)}}),(function(){var e,t=null===w||void 0===w?void 0:w.trim(),n=null===W||void 0===W?void 0:W.indexOf(null===t||void 0===t?void 0:t.toUpperCase()),a=null===h.fd||void 0===h.fd||null===(e=h.fd.FAVORITES_ORDERS_REGEX)||void 0===e?void 0:e.test(w),i=null===t||void 0===t?void 0:t.replace(/ /g,"").length;if(Object(j.U)(!a,0===i))te(!0);else if(a&&n>=0)oe(!0),te(!1);else{var o=g.id;_(Object(l.a)({customerId:X,tenantId:Q,phoneNumber:Object(j.fc)(q)},{orderId:o,name:w})),Object(j.S)(E,C)&&C({saveFavoriteSummarySucess:!0}),Oe(),Object(j.Zd)(T,ce,"favorites-added-toast"),setTimeout((function(){c.b.dismiss()}),3e3)}}));Object(o.useEffect)((function(){var e=[];null===z||void 0===z||z.map((function(t){var n,a;return null===e||void 0===e?void 0:e.push(null===t||void 0===t||null===(n=t.name)||void 0===n||null===(a=n.toUpperCase())||void 0===a?void 0:a.trim())})),K(e),n&&(te(!1),oe(!1))}),[n]);var ve={id:"occassion-modal",role:"dialog",modalTitleId:le,show:E,classNames:"Base-modal ".concat(Object(j.mc)(t,"Mobile-occassion-modal","Occassion-modal")),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:function(){return Oe()},modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0},Oe=Object(j.mc)(I,(function(){oe(!1),te(!1),S(!1)}),(function(){S(!1)}));return Object(o.useEffect)((function(){!function(e,t,n,a){if(e){var i={customerId:t,tenantId:e,phoneNumber:Object(j.fc)(n),updateUserData:!0};a(Object(d.d)(i))}}(Q,X,q,_)}),[_,Q,X,q]),Object(f.jsx)("div",{className:"account-order-desktop",id:"favourite-orders-global",children:Object(f.jsx)("div",{className:"sub-section sub-section-favourite",children:Object(f.jsx)("section",{children:Object(f.jsx)(v.a,Object(a.a)(Object(a.a)({},ve),{},{children:Object(f.jsx)("div",{className:"OccassionModal add-occassion-global",children:Object(f.jsx)(p,{onCancel:Oe,setOccasionNameHandler:function(e){var t,n,a,i,o=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value,r=null===W||void 0===W?void 0:W.indexOf(null===o||void 0===o?void 0:o.toUpperCase()),c=null===h.fd||void 0===h.fd||null===(n=h.fd.FAVORITES_ORDERS_REGEX_NEW)||void 0===n?void 0:n.test(o);c?Object(j.S)(c,r>=0)?(oe(!0),te(!1)):(te(!1),oe(!1)):te(!0),D(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value),L(null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.value)},updateFavouriteOrder:ue,occasionName:w,isNameExist:ie,isInValid:ee,onClearTextHandler:function(){D(""),L(""),oe(!1),te(!1)},disaableButton:B,isEditOrderName:I,editFavHeading:I,"data-testid":se,isAddFavOrderBox:A})})}))})})})}},1092:function(e,t,n){"use strict";(function(e){var a=n(32),i=n(33),o=n(0),r=n(28),c=n(4),d=n(37),l=n(1056),s=n(41),u=n(84),v=n(99),O=n(10),b=n(7),j=n(845),m=n(1093),f=n(3),p=n(11),h=n(43),E=n(942),S=n(5);t.a=function(t){var n,g,T=Object(d.b)(),N=t.modalType,I=t.toggleModal,x=t.updateSetOrderDetails,D=j.b.HIDDEN,A=j.b.DELIVERY_SERVICE,C=j.b.CHANNEL,_=j.b.INITIAL_STATE,y=j.b.MAX_DELIVERY_DISTANCE,R=j.b.NO_OF_STORE_FOR_DELIVERY,w=j.d.FIELD_NAME,L=p.a.ADDRESS_UPDATED,M=p.a.SAVED_DELIVERY_ADDRESS,k=Object(d.c)((function(e){return e.storesReducer})).allStores,P=Object(d.c)((function(e){return e.profileReducer})).savedAddresses,F=Object(d.c)((function(e){return e.tenantReducer})),H=F.tenantId,U=void 0===H?"":H,B=F.storeSearch,Y=void 0===B?{}:B,V=(F.deliveryAddressMapping,Object(b.mc)(Object(b.Qc)(null===t||void 0===t?void 0:t.address),null===t||void 0===t?void 0:t.address,_)),G=Object(c.useState)(V),W=Object(r.a)(G,2),K=W[0],z=W[1],J=Object(c.useState)(!1),X=Object(r.a)(J,2),q=X[0],Q=X[1],Z=null===Y||void 0===Y?void 0:Y.geohashprecision,$=(null===Y||void 0===Y?void 0:Y.boundingBoxSizeMeters)/1e3,ee=Object(c.useState)(!1),te=Object(r.a)(ee,2),ne=te[0],ae=te[1],ie=Object(c.useState)(!1),oe=Object(r.a)(ie,2),re=oe[0],ce=oe[1],de=Object(l.a)({requestOptions:{componentRestrictions:{country:null===(n=e)||void 0===n||null===(g=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===g?void 0:g.REACT_APP_TENANT_CODE}},debounce:300}),le=de.ready,se=de.value,ue=de.suggestions,ve=de.setValue,Oe=de.clearSuggestions,be=Object(c.useRef)(null),je=function(){document.querySelector("body").style.overflow="",I(!1),T(Object(u.q)())};Object(c.useEffect)((function(){var e,t;N&&v.a.calculateGH({lat:parseFloat(Object(b.U)(null===K||void 0===K||null===(e=K.location)||void 0===e?void 0:e.latitude,null===K||void 0===K?void 0:K.latitude)),lon:parseFloat(Object(b.U)(null===K||void 0===K||null===(t=K.location)||void 0===t?void 0:t.longitude,null===K||void 0===K?void 0:K.longitude)),distanceFromCurrentLoc:$,geoHashPrecision:Z});document.querySelector("body").style.overflow=D}),[]),Object(c.useEffect)((function(){return document.addEventListener("mousedown",me),function(){document.removeEventListener("mousedown",me)}}));var me=function(e){be.current&&!be.current.contains(e.target)&&Oe()},fe=function(){var e,t,n,a,i;return!(!(null!==K&&void 0!==K&&null!==(e=K.addressLines[1])&&void 0!==e&&e.length&&null!==K&&void 0!==K&&null!==(t=K.city)&&void 0!==t&&t.length&&null!==K&&void 0!==K&&null!==(n=K.pinCode)&&void 0!==n&&n.length&&null!==K&&void 0!==K&&null!==(a=K.state)&&void 0!==a&&a.length&&null!==K&&void 0!==K&&null!==(i=K.deliveryOptions)&&void 0!==i&&i.length)||ne||re)},pe=function(e){var t,n,a;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude)&&(null===e||void 0===e||null===(a=e.availableServicesPerChannel)||void 0===a?void 0:a.filter((function(e){var t;return(null===e||void 0===e?void 0:e.channel)===C&&(null===e||void 0===e||null===(t=e.services)||void 0===t?void 0:t.disposition)===A})))},he=function(){var e=P.map((function(e){return e.name})),t=Object(a.a)(e).filter((function(e){return e.indexOf("Addresses")>-1}));return Ee(t,"Addresses 1")},Ee=function e(t,n){var a=n;return t.includes(a)?e(t,a=a.replace(/(\d+)+/g,(function(e,t){return parseInt(t)+1}))):a};return Object(S.jsx)(m.a,Object(o.a)(Object(o.a)({},t),{},{setValue:ve,value:se,error:q,addresses:K,handleChange:function(e){var t=e.target,n=t.name,a=t.value,r=Object(b.mc)(n===w.NAME,a,K.name);if(n!==w.DELIVERY_OPTION){if(""!==r){var c=function(e){return!!Object(b.mc)(!N,P,P.filter((function(e){return(null===e||void 0===e?void 0:e.id)!==(null===V||void 0===V?void 0:V.id)}))).find((function(t){var n;return(null===t||void 0===t||null===(n=t.name.toUpperCase())||void 0===n?void 0:n.trim())===e.toUpperCase().trim()}))}(r),d=null===f.fd||void 0===f.fd?void 0:f.fd.FAVORITES_ORDERS_REGEX_NEW.test(r);d?c?(ae(!0),ce(!1)):(ce(!1),ae(!1)):(ae(!1),ce(!d))}else ce(!1),ae(!1);if(n!==w.FLOOR){if(t.type!==w.CHECKBOX)z(Object(o.a)(Object(o.a)({},K),{},Object(i.a)({},n,a)));else P.find((function(e){return e.isPrimary&&e.id===K.id}))||z(Object(o.a)(Object(o.a)({},K),{},Object(i.a)({},n,!("true"===a))))}else{z(Object(o.a)(Object(o.a)({},K),{},Object(i.a)({},n,a)));var l=[a,null===K||void 0===K?void 0:K.addressLines[1]];z(Object(o.a)(Object(o.a)({},K),{},{addressLines:l}))}}else z(Object(o.a)(Object(o.a)({},K),{},Object(i.a)({},n,a!==f.T[0]?a:"")))},handleInput:function(e){ve(e.target.value);var t=[null===K||void 0===K?void 0:K.addressLines[0],e.target.value];z(Object(o.a)(Object(o.a)({},K),{},{addressLines:t}))},ready:le,suggestionRef:be,suggestions:ue,handleSelect:function(t){var n=t.description,a=t.structured_formatting;a.main_text,a.secondary_text;return function(){var t,a;Q(!1),Oe(),T(Object(u.q)()),Object(l.b)({address:n,componentRestrictions:{country:null===(t=e)||void 0===t||null===(a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===a?void 0:a.REACT_APP_TENANT_CODE}}).then((function(e){return Object(E.e)(f.tc,e[0],ve,z,Oe,fe),Object(l.c)(e[0])})).then((function(e){v.a.calculateGH({lat:parseFloat(null===e||void 0===e?void 0:e.lat),lon:parseFloat(null===e||void 0===e?void 0:e.lng),distanceFromCurrentLoc:$,geoHashPrecision:Z}),z((function(t){return Object(o.a)(Object(o.a)({},t),{},{latitude:null===e||void 0===e?void 0:e.lat,longitude:null===e||void 0===e?void 0:e.lng})}))})).catch((function(e){console.log("Error: ",e)}))}},checkFormValidation:fe,handleSubmit:function(e){var t=function(e){var t,n,a=["",""];return a[1]=e.addressLines[1],a[0]=Object(b.U)(null===e||void 0===e?void 0:e.floor,e.addressLines[0]),{addressId:Object(b.Bc)(null===e||void 0===e?void 0:e.id),addressName:Object(b.U)(e.name,he()),city:e.city,postalCode:null===e||void 0===e?void 0:e.pinCode,state:e.state,country:Object(b.Bc)(e.country),isPrimary:Object(b.db)(e.isPrimary,P.length<1,!1),location:{latitude:Object(b.U)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude,null===e||void 0===e?void 0:e.latitude),longitude:Object(b.U)(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude,null===e||void 0===e?void 0:e.longitude)},addressLines:a,deliveryInstructions:null===e||void 0===e?void 0:e.deliveryInstructions,deliveryOptions:null===e||void 0===e?void 0:e.deliveryOptions}}(K),n=null===k||void 0===k?void 0:k.filter(pe),a=null===Y||void 0===Y?void 0:Y.maxDriveTimeMins,i=Object(b.U)(null===Y||void 0===Y?void 0:Y.maxDeliveryDistanceMtrs,y),o=v.a.checkAndProceed({stores:n,disposition:A,distanceMetrics:null===Y||void 0===Y?void 0:Y.distanceMetrics,driveTime:a,distanceInMtrs:i,noOfStores:R});if(e&&x({savedAddressSucess:!0}),null!==o&&void 0!==o&&o.length||e){var r=h.a.getInstance(),c=r.customerId,d=r.phoneNumber;T(Object(s.a)({customerId:c,phoneNumber:d,tenantId:U,data:t})),je();var l=Object(b.mc)(N,Object(O.e)(L),Object(O.e)(M));Object(b.Yd)(l,"","favorites-added-toast")}else Q(!0)},isNameExist:ne,isInvalidName:re,handleClose:je,savedAddresses:P}))}}).call(this,n(85))},1093:function(e,t,n){"use strict";var a=n(0),i=(n(4),n(10)),o=n(49),r=n(69),c=n(133),d=n(845),l=n(806),s=n(224),u=n(3),v=n(11),O=n(7),b=n(5),j=function(e,t,n){return(null===t||void 0===t?void 0:t.toUpperCase())===d.b.OK&&e.map((function(e){var t,a=e.place_id,i=e.structured_formatting,o=i.main_text,c=i.secondary_text;return Object(b.jsx)(b.Fragment,{children:(null===(t=e.terms.filter((function(e){return e.value===d.b.AUSTRALIA})))||void 0===t?void 0:t.length)>0&&Object(b.jsxs)("li",{"data-testid":"address-suggestion-id",className:"address-suggestion-text",onClick:n(e),children:[Object(b.jsx)(r.a,{srcFile:s.a.SuggestionItemSearchPin,alt:"googleMapLocation",className:"suggetion-pin"}),Object(b.jsxs)("span",{className:"address-text",children:[o," ",c]})]},a)})}))};t.a=function(e){var t=e.setValue,n=e.value,m=e.isOpen,f=e.handleClose,p=e.modalType,h=e.error,E=e.addresses,S=e.handleChange,g=e.handleInput,T=e.ready,N=e.suggestionRef,I=e.suggestions,x=e.handleSelect,D=e.checkFormValidation,A=e.handleSubmit,C=e.isNameExist,_=e.isInvalidName,y=e.savedAddresses,R=void 0===y?[]:y,w=e.isAddressFromOrderProcessing,L=void 0!==w&&w,M=I.data,k=I.status,P=d.b.ADD_NEW_ADDRESS,F=d.b.EDIT_DELIVERY_ADDRESS,H=d.b.NOT_SERVICEABLE,U=d.b.SPECIAL_CHAR_ERROR,B=d.b.NAME_EXIST_ERROR,Y=d.b.ADDRESS_ERROR_MSG,V=v.a.CANCEL,G=v.a.SAVE,W=v.a.ADDRESS_NICK_NAME,K=d.d.ADDRESS,z=d.d.APT_SUITE_FLOOR,J=d.d.POSTAL_CODE,X=d.d.CITY_TOWN,q=d.d.MAKE_THIS_DEFAULT_ADD,Q=d.d.STATE,Z=d.d.DELIVERY_OPTION,$=d.d.DELIVERY_INSTRUCTION,ee={id:"AddressModalPopup",role:"dialog",modalTitleId:"AddressModalPopup",show:m,classNames:"address-module-modal edit-addr-model",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:f,modalTitle:p?F:P,autoFocus:!0},te=function(e){return e.preventDefault(),!1};return Object(b.jsxs)(c.a,Object(a.a)(Object(a.a)({},ee),{},{"data-testid":"address-modal-landing-page",children:[C&&Object(b.jsx)("div",{className:"addr-error-container",children:Object(b.jsxs)("div",{className:"error-sub-container",children:[Object(b.jsx)(r.a,{srcFile:s.a.Error,className:"location-alert-icon mr-1"}),Object(b.jsx)("div",{className:"error-msg",children:Object(i.e)(Y)})]})}),Object(b.jsx)("div",{className:"address-form-section",children:Object(b.jsxs)("div",{className:"form-container",children:[h&&Object(b.jsx)("div",{className:"error-service-msg",children:Object(i.e)(H)}),Object(b.jsx)("div",{className:"form-header",children:Object(i.e)(K)}),Object(b.jsxs)("form",{autocomplete:"off",children:[Object(b.jsxs)("div",{className:"input-container ".concat((C||_)&&"error-input-container"),children:[Object(b.jsx)("input",{required:!0,type:"text","data-testid":"name-testid",name:"name",value:null===E||void 0===E?void 0:E.name,onChange:S,className:C||_?"error-input":""}),Object(b.jsx)("label",{children:Object(i.e)(W)}),(C||_)&&Object(b.jsxs)("div",{className:"error-text-container",children:[Object(b.jsx)(r.a,{srcFile:s.a.Error}),Object(b.jsx)("span",{className:"error-text",children:Object(i.e)(_?U:B)})]})]}),Object(b.jsxs)("div",{className:"input-container",children:[Object(b.jsx)("input",{"data-testid":"search-input-address",value:n||(null===E||void 0===E?void 0:E.addressLines[1]),onChange:g,disabled:!T,name:"addressLine",onFocus:function(){return t(n)},required:!0,type:"text"}),Object(b.jsxs)("label",{children:[Object(i.e)(K),"*"]}),Object(b.jsx)("ul",{ref:N,className:"address-list",children:j(M,k,x)})]}),Object(b.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(b.jsxs)("div",{className:"input-container",children:[Object(b.jsx)("input",{required:!0,type:"text",name:"floor",value:(null===E||void 0===E?void 0:E.floor)||(null===E||void 0===E?void 0:E.addressLines[0]),onChange:S,"data-testid":"floor-test-id"}),Object(b.jsx)("label",{children:Object(i.e)(z)})]}),Object(b.jsxs)("div",{className:"input-container ml5",children:[Object(b.jsx)("input",{required:!0,type:"text",name:"pinCode",onKeyDown:function(e){return te(e)},onKeyPress:function(e){return te(e)},value:null===E||void 0===E?void 0:E.pinCode,tabIndex:"-1","data-testid":"pincode-id",onChange:S}),Object(b.jsxs)("label",{children:[Object(i.e)(J),"*"]})]})]}),Object(b.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(b.jsxs)("div",{className:"input-container",children:[Object(b.jsx)("input",{required:!0,type:"text",tabIndex:"-1",name:"city",onKeyDown:function(e){return te(e)},onKeyPress:function(e){return te(e)},value:null===E||void 0===E?void 0:E.city,"data-testid":"city-id",onChange:S}),Object(b.jsxs)("label",{children:[Object(i.e)(X),"*"]})]}),Object(b.jsxs)("div",{className:"input-container ml5",children:[Object(b.jsx)("input",{required:!0,type:"text",tabIndex:"-1",name:"state",onKeyDown:function(e){return te(e)},onKeyPress:function(e){return te(e)},value:null===E||void 0===E?void 0:E.state,"data-testid":"state-id",onChange:S}),Object(b.jsxs)("label",{children:[Object(i.e)(Q),"*"]})]})]}),Object(b.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(b.jsxs)("div",{className:"input-container",children:[Object(b.jsx)(l.a,{options:u.T,selectClassName:"select-deliveryOptions-selection",optionContainerClassName:"select-deliveryOptions-option-conatiner",optionClassName:"select-deliveryOptions-option",onChange:S,testid:"select-deliveryOptions",name:"deliveryOptions",required:!0,selectedValue:null===E||void 0===E?void 0:E.deliveryOptions}),Object(b.jsxs)("label",{children:[Object(i.e)(Z),"*"]})]}),Object(b.jsxs)("div",{className:"input-container ml5",children:[Object(b.jsx)("input",{required:!0,type:"text",name:"deliveryInstructions",value:null===E||void 0===E?void 0:E.deliveryInstructions,"data-testid":"deliveryInstruction-id",onChange:S}),Object(b.jsx)("label",{children:Object(i.e)($)})]})]}),Object(b.jsxs)("div",{className:"default-address-section",children:[Object(b.jsx)("input",{type:"checkbox",name:"isPrimary","data-testid":"default-testid",id:"default-address",value:null===E||void 0===E?void 0:E.isPrimary,checked:Object(O.U)(null===E||void 0===E?void 0:E.isPrimary,R.length<1||p&&R.length<=1),onChange:S,disabled:R.length<1||p&&R.length<=1}),Object(b.jsx)("div",{className:"default-label-text",children:Object(b.jsx)("label",{htmlFor:"default-address",children:Object(i.e)(q)})})]})]})]})}),Object(b.jsxs)("div",{className:"input-container text-center",children:[Object(b.jsx)(o.a,{onClick:f,"data-testid":"close-testid",className:"mt-10 button font-bold whiteButton blackBorder",children:Object(i.e)(V)}),Object(b.jsx)(o.a,{disabled:!D()||h,className:"mt-10 button font-bold whiteButton blkColor ml5","data-testid":"submit-testid",onClick:function(){A(L)},children:Object(i.e)(G)})]})]}))}},425:function(e,t,n){"use strict";n.r(t);var a=n(28),i=n(0),o=n(4),r=n(37),c=n(233),d=n(807),l=n(134),s=n(60),u=n(3),v=n(7),O=n(1060),b=n(863),j=n(5);t.default=function(e){var t,n,m=Object(r.b)(),f=Object(o.useContext)(s.a),p=f.userOrderState,h=f.userOrderStateDispatch,E=Object(r.c)((function(e){return e})),S=E.tenantReducer,g=E.orderHistoryReducer,T=E.orderReducer,N=E.profileReducer,I=E.cartReducer,x=E.paymentsContentReducer,D=E.appStateReducer,A=Object(o.useState)(O.a),C=Object(a.a)(A,2),_=C[0],y=C[1],R=Object(o.useState)({height:0,width:0}),w=Object(a.a)(R,2),L=w[0],M=w[1],k=u.Pb.ORDER_HISTORY_ITEM,P=k.ITEM_IMAGE_HEIGHT_MOBILE,F=k.ITEM_IMAGE_WIDTH_MOBILE,H=k.ITEM_WIDTH_DESK_PRCNT,U=Object(o.useCallback)((function(e){y&&y((function(t){return Object(i.a)(Object(i.a)({},t),e)}))}),[]),B=function(){var e=Object(v.Uc)(window.innerWidth);U({isMobileView:e});var t=Object(v.mc)(e,{height:P,width:F},{height:Object(v.Wb)(window.innerWidth,H),width:Object(v.Wb)(window.innerWidth,H)});M(t)};return Object(o.useEffect)((function(){return window.scrollTo(0,0),window.addEventListener(u.Tc,B),B(),function(){m(Object(d.f)()),localStorage.removeItem(null===u.ac||void 0===u.ac?void 0:u.ac.LOAD_MORE_ORDER_HISTORY)}}),[]),Object(o.useEffect)((function(){Object(b.f)(m)}),[m]),Object(o.useEffect)((function(){var t;null!==S&&void 0!==S&&S.tenantId&&null!==N&&void 0!==N&&N.customerId&&Object(O.l)({props:e,dispatch:m,tenantReducer:S,profileReducer:N,updateSetOrderHistoryDetails:U,openReorderModal:null===p||void 0===p||null===(t=p.reorderFlag)||void 0===t?void 0:t.reorderModalOpen,userOrderStateDispatch:h})}),[null===S||void 0===S?void 0:S.tenantId,null===N||void 0===N?void 0:N.customerId,null===p||void 0===p||null===(t=p.reorderFlag)||void 0===t?void 0:t.reorderModalOpen]),Object(o.useEffect)((function(){null!==D&&void 0!==D&&D.userStatus&&Object(O.f)({appStateReducer:D,updateSetOrderHistoryDetails:U})}),[null===D||void 0===D?void 0:D.userStatus]),Object(o.useEffect)((function(){x&&Object(O.k)({paymentsContentReducer:x,updateSetOrderHistoryDetails:U})}),[x]),Object(o.useEffect)((function(){var e;null!==I&&void 0!==I&&I.cartData&&null!==I&&void 0!==I&&null!==(e=I.cartData)&&void 0!==e&&e.id&&Object(O.g)({cartReducer:I,updateSetOrderHistoryDetails:U})}),[null===I||void 0===I?void 0:I.cartData]),Object(o.useEffect)((function(){(null===_||void 0===_?void 0:_.tenantId)&&Object(O.b)(_)}),[null===_||void 0===_?void 0:_.tenantId]),Object(o.useEffect)((function(){(null===g||void 0===g?void 0:g.orderHistory)&&(null===N||void 0===N?void 0:N.customerId)&&(null===_||void 0===_||!_.showFavoriteModal)&&Object(O.i)({orderHistoryReducer:g,orderHistoryDetails:_,profileReducer:N,updateSetOrderHistoryDetails:U})}),[null===g||void 0===g?void 0:g.orderHistory,null===N||void 0===N?void 0:N.favouriteOrders]),Object(o.useEffect)((function(){U({orderHistoryLoading:null===g||void 0===g?void 0:g.orderHistoryLoading})}),[null===g||void 0===g?void 0:g.orderHistoryLoading]),Object(o.useEffect)((function(){Object(v.fd)(null===T||void 0===T?void 0:T.response)&&Object(O.j)({orderReducer:T,orderHistoryDetails:_,updateSetOrderHistoryDetails:U})}),[null===T||void 0===T?void 0:T.response]),Object(o.useEffect)((function(){var e;(null===_||void 0===_||null===(e=_.orderHistory)||void 0===e?void 0:e.length)>0&&Object(O.h)({orderHistoryDetails:_,updateSetOrderHistoryDetails:U})}),[null===_||void 0===_?void 0:_.orderHistory]),Object(o.useEffect)((function(){null!==_&&void 0!==_&&_.selectedOrderId?Object(O.d)(_):m(Object(c.e)())}),[null===_||void 0===_?void 0:_.selectedOrderId]),Object(o.useEffect)((function(){var e,t;(null===_||void 0===_||null===(e=_.completedOrderHistory)||void 0===e?void 0:e.length)>0&&U({totalNumOfPages:Math.ceil((null===_||void 0===_||null===(t=_.completedOrderHistory)||void 0===t?void 0:t.length)/(null===_||void 0===_?void 0:_.displayNumOfRecords))})}),[null===_||void 0===_?void 0:_.completedOrderHistory]),Object(v.mc)(L.height,(n={orderHistoryDetails:_,updateSetOrderHistoryDetails:U,imageOrderContainerSize:L},Object(j.jsx)(l.a,Object(i.a)(Object(i.a)({},n),{},{testId:"order_history_view",importPath:"ORDER_HISTORY_VIEW"}))),Object(j.jsx)(j.Fragment,{}))}},679:function(e,t,n){"use strict";n.r(t),n.d(t,"SearchStoreModule",(function(){return et}));var a=n(0),i=n(28),o=n(13),r=n(16),c=n(10),d=n(849),l=n(84),s=n(99),u=n(38),v=n(7),O=n(60),b=n(4),j=n.n(b),m=n(37),f=n(677),p=n(12),h=n(45),E=n(234),S=n(8),g=n(2),T=n.n(g),N=n(225),I=n(69),x=n(241),D=n(237),A=n(238),C=n(177),_=n.n(C),y=n(242),R=n(243),w=n(228),L=n(49),M=n(771),k=n(226),P=n(232),F=n(5),H=function(e){return!0===e.includes(",")?e.replace(",",", "):e},U=function(e){var t,n,a=e.onMapClickHandler,i=e.startOrderFormSavedAddress,o=h.a.SAVED_ADDRESS,r=h.a.START_ORDER_TEXT,d=Object(m.c)((function(e){return e.profileReducer})).savedAddresses,l=null===(t=d.filter((function(e){return e.isPrimary}))[0])||void 0===t||null===(n=t.addressLines)||void 0===n?void 0:n.join(" ");return Object(F.jsx)(j.a.Fragment,{children:Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:"savedAddress-store-count",children:[Object(F.jsx)("span",{className:"saved-address-count-title",children:"".concat(Object(c.e)(o)).concat(d.length>1?"es  ":""," (").concat(d.length,")")}),Object(F.jsx)("div",{"data-testid":"saved-map-link",onClick:function(e){return a(e,"",l)},children:Object(F.jsxs)(N.a,{className:"map-link",children:[Object(F.jsx)("span",{children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:P.a,alt:"map",className:"map-img"})}),"Map"]})})]}),d.map((function(e){return Object(F.jsx)("div",{className:"savedAddress-module-card",children:Object(F.jsxs)("div",{className:"inside-card",children:[Object(F.jsxs)("div",{className:"address-section",children:[Object(F.jsxs)("div",{className:"address-type",children:[e.name," : "]}),Object(F.jsxs)("div",{className:"address",children:[(null===e||void 0===e?void 0:e.addressLines[1])&&Object(F.jsxs)("span",{children:[" ",H(null===e||void 0===e?void 0:e.addressLines[1]),", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(F.jsxs)("span",{children:[" ",H(null===e||void 0===e?void 0:e.addressLines[0]),", "]}),(null===e||void 0===e?void 0:e.city)&&Object(F.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(F.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.state," - "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(F.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(F.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.country," "]})]})]}),Object(F.jsx)("div",{children:Object(F.jsx)(L.a,{className:"button redButton search-store-card-btn",onClickHandler:function(t){return function(e,t){var n,a=t.location,o={userLat:a.latitude,userLong:a.longitude},r=(null===t||void 0===t||null===(n=t.addressLines)||void 0===n?void 0:n.reduce((function(e,t){return e+" "+t})))+", "+(null===t||void 0===t?void 0:t.city)+", "+(null===t||void 0===t?void 0:t.state)+", "+(null===t||void 0===t?void 0:t.country);i(r,o)}(0,e)},"data-testid":"savedaddress-click-test",children:Object(c.e)(r)})})]})})}))]})})},B=n(88),Y=function(e){var t=e.errorMsgToShow,n=e.onClearTextHandler,a=e.dispositionType,i=e.onRetryClickHandler,o=e.onMapClickHandler,r=e.showMap,d=Object(b.useContext)(O.a).userOrderStateDispatch,l=p.a.DISPOSITION_METHOD,s=h.a.DELIVERY_UNAVAILABLE_WITH_CTA,u=h.a.TAKE_AWAY,v=h.a.TYPE_TAKE_WAY,m=h.a.RETRY_TEXT,f=h.a.CTA1_SEARCH_DIFF_ADDRESS,E=h.a.CTA2_ORDER_TAKEAWAY,S=h.a.CTA2_VIEW_MAP_BUTTON_TEXT,g=Object(B.a)({"error-alert-location-popup":!0,"error-alert-location-popup-with-map-view":r});return Object(F.jsx)(j.a.Fragment,{children:Object(F.jsxs)("div",{"data-testid":"alert-locationid",className:"Delivery"===a?g:"error-alert-location-popup error-adjust",children:[Object(F.jsx)(I.a,{srcFile:w.a,className:"location-alert-icon"}),t!==s&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{className:"location-error-address",children:Object(c.e)(t)}),Object(F.jsxs)("div",{className:"location-error-button-section",children:[Object(F.jsx)(L.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:function(e){return function(e){e.preventDefault(),n()}(e)},children:Object(c.e)(f)}),a.toLowerCase()!==u.toLowerCase()&&Object(F.jsx)(L.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:function(e){return function(e){e.preventDefault(),d({type:l,value:{dispositionType:v}})}(e)},children:Object(c.e)(E)})]})]}),t===s&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{className:"location-error-address",children:Object(c.e)(t)}),Object(F.jsxs)("div",{className:"location-error-button-section",children:[Object(F.jsx)(L.a,{"data-testid":"btn-onRetryClick",className:"button whiteButton blackBorder location-warning-button mr retrybtn",onClickHandler:function(e){return i(e)},children:Object(c.e)(m)}),a!==u&&Object(F.jsx)(L.a,{"data-testid":"btn-onMapClick",className:"button whiteButton blackBorder location-warning-button ml retrybtn",onClickHandler:function(e){return o(e)},children:Object(c.e)(S)})]})]})]})})},V=n(3),G=h.a.MIN_SEARCH_CHARACTER_LIMIT,W=h.a.SUUGESTED_ITEMS_TEXT,K=h.a.ALLOWED_SUGGESTION_LIST,z=h.a.ALREADY_SERACHED_LOCATIONS,J=h.a.COUNTRY_CODE,X=h.a.SUGGESTION_ACTIVE_COLOR,q=h.a.SUGGESTION_ACTIVE_OPACITY,Q=h.a.BRAND_BLACK,Z=(h.a.COLOR_BLACK,h.a.CONFIRM_BUTTON_TEXT),$=h.a.LOCATION_WARNING_MESSAGE,ee=h.a.RETRY_TEXT,te=h.a.USE_THIS_ADDRESS_TEXT,ne=h.a.DELIVERY_UNAVAILABLE,ae=h.a.DELIVERY_UNAVAILABLE_WITH_CTA,ie=h.a.NOTAVAILABLE,oe=h.a.CTA1_SEARCH_DIFF_ADDRESS,re=h.a.TAKE_AWAY,ce=h.a.CTA2_ORDER_TAKEAWAY,de=function(e,t){t()},le=function(e){var t,n,a=e.eligibleStoreData,i=e.suggestedAddress,o=e.setNegativeScenarioAlert,r=e.getNegativeView,d=null===a||void 0===a?void 0:a.filter((function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.menu)||void 0===n||null===(a=n.catalogs)||void 0===a?void 0:a.length)>0})),l=d.filter((function(e){var t,n,a,i,o,r,c="CLOSED"===e.summary.status.currentStatus,d=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n||null===(a=n.message)||void 0===a?void 0:a.indexOf("EMERGENCY_SHUTDOWN")),l=-1!==(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(o=i.status)||void 0===o||null===(r=o.message)||void 0===r?void 0:r.indexOf("TECHNICAL_SHUTDOWN"));return c&&(d||l)})),s=Object(k.a)("delivery",d);return Object(v.xc)(s,Object(v.xc)(!(null!==(t=i[0])&&void 0!==t&&t.description),(null===l||void 0===l?void 0:l.length)===d.length))?(Object(v.S)((null===l||void 0===l?void 0:l.length)===(null===d||void 0===d?void 0:d.length),null===d||void 0===d?void 0:d.length)?s=ne:null!==(n=i[0])&&void 0!==n&&n.description||(s=ae),o(s),Object(v.ub)(Object(c.e)(E.a.contentData.deliveryHeaderText),Object(c.e)(s)),r(s)):void 0},se=function(e,t,n){return Object(F.jsx)(L.a,{className:"button blackButton blackBorder delivery-confirm-button delivery-confirm-button-in","data-testid":"btn-confirm",disabled:!e||t,onClick:n,"data-loading":t,children:Object(c.e)(Z)})},ue=function(e){var t,n=e.formContent,o=void 0===n?{}:n,r=e.userPositionHandler,d=e.singInClickhandler,l=e.eligibleStoreData,s=o.memberText,f=void 0===s?"":s,h=o.singInLink,g=void 0===h?{}:h,M=o.currentLocationText,P=void 0===M?"":M,H=o.addressBoxPlaceHolderForDelivery,B=void 0===H?"":H,Z=V.ac.RETAIN_ADDRESS,ae=p.a.SCHEDULE_ORDER_DATA,ue=p.a.DISPOSITION_METHOD,je=Object(m.c)((function(e){return e.appStateReducer.userStatus})),me=Object(v.zc)(je).loggedIn,fe=Object(b.useContext)(O.a),pe=fe.userOrderState,he=fe.userOrderStateDispatch,Ee=pe.searchStoreData,Se=void 0===Ee?{}:Ee,ge=pe.dispositionStateData,Te=void 0===ge?{}:ge,Ne=Object(b.useState)(""),Ie=Object(i.a)(Ne,2),xe=Ie[0],De=Ie[1],Ae=Object(b.useState)(!1),Ce=Object(i.a)(Ae,2),_e=Ce[0],ye=Ce[1],Re=Object(b.useState)(!1),we=Object(i.a)(Re,2),Le=we[0],Me=we[1],ke=Object(b.useState)(!1),Pe=Object(i.a)(ke,2),Fe=Pe[0],He=Pe[1],Ue=Object(b.useState)({lat:28.7,lng:77.1}),Be=Object(i.a)(Ue,2),Ye=Be[0],Ve=Be[1],Ge=Object(b.useState)(!1),We=Object(i.a)(Ge,2),Ke=We[0],ze=We[1],Je=Object(b.useState)(!1),Xe=Object(i.a)(Je,2),qe=Xe[0],Qe=Xe[1],Ze=Object(b.useState)([]),$e=Object(i.a)(Ze,2),et=$e[0],tt=$e[1],nt=Object(b.useState)(""),at=Object(i.a)(nt,2),it=at[0],ot=at[1],rt=Object(b.useRef)(null),ct=Object(b.useState)(""),dt=Object(i.a)(ct,2),lt=dt[0],st=dt[1],ut=Object(b.useState)(""),vt=Object(i.a)(ut,2),Ot=vt[0],bt=vt[1],jt=Object(b.useState)(!1),mt=Object(i.a)(jt,2),ft=mt[0],pt=mt[1],ht=Object(b.useState)(!1),Et=Object(i.a)(ht,2),St=Et[0],gt=Et[1],Tt=Object(b.useState)(!1),Nt=Object(i.a)(Tt,2),It=Nt[0],xt=Nt[1],Dt=Object(b.useState)(""),At=Object(i.a)(Dt,2),Ct=At[0],_t=At[1],yt=Object(b.useState)(!1),Rt=Object(i.a)(yt,2),wt=Rt[0],Lt=Rt[1],Mt=Te.dispositionType,kt=void 0===Mt?localStorage.getItem("dispositionType"):Mt,Pt=Object(b.useState)({}),Ft=Object(i.a)(Pt,2),Ht=Ft[0],Ut=Ft[1],Bt=Object(m.c)((function(e){var t,n,a,i;return(null===(t=e.storesReducer)||void 0===t?void 0:t.isGoogleDistanceLoading)||(null===(n=e.storesReducer)||void 0===n?void 0:n.isStoreStatusLoading)||(null===(a=e.storesReducer)||void 0===a?void 0:a.isNearByStoresLoading)||(null===(i=e.storesReducer)||void 0===i?void 0:i.isStoreTimeSlotsLoading)}));Object(b.useEffect)((function(){Object(k.e)(qe,Ot,E.a)}),[qe,Ot]);var Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(F.jsx)(j.a.Fragment,{children:Object(F.jsx)(Y,{errorMsgToShow:Object(v.xc)(Ot,e),onClearTextHandler:qt,onRetryClickHandler:Gt,onMapClickHandler:Vt,dispositionType:kt,showMap:Fe})})},Vt=function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.preventDefault(),Object(k.i)(Fe,kt),He(!0),bt(!1),t&&!xe&&Kt(t)},Gt=function(e){rt.current.select(),ye(!1),ze(!1),bt(!1),Qe(!1)},Wt=function(){var e=Object(S.a)(T.a.mark((function e(t){var n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=le({eligibleStoreData:l,suggestedAddress:et,setNegativeScenarioAlert:bt,getNegativeView:Yt}),!(xe.length>0&&qe&&a||!l[0]&&a)){e.next=3;break}return e.abrupt("return");case 3:null!==(n=et[0])&&void 0!==n&&n.description&&he({type:ae,value:{deliveryAddress:it,showScheduleOrder:!0,selectedStoreInfo:Object(v.zc)(l[0])}}),ze(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kt=function(){var e=Object(S.a)(T.a.mark((function e(t,n,a){var i,o,c,d,l=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>3&&void 0!==l[3]&&l[3],Lt(!1),_t(""),Object(v.S)(null===n,null===a)&&(null===(i=et[0])||void 0===i?void 0:i.description)&&Qe(!0),pt(!0),ze(!0),e.next=9,Object(C.geocodeByAddress)(t);case 9:return c=e.sent,e.next=12,Object(C.getLatLng)(c[0]);case 12:d=e.sent,Ve(d),zt(t),De(t),o||ye(!0),r({userLat:d.lat,userLong:d.lng}),Me(!1);case 19:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();Object(b.useEffect)((function(){var e,t=null===(e=localStorage)||void 0===e?void 0:e.getItem(Z);Object(k.b)(t,tt,Kt)}),[]),Object(b.useEffect)((function(){var e=null===l||void 0===l?void 0:l.filter((function(e){var t,n;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.menu)||void 0===n?void 0:n.catalogs[0])!==ie})),t=null===e||void 0===e?void 0:e.filter((function(e){var t,n;return"CLOSED"!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus)}));wt&&Ct&&t&&(null===t||void 0===t?void 0:t.length)>=1?(xt(!1),he({type:ae,value:{deliveryAddress:Ct,showScheduleOrder:!0,selectedStoreInfo:t[0]}})):Ct&&xt(!0)}),[l,Ct,wt]),Object(b.useEffect)((function(){}),[Ye]);Object(b.useEffect)((function(){(null===xe||void 0===xe?void 0:xe.length)>2?ye(!qe):(ye(!1),Qe(!1),bt(""));var e=Object(v.d)(xe,G);gt(e)}),[xe]),Object(b.useEffect)((function(){Le&&(De(lt),zt(lt),Me(!1))}),[Se]);var zt=function(e){Object(v.md)(e,z)},Jt=function(){var e=Object(S.a)(T.a.mark((function e(){var t,n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.BindLocation();case 2:Object(k.m)(),tt([]),u.b.coordinates&&(t=u.b.coordinates,n=t.latitude,a=t.longitude,u.b.addFeedback("Check coordinates ".concat(JSON.stringify(u.b.coordinates))),u.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:n,userLong:a}))),u.b.addFeedback("Check address ".concat(u.b.address)),r({userLat:n,userLong:a}),st(u.b.address),De(u.b.address),Kt(u.b.address),Me(!0),tt([{description:u.b.address}]));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xt=function(e){return t=e,Object(v.yc)(JSON.parse(localStorage.getItem(z))).includes(t);var t},qt=function(){De(""),ye(!1),bt(""),tt(""),xt(!1)},Qt=function(){var e=Object(S.a)(T.a.mark((function e(t,n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ve({lat:n.userLat,lng:n.userLong}),Lt(!0),De(t),Ut(n),zt(t),_t(t),r(n);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(F.jsxs)(j.a.Fragment,{children:[Object(F.jsxs)("div",{className:"delivery-module-form","data-testid":"delivery-component",children:[Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:"login-section",children:[Object(F.jsx)("span",{className:"delivery-member-signin",children:!me&&be(f,d,g)}),Object(F.jsx)("span",{children:Object(F.jsxs)(N.a,{onClickHandler:Jt,className:"delivery-location-link","data-testid":"use-my-location",children:[Object(F.jsx)(I.a,{"data-testid":"",srcFile:x.a,alt:" ",className:"location-img"}),Object(c.e)(P)]})})]}),Object(F.jsxs)("div",{className:"delivery-address-section",children:[Object(F.jsx)("div",{className:"search-delivery-address",children:Object(F.jsx)("div",{className:"input-delivery-address",children:Object(F.jsx)(_.a,{value:xe,onChange:function(e){pt(!1),ze(!1),De(e),function(e,t,n){(null===e||void 0===e?void 0:e.length)<3&&(t(""),n(!1))}(e,tt,gt),Lt(!1),_t(""),xt(!1)},onSelect:Kt,searchOptions:{componentRestrictions:{country:J}},shouldFetchSuggestions:!0,onError:de,children:function(e){var t=e.getInputProps,n=e.suggestions,i=e.getSuggestionItemProps;e.loading;return Object(F.jsxs)("div",{children:[Object(F.jsx)(I.a,{"data-testid":"",srcFile:D.a,alt:" ",className:"google-location-img"}),Object(F.jsx)("input",Object(a.a)({"data-testid":"store-search-input","aria-label":"Enter your delivery address",className:"".concat(Object(v.mc)(Object(v.xc)(qe,Ot),"store-search-input error-border mt-2","store-search-input mt-2"))},t({placeholder:Object(c.e)(B),ref:rt}))),xe&&Object(F.jsx)("img",{src:y.a,className:"clearTextIcon",onClick:qt}),Object(v.S)(Object(v.Ob)(n),St)?Object(F.jsx)("div",{className:"suggestion-list",children:n.map((function(e,t){var o;if(null!==e&&void 0!==e&&null!==(o=e.types)&&void 0!==o&&o.some((function(e){return K.includes(e)}))){tt(n);var r=Object(v.mc)(e.active,{backgroundColor:X,opacity:q},{backgroundColor:Q});return Object(F.jsxs)(j.a.Fragment,{children:[0===t&&Object(F.jsx)("div",{className:"suggestion-items suggest-text",children:Object(c.e)(W)}),Object(F.jsx)("div",{style:r,children:Object(F.jsx)("div",Object(a.a)(Object(a.a)({},i(e,{className:"suggestion-items"})),{},{children:Object(F.jsxs)("div",{className:"suggested-address-alignment-delivery",children:[Object(F.jsx)("div",{children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:Object(v.mc)(Xt(e.description),R.a,A.a),alt:"googleMapLocation",className:"suggetion-pin"})}),Object(F.jsx)("div",{className:"suggestion-description",children:e.description})]})}),t)})]})}}))}):null]})}})})}),Object(F.jsx)("form",{children:se(_e,Bt,(function(e){var t;if(e.preventDefault(),wt)return It&&ye(!1),void Qt(xe,Ht);if(!(ft&&le({eligibleStoreData:l,suggestedAddress:et,setNegativeScenarioAlert:bt,getNegativeView:Yt})||(null===(t=et[0])||void 0===t||!t.description)&&le({eligibleStoreData:l,suggestedAddress:et,setNegativeScenarioAlert:bt,getNegativeView:Yt}))){if(bt(""),!Ke){var n,a,i=null===(n=et[0])||void 0===n?void 0:n.description;return ot(i),(null===(a=et[0])||void 0===a?void 0:a.description)&&Qe(!0),ye(!1),void Kt(i,null===et||void 0===et?void 0:et.placeId,et,!0)}l[0]&&(ze(!1),he({type:ae,value:{deliveryAddress:xe,showScheduleOrder:!0,selectedStoreInfo:l[0]}}))}}))})]})]}),It&&!Bt&&Object(F.jsxs)("div",{className:"error-popup-saved-address error-popup-saved-address-map-view1",children:[Object(F.jsx)(I.a,{srcFile:w.a,className:"location-alert-icon"}),Object(F.jsx)("div",{className:"location-error-address",children:Object(c.e)(ne)}),Object(F.jsxs)("div",{className:"location-error-button-section",children:[Object(F.jsx)(L.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:function(e){return xt(!1)},children:Object(c.e)(oe)}),Object(F.jsx)(L.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:function(e){e.preventDefault(),he({type:ue,value:{dispositionType:re}})},children:Object(c.e)(ce)})]})]}),!Fe&&Object(F.jsx)("div",{className:"my-3 store-form-separation"}),Fe||me||qe||Ot?null:Oe(Vt),!qe&&me&&!Ot&&!Fe&&!It&&Object(F.jsx)(U,{userPositionHandler:r,startOrderFormSavedAddress:Qt,allowOrderNow:It,onMapClickHandler:Vt})]}),xe.length>0&&Object(v.S)(qe,!Ot)?Object(F.jsxs)("div",{"data-testid":"alert-locationid",className:"alert-location-popup",children:[Object(F.jsx)(I.a,{srcFile:w.a,className:"location-alert-icon"}),Object(F.jsx)("div",{className:"location-error-message",children:Object(c.e)($)}),Object(F.jsx)("div",{className:"location-error-address",children:Object(v.xc)(null===(t=et[0])||void 0===t?void 0:t.description,xe)}),Object(F.jsxs)("div",{className:"location-error-button-section",children:[Object(F.jsx)(L.a,{className:"button whiteButton blackBorder location-warning-button mr",onClick:Gt,children:Object(c.e)(ee)}),Object(F.jsx)(L.a,{className:"button whiteButton blackBorder location-warning-button ml","data-testid":"use-this-address",onClick:Wt,children:Object(c.e)(te)})]})]}):Ot&&Yt(),Fe?ve(qe,Ye,(function(e){De(e)}),Ot):null]})};function ve(e,t,n,a){return Object(F.jsx)("div",{className:"delivery-map deliver-map-zoom ".concat(Object(v.mc)(e,"pointer-disabled","")),children:Object(F.jsx)("div",{"data-testid":"view-map-div",className:"view-map",children:Object(F.jsx)(M.a,{"data-testid":"map-comp",latLongValue:t,passAddress:n,locationAlertProp:e,negativeScenarioAlertProp:a,locationAlert:e})})})}function Oe(e){return Object(F.jsx)("div",{className:"map-button-form",children:Object(F.jsxs)("div",{className:"show-map-div","data-testid":"show-map-div",onClick:e,children:[Object(F.jsx)("span",{className:"delivery-map-text",children:Object(c.e)("pleaseEnterLocation")}),Object(F.jsxs)(N.a,{className:"map-link",children:[Object(F.jsx)("span",{children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:P.a,alt:" ",className:"map-img"})}),Object(c.e)("map")]})]})})}function be(e,t,n){return Object(F.jsxs)("div",{"data-id":V.M.HEADER_SIGN_IN_ATTR_DATA_ID,children:[Object(c.e)(e),Object(F.jsx)("span",{onClick:t,children:Object(F.jsx)(N.a,{targetType:n.targetType,href:n.linkUrl,className:"delivery-signin-link",children:Object(c.e)(n.linkText)})})]})}var je=n(133),me=function(e){var t=e.handleClose,n=e.handleGoBack,a=e.orderModeTypeItem,i=e.headerText,o=e.modalTitleId,r=void 0===o?"":o;return Object(F.jsx)(j.a.Fragment,{children:Object(F.jsx)(je.a,{"data-testid":"searchStoreCardModal",id:"searchStoreCard",role:"dialog",modalTitleId:r,show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:n,modalTitle:i,autoFocus:!0,children:a})})},fe=n(44),pe=n(235),he=n(31),Ee=n(67),Se=n(769),ge=n(244),Te=n(239),Ne=n(755),Ie=n(759),xe=function(e,t){var n,a;return"INDIA"===(null===t||void 0===t||null===(n=t.country)||void 0===n?void 0:n.toUpperCase())?"".concat((parseFloat(e)/1e3).toFixed(1)," ").concat(null===t||void 0===t||null===(a=t.storeSearch)||void 0===a?void 0:a.distanceMetrics):(parseFloat(e)/1600).toFixed(1)+" mi"},De=Object(fe.j)((function(e){var t,n,i=e.storeDistance,o=void 0===i?"":i,r=e.addresses,d=void 0===r?{}:r,l=e.isOpen,s=void 0!==l&&l,u=e.buttonData,j=void 0===u?{}:u,f=e.map,E=void 0===f?{}:f,g=e.storeName,x=void 0===g?"":g,D=e.currentMarket,A=e.storeInfo,C=void 0===A?{}:A,_=e.channels,y=void 0===_?[]:_,R=e.storeStatus,w=void 0===R?{}:R,M=e.onStoreSelectFinish,P=e.onClickMapHandler,H=e.isMapView,U=e.isMobile,B=e.isFavoriteStore,Y=e.addToFavoriteHandler,V=e.removeFromFavoriteHandler,G=e.loggedIn,W=e.centerIndex,K=e.storeLength,z=Object(v.zc)(null===j||void 0===j?void 0:j.scheduleOrderButtonData),J=z.buttonText,X=void 0===J?"":J,q=(z.display,Object(v.zc)(null===j||void 0===j?void 0:j.orderNowButtonData)),Q=q.buttonText,Z=void 0===Q?"":Q,$=q.display,ee=void 0!==$&&$,te=Object(b.useContext)(O.a),ne=te.userOrderState,ae=te.userOrderStateDispatch,ie=p.a.SCHEDULE_ORDER_DATA,oe=void 0===ie?"":ie,re=p.a.SEARCH_ORDER_DATA,ce=void 0===re?"":re,de=p.a.SELECTED_TILE_DATA,le=void 0===de?"":de,se=p.a.SCHEDULE_ORDER_TIME_DATA,ue=void 0===se?"":se,ve=p.a.MENU_URL,Oe=p.a.SET_DISPOSITION,be=p.a.USER_LOCALIZED,je=p.a.CURRENT_STORE_INFO,me=p.a.SCHEDULE_ORDER_TIME_PRESERVE_TIME,fe=p.a.SET_FORCERELOAD,De=h.a.STORE_STATUS_CLOSED,Ae=E.mapText,Ce=void 0===Ae?"":Ae,_e=Ie.a.timingsSampleData,ye=void 0===_e?{}:_e,Re=y&&Object(k.g)(y),we=Object(v.yc)(Re[0]).services,Le=void 0===we?[]:we,Me=(null!==w&&void 0!==w&&null!==(t=w.timings)&&void 0!==t&&t.operatingHours?w.timings:[]).operatingHours,ke=void 0===Me?[]:Me,Pe=Object(k.c)(s,ke),Fe=Object(m.b)(),He=Object(m.c)((function(e){return e.profileReducer})),Ue=Object(m.c)((function(e){return e.tenantReducer})),Be=ne.dispositionStateData.dispositionType,Ye=void 0===Be?localStorage.getItem("dispositionType"):Be,Ve=Ue.componentOptions.ScheduledDeliveryComponent.allowScheduleOrder,Ge=Object(m.c)((function(e){return e.appStateReducer.userStatus})),We=Object(v.Pc)(ne.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):ne.dispositionNew,Ke=function(t,n){var i=Object(v.mc)(t,t,null);ae({type:le,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(i)),ae({type:je,value:i}),Fe(Object(Ee.a)(Object(a.a)(Object(a.a)({},Ge),{},{localized:!0}))),ae({type:ue,value:{selectedDateTime:n}}),ae({type:me,value:{selectContentTime:"ASAP"}}),ae({type:fe,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(Ue)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",Ye),localStorage.setItem("storeInfo",JSON.stringify(i)),localStorage.setItem("dateTimeOrder",JSON.stringify(n)),localStorage.setItem("savedTimeOrder","ASAP"),setTimeout((function(){!ne.fromPdpPage&&e.history.push({pathname:"".concat(ve)})}),500)},ze=function(){var e=Object(S.a)(T.a.mark((function e(t,n){var a,i,o,r,c,d,l,s,u,O,b,j,m,f,p,h,E,S,g;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.stopPropagation(),Object(k.l)(),l=Object(v.U)(null===n||void 0===n||null===(a=n.summary)||void 0===a?void 0:a.timings,ye),s=l.futureDates,u=l.scheduled,O=l.asap,b=Object(v.S)(null===u||void 0===u||null===(i=u.periods)||void 0===i?void 0:i.length,u.periods[0]),j=b.interval,m=void 0===j?0:j,f=b.startEndTime,h=(p=void 0===f?{}:f).from,E=p.to,Object(Ne.f)(h,E,m,null===O||void 0===O?void 0:O.isAvailable,1===s.length&&"INDIA"===(null===Ue||void 0===Ue?void 0:Ue.country)),S={time:"ASAP",interval:null===(o=n.summary.timings.scheduled.periods[0])||void 0===o?void 0:o.interval,date:new Date,selectedTime:"ASAP"},null!==We&&We.type===Ye&&We.store.id===n.id&&We.deliveryAddress===(null===ne||void 0===ne||null===(r=ne.scheduleOrderData)||void 0===r?void 0:r.deliveryAddress)){e.next=14;break}return e.next=11,Object(v.s)(n,Object(v.sb)(Ye),He.customerId,S);case 11:g=e.sent,Fe(Object(he.l)("")),Fe(Object(he.f)({data:g,tenantId:Ue.tenantId}));case 14:localStorage.setItem("renderComp",!0),ae({type:Oe,value:{oldvalue:We,newValue:{type:Ye,store:n,date:S.date,time:S.time,interval:S.interval,selectedTime:S.selectedTime,deliveryAddress:null===ne||void 0===ne||null===(c=ne.scheduleOrderData)||void 0===c?void 0:c.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(We)),localStorage.setItem("dispositionNew",JSON.stringify({type:Ye,store:n,date:S.date,time:S.time,selectedTime:S.selectedTime,interval:S.interval,deliveryAddress:null===ne||void 0===ne||null===(d=ne.scheduleOrderData)||void 0===d?void 0:d.deliveryAddress})),Object(v.Sd)(),M(t,Ye),ae({type:ce,value:{showSearchStore:!1}}),ae({type:be,value:{isLocalized:!0}}),Ke(n,S);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Je=function(e,t){var n,a;console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),e.preventDefault(),e.stopPropagation(),ae({type:be,value:{isLocalized:!0}}),ae({type:oe,value:{showScheduleOrder:!0,selectedStoreInfo:t}}),ae({type:ce,value:{showSearchStore:!1}});var i=Object(v.U)(null===t||void 0===t||null===(n=t.summary)||void 0===n?void 0:n.timings,ye),o=i.futureDates,r=i.scheduled,c=i.asap,d=Object(v.S)(null===r||void 0===r||null===(a=r.periods)||void 0===a?void 0:a.length,r.periods[0]),l=d.interval,s=void 0===l?0:l,u=d.startEndTime,O=void 0===u?{}:u,b=O.from,j=O.to;Object(Ne.f)(b,j,s,null===c||void 0===c?void 0:c.isAvailable,1===o.length&&"INDIA"===(null===Ue||void 0===Ue?void 0:Ue.country)),Object(k.k)(),function(e){var t=Object(v.mc)(e,e,null);ae({type:le,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),ae({type:je,value:t})}(t)},Xe=Object(Se.a)(C),qe=Object(F.jsxs)("div",{className:"store-card ".concat(Object(v.S)(H,!U)?"store-card-map-view":"store-card-mobile-view"),style:function(){if(H&&U)return{margin:"0",position:"absolute","max-height":"325px",bottom:"0"}}(),"data-testid":"store-card",id:"map-store-card",children:[Object(F.jsxs)("div",{className:"d-flex",children:[Object(F.jsxs)("div",{className:"store-dist-container ".concat(H&&"map-view"),children:[Object(F.jsx)("div",{className:"store-name-container",children:Object(F.jsx)("span",{className:"card-store-name",children:x})}),Object(F.jsx)("span",{className:"store-distance",children:xe(o,Ue)})]}),H&&Object(F.jsx)("span",{className:"store-index",children:"".concat(W+1," of ").concat(K)})]}),Object(F.jsxs)("div",{className:"card-content",children:[Object(F.jsx)("div",{className:"order-items",children:(n=Le,!!Object(v.Qc)(n)&&n.map((function(e,t){var n=h.a.PICK_UP,a=h.a.TAKE_AWAY;return Object(F.jsxs)("div",{className:"store-order-options",children:[Object(F.jsx)("span",{children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:pe.a,alt:"tick",className:"tick-image"})}),Object(F.jsx)("span",{children:e===n?Object(c.e)(a):e})]},t)})))}),Object(F.jsxs)("div",{className:"w-100",children:[Object(F.jsx)("span",{className:"store-address",children:Object(v.Db)(d)}),!H&&Object(F.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:function(){return P()},children:Object(F.jsx)(N.a,{className:"card-map-link",children:Ce})})]}),Object(F.jsxs)("div",{className:"info-timing ".concat(!s&&"info-timingClosed"),children:[s?"":Object(F.jsx)("span",{children:Object(c.e)(De)}),Object(F.jsx)("span",{className:"".concat(!s&&"list-circle"),children:Pe})]}),Object(F.jsx)("div",{className:"facilities",children:Xe&&Xe.map((function(e){return Object(F.jsx)(I.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)}))})]}),Object(F.jsxs)("div",{className:"w-100 d-flex mt-2",children:[G?B?Object(F.jsx)(I.a,{"data-testid":"favorite-img",srcFile:Te.a,alt:"favorite",className:"favorite-img",onClick:function(){return V()}}):Object(F.jsx)(I.a,{"data-testid":"unfavorite-img",srcFile:ge.a,alt:"favorite",className:"favorite-img",onClick:function(){return Y()}}):"",Ve&&Object(F.jsx)(L.a,{"data-testid":"schedule-order",className:"button whiteButton blackBorder search-store-card-btn schedule-order-btn ".concat(Object(v.S)(H,!U)?"cardMapView":null),onClickHandler:function(e){return Je(e,C)},children:X}),ee&&s&&Object(F.jsx)(L.a,{"data-testid":"order-now",className:"button redButton search-store-card-btn ".concat(H&&!U?"cardMapView":null),onClickHandler:function(e){return ze(e,C)},children:Z})]})]});return D!==h.a.COUNTRY_CODE_INDIA||s?qe:null})),Ae=n(20),Ce=h.a.BROWSE_MENU,_e=h.a.PICK_UP,ye=h.a.TAKE_AWAY,Re=h.a.STORE_STATUS_CLOSED_CAPS,we=h.a.STORE_STATUS_CLOSED,Le=h.a.INDIA,Me=function(e){return e===_e?ye:e},ke=function(e,t){if(e&&t)return{"max-height":"325px",margin:"0",position:"absolute",bottom:"0"}},Pe=Object(fe.j)((function(e){var t,n,i,o,r,d,l,s,u,j,f,h,E,S,g,T,x,D=e.key,A=void 0===D?"":D,C=e.storeName,_=void 0===C?"":C,y=e.storeDistance,R=void 0===y?"":y,w=e.orderTypes,M=void 0===w?[]:w,P=e.addresses,H=void 0===P?{}:P,U=e.storeStatus,B=void 0===U?{}:U,Y=e.onClickMapHandler,V=e.isMapView,G=e.isMobile,W=e.isFavoriteStore,K=e.addToFavoriteHandler,z=e.removeFromFavoriteHandler,J=e.map,X=e.loggedIn,q=e.storeInfo,Q=void 0===q?{}:q,Z=e.centerIndex,$=e.storeLength,ee=e.onStoreSelectFinish,te=(null===(t=B.timings)||void 0===t||null===(n=t.operatingHours[0])||void 0===n||null===(i=n.availableHours)||void 0===i?void 0:i.from)||"",ne=null===B||void 0===B||null===(o=B.timings)||void 0===o||null===(r=o.scheduled)||void 0===r?void 0:r.unavailibilities,ae=Object(v.zc)(J).mapText,ie=void 0===ae?"":ae,oe=p.a.MENU_URL,re=p.a.SEARCH_ORDER_DATA,ce=p.a.CURRENT_STORE_INFO,de=p.a.DISPOSITION_DATA,le=p.a.USER_LOCALIZED,se=p.a.SCHEDULE_ORDER_DATA,ue=void 0===se?"":se,ve=p.a.SELECTED_TILE_DATA,Oe=void 0===ve?"":ve,be=Object(b.useContext)(O.a),je=be.userOrderState,me=be.userOrderStateDispatch,fe=Object(m.c)((function(e){return e.appStateReducer.userStatus})),he=Object(m.c)((function(e){return e.tenantReducer})),Ie=Object(m.b)(),De=Object(v.zc)(null===Q||void 0===Q||null===(d=Q.summary)||void 0===d?void 0:d.timings),_e=De.futureDates,ye=De.scheduled,Pe=De.asap,Fe=Object(v.zc)(ye).unavailibilities,He=Object(v.zc)((null===ye||void 0===ye||null===(l=ye.periods)||void 0===l?void 0:l.length)&&(null===ye||void 0===ye?void 0:ye.periods[0])),Ue=He.interval,Be=void 0===Ue?0:Ue,Ye=He.startEndTime,Ve=void 0===Ye?{}:Ye,Ge=Object(v.zc)(Ve),We=Ge.from,Ke=Ge.to,ze=je.dispositionStateData.dispositionType,Je=void 0===ze?localStorage.getItem("dispositionType"):ze,Xe=Object(v.Pc)(je.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):je.dispositionNew,qe=function(){var e;return Object(Ne.f)(We,Ke,Be,null===Pe||void 0===Pe?void 0:Pe.isAvailable,1===_e.length&&(null===he||void 0===he||null===(e=he.country)||void 0===e?void 0:e.toUpperCase())===Le,Fe)},Qe=function(e,t){var n,a;e.preventDefault(),e.stopPropagation(),console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),me({type:le,value:{isLocalized:!0}}),me({type:re,value:{showSearchStore:!1}}),me({type:ue,value:{showScheduleOrder:!0,selectedStoreInfo:t}});var i=null===t||void 0===t||null===(n=t.summary)||void 0===n?void 0:n.timings,o=i.futureDates,r=i.scheduled,c=i.asap,d=(null===r||void 0===r||null===(a=r.periods)||void 0===a?void 0:a.length)&&(null===r||void 0===r?void 0:r.periods[0]),l=d.interval,s=void 0===l?0:l,u=d.startEndTime,v=void 0===u?{}:u,O=v.from,b=v.to;Object(Ne.f)(O,b,s,null===c||void 0===c?void 0:c.isAvailable,1===o.length&&"INDIA"===(null===he||void 0===he?void 0:he.country)),Object(k.k)(),function(e){var t=e||null;me({type:Oe,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),me({type:ce,value:t})}(t),ee(e,Je)},Ze=Object(Se.a)(Q);return Object(F.jsxs)("div",{className:"store-card ".concat(V&&!G?"store-card-map-view":"store-card-mobile-view"),style:ke(V,G),"data-testid":"closed-card",id:"map-store-card",children:[Object(F.jsxs)("div",{className:"d-flex",children:[Object(F.jsxs)("div",{className:"store-dist-container ".concat(V&&"map-view"),children:[Object(F.jsx)("div",{className:"store-name-container",children:Object(F.jsx)("span",{className:"card-store-name",children:_})}),Object(F.jsx)("span",{className:"store-distance",children:xe(R,he)})]}),V&&Object(F.jsx)("span",{className:"store-index",children:"".concat(Z+1," of ").concat($)})]}),Object(F.jsxs)("div",{className:"card-content",children:[Object(F.jsx)("div",{className:"order-items",children:(x=M,x.map((function(e,t){return Object(F.jsxs)("div",{className:"store-order-options",children:[Object(F.jsx)("span",{children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:pe.a,alt:"tick",className:"tick-image"})}),Object(F.jsx)("span",{children:Me(e)})]},t)})))}),Object(F.jsxs)("div",{className:"w-100",children:[Object(F.jsx)("span",{className:"store-address",children:function(){var e;return"".concat(null===(e=H.addressLines)||void 0===e?void 0:e.join(" ")," ").concat(H.city," ").concat(H.state," ").concat(H.country," ").concat(H.pinCode)}()}),!V&&Object(F.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:function(){return Y()},children:Object(F.jsx)(N.a,{className:"card-map-link",children:ie})})]}),Object(F.jsx)("div",{className:"info-timingClosed",children:Object(F.jsxs)("ul",{children:[Object(F.jsx)("li",{children:Object(v.U)((null===(s=B.status)||void 0===s?void 0:s.currentStatus)===Re,0===(null===B||void 0===B||null===(u=B.timings)||void 0===u||null===(j=u.scheduled)||void 0===j||null===(f=j.periods)||void 0===f?void 0:f.length))?Object(F.jsx)("span",{className:"closed-text",children:we}):""}),Object(F.jsx)("li",{children:(null===ne||void 0===ne?void 0:ne.length)>0&&Object(Ae.B)(null===(h=ne[0])||void 0===h?void 0:h.to,"HH MM","HH:MM")<=Object(Ae.B)(Ke,"HH MM","HH:MM")?"Open Today ".concat((null===(E=ne[0])||void 0===E?void 0:E.to)&&Object(Ae.B)(null===(S=ne[0])||void 0===S?void 0:S.to,"hh mm","hh:mm a")):"Open ".concat((null===(g=B.timings)||void 0===g||null===(T=g.scheduled)||void 0===T||T.date,qe().length?"Today":"Tomorrow")," ").concat(te&&Object(Ae.B)(te,"hh mm","hh:mm a"))})]})}),Object(F.jsx)("div",{className:"facilities",children:Ze&&Ze.map((function(e){return Object(F.jsx)(I.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)}))}),Object(F.jsxs)("div",{className:"w-100 d-flex mt-2",children:[X&&(W?Object(F.jsx)(I.a,{"data-testid":"favorite-img",srcFile:Te.a,alt:"favorite",className:"favorite-img",onClick:function(){return z()}}):Object(F.jsx)(I.a,{"data-testid":"unfavorite-img",srcFile:ge.a,alt:"favorite",className:"favorite-img",onClick:function(){return K()}})),qe().length>0?Object(F.jsx)(L.a,{className:"button whiteButton blackBorder search-store-card-btn schedule-order-btn","data-testid":"schedule-order-closed-store",onClickHandler:function(e){return Qe(e,Q)},children:Object(c.e)("scheduleOrder")}):Object(F.jsx)(L.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn","data-testid":"browser-menu-closed-store",onClickHandler:function(){Object(v.Td)(Q,me,Xe,Je),Ie(Object(Ee.a)(Object(a.a)(Object(a.a)({},fe),{},{localized:!0}))),Object(v.Sd)(),me({type:de,value:{showDisposition:!1}}),me({type:re,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(oe)})},children:Object(c.e)(Ce)})]})]})]},A)})),Fe=n(255),He=n.p+"static/media/successSign.9ca85326.svg",Ue=n(1265),Be=n(1262),Ye=n(43),Ve=function(e){return!0===e?"store-count-title fav-store savedKFC":"store-count-title active-tab fav-store savedKFC"},Ge=function(e,t){return e&&t?"store-count-title active-tab savedKFC":e&&!t?"store-count-title savedKFC":e?void 0:"store-count-title  guest-color"},We=function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.menu)||void 0===n||null===(a=n.catalogs)||void 0===a?void 0:a.length)>0},Ke=function(e){return e?Fe.a:P.a},ze=function(e){var t=document.querySelector(".searchStore-module-form .store-count a.store-location-link");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()},Je=function(e,t,n){return!0===e?t():n()},Xe=Object(fe.j)((function(e){var t,n,o=e.formContent,r=void 0===o?{}:o,d=e.storeData,s=void 0===d?[]:d,f=e.eligibleStoreData,g=void 0===f?[]:f,P=e.favoriteStoreData,H=void 0===P?[]:P,U=e.userPositionHandler,B=e.singInClickhandler,G=e.currentMarket,W=e.storeCardLimit,K=void 0===W?1/0:W,z=e.onStoreSelectFinish,J=e.handleGoBack,X=e.noStoresList,q=e.favoriteStoreHandler,Q=r.memberText,Z=void 0===Q?"":Q,$=r.singInLink,ee=void 0===$?{}:$,te=r.currentLocationText,ne=void 0===te?"":te,ae=r.addressBoxPlaceHolderForSearchStore,ie=void 0===ae?"":ae,oe=r.mapText,re=void 0===oe?"":oe,ce=h.a.MIN_SEARCH_CHARACTER_LIMIT,de=h.a.SUUGESTED_ITEMS_TEXT,le=h.a.ALLOWED_SUGGESTION_LIST,se=h.a.ALREADY_SERACHED_LOCATIONS,ue=h.a.COUNTRY_CODE,ve=h.a.SUGGESTION_ACTIVE_COLOR,Oe=h.a.SUGGESTION_ACTIVE_OPACITY,be=h.a.BRAND_BLACK,je=h.a.STORE_STATUS_OPEN,me=h.a.LIST_TEXT,fe=h.a.TYPE_TAKE_WAY,pe=h.a.STORE_STATUS_CLOSED_CAPS,he=h.a.BROWSE_MENU,Ee=h.a.CTA1_SEARCH_DIFF_ADDRESS,Se=h.a.DINEIN_UNAVAILABLE,ge=h.a.CTA2_ORDER_TAKEAWAY,Te=h.a.TAKEAWAY_UNAVAILABLE_WITH_CTA,Ie=h.a.DINE_IN_SERVICE,xe=h.a.DINE_IN,Ae=h.a.TYPE_DELIVERY,Ce=h.a.TAKE_AWAY,_e=p.a.DISPOSITION_METHOD,ye=p.a.MENU_URL,Re=p.a.SEARCH_ORDER_DATA,we=p.a.CURRENT_STORE_INFO,Le=p.a.DISPOSITION_DATA,Me=p.a.INDIA,ke=j.a.useContext(O.a).userOrderState,Fe=ke.searchStoreData,Ve=void 0===Fe?{}:Fe,Xe=ke.dispositionStateData,Ze=void 0===Xe?{}:Xe,$e=ke.scheduleOrderData,et=void 0===$e?{}:$e,tt=Ze.dispositionType,nt=void 0===tt?localStorage.getItem("dispositionType"):tt,at=j.a.useState(""),it=Object(i.a)(at,2),ot=it[0],rt=it[1],ct=Object(b.useState)({}),dt=Object(i.a)(ct,2),lt=dt[0],st=dt[1],ut=Object(b.useState)({}),vt=Object(i.a)(ut,2),Ot=vt[0],bt=vt[1],jt=Object(b.useState)(!1),mt=Object(i.a)(jt,2),ft=mt[0],pt=mt[1],ht=Object(b.useState)(!1),Et=Object(i.a)(ht,2),St=Et[0],gt=Et[1],Tt=j.a.useState([]),Nt=Object(i.a)(Tt,2),It=Nt[0],xt=Nt[1],Dt=j.a.useState(!1),At=Object(i.a)(Dt,2),Ct=At[0],_t=At[1],yt=Object(b.useState)(null),Rt=Object(i.a)(yt,2),wt=Rt[0],Lt=Rt[1],Mt=Object(b.useState)(Object(v.Uc)(window.innerWidth)),kt=Object(i.a)(Mt,2),Pt=kt[0],Ft=kt[1],Ht=0,Ut=Object(b.useState)(0),Bt=Object(i.a)(Ut,2),Yt=Bt[0],Vt=Bt[1],Gt=Object(b.useState)(""),Wt=Object(i.a)(Gt,2),Kt=Wt[0],zt=Wt[1],Jt=j.a.useState(!1),Xt=Object(i.a)(Jt,2),qt=Xt[0],Qt=Xt[1],Zt=j.a.useState([]),$t=Object(i.a)(Zt,2),en=$t[0],tn=$t[1],nn=j.a.useState([]),an=Object(i.a)(nn,2),on=an[0],rn=an[1],cn=Object(b.useContext)(O.a).userOrderStateDispatch,dn=0,ln=Object(m.b)(),sn=Object(m.c)((function(e){return e.tenantReducer})),un=(sn||{}).tenantId,vn=void 0===un?{}:un,On=0,bn=j.a.useState(!1),jn=Object(i.a)(bn,2),mn=jn[0],fn=jn[1],pn=j.a.useState(!1),hn=Object(i.a)(pn,2),En=hn[0],Sn=hn[1],gn=Object(m.c)((function(e){return e.appStateReducer})),Tn=Object(m.c)((function(e){return Object(v.zc)(e.LoaderReducer)})).isLoading,Nn=gn.userStatus,In=(void 0===Nn?{}:Nn).loggedIn,xn=void 0!==In&&In,Dn=j.a.useState([]),An=Object(i.a)(Dn,2),Cn=An[0],_n=An[1],yn=j.a.useState(!0),Rn=Object(i.a)(yn,2),wn=Rn[0],Ln=Rn[1],Mn=Ye.a.getInstance().customerId,kn=Object(b.useState)(325),Pn=Object(i.a)(kn,2),Fn=Pn[0],Hn=Pn[1],Un=Object(b.useState)(!1),Bn=Object(i.a)(Un,2),Yn=Bn[0],Vn=Bn[1],Gn=function(){var e=Object(v.Uc)(window.innerWidth);Ft(e)};Object(b.useEffect)((function(){return window.addEventListener("resize",Gn),function(){window.removeEventListener("resize",Gn)}}),[Pt]),Object(b.useEffect)((function(){return window.addEventListener("keydown",ze),function(){window.removeEventListener("keydown",ze)}}));var Wn=null===(t=document.getElementById("map-store-card"))||void 0===t?void 0:t.clientHeight;Object(b.useEffect)((function(){Wn&&Fn!==Wn&&Hn(Wn)}),[Wn]);var Kn=function(){var e=Object(S.a)(T.a.mark((function e(t){var n,a,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.geocodeByAddress)(t);case 2:return n=e.sent,e.next=5,Object(C.getLatLng)(n[0]);case 5:a=e.sent,st(a),bt(a),Ht=0,Xn(t),rt(t),U({userLat:a.lat,userLong:a.lng}),_t(!1),i=Boolean(Object(v.S)(Object(v.xc)(ot,t),Object(v.S)(0===Ht,0===dn))),Qt(i);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zn=function(){localStorage.setItem("currentStoreInfo",JSON.stringify(null)),cn({type:we,value:null}),cn({type:Le,value:{showDisposition:!1}}),cn({type:Re,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(ye)})},Jn=function(e,t,n){return Object(F.jsx)("div",{className:"store-card",children:nt.toUpperCase()===fe?Object(F.jsxs)("div",{className:"no-store",children:[Object(F.jsx)("div",{className:"no-store-icon",children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:w.a,alt:"no store"})}),Object(F.jsx)("div",{className:"no-store-text",children:e()}),Object(F.jsx)(L.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn",onClickHandler:Zn,children:Object(c.e)(n)})]}):Object(F.jsxs)("div",{className:"no-store",children:[Object(F.jsx)("div",{className:"no-store-icon",children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:w.a,alt:"no store"})}),Object(F.jsx)("div",{className:"no-store-text",children:e()}),Object(F.jsx)(L.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn dine-in-error-btn",onClickHandler:Zn,children:Object(c.e)(n)}),Object(F.jsx)(L.a,{"data-testid":"orderTakeaway-click-btn",className:"button whiteButton blackBorder location-warning-button ml dine-in-error-btn",onClick:function(e){return function(e){e.preventDefault(),cn({type:_e,value:{dispositionType:Ce}}),Kn(ot)}(e)},children:Object(c.e)(ge)})]})})};Object(b.useEffect)((function(){if(null!==et&&void 0!==et&&et.changeFlow||null===Ve||void 0===Ve||!Ve.searchedPlaceNonLocalized){if(localStorage.getItem("searchStoreByAttribute")){var e=localStorage.getItem("searchStoreByAttribute");rt(e),Kn(e)}}else Kn(Ve.searchedPlaceNonLocalized)}),[]);Object(b.useEffect)((function(){if(ot){var e=g.filter(We);if(e.length>0){var t=e.filter((function(e){var t,n,a,i,o,r;return(null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus)===je&&(null===(a=e.summary)||void 0===a||null===(i=a.timings)||void 0===i||null===(o=i.scheduled)||void 0===o||null===(r=o.periods)||void 0===r?void 0:r.length)>0}));if(t.length>=K){var n=t.slice(0,K);xt(n)}else if(t.length<K){var a=K-t.length,i=e.filter((function(e){var t,n,a,i,o,r;return(null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus)===pe||0===(null===(a=e.summary)||void 0===a||null===(i=a.timings)||void 0===i||null===(o=i.scheduled)||void 0===o||null===(r=o.periods)||void 0===r?void 0:r.length)})).slice(0,a),o=t.concat(i);xt(o)}}else Ht=0,xt([])}else xt([]),_n([]),tn([]),Qt(!1)}),[g,ot]),Object(b.useEffect)((function(){if(g.length>0){q({userLat:Ot.lat,userLong:Ot.lng});var e=H.sort((function(e,t){return Object(k.d)(e,t)})),t=null===e||void 0===e?void 0:e.filter((function(e){var t,n;return null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus}));_n(t)}}),[g,H.length]),Object(b.useEffect)((function(){Ct&&(rt(Kt),Xn(Kt),_t(!1)),localStorage.getItem("ALREADY_SERACHED_LOCATIONS")!==ot&&(xt([]),tn([]),Lt(""),_n([]));var e=Object(v.d)(ot,ce);Vn(e)}),[Ve,ot,Ct,Kt]);var Xn=function(e){Object(v.md)(e,se)},qn=function(){var e=Object(S.a)(T.a.mark((function e(){var t,n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.BindLocation();case 2:Object(k.m)(),u.b.coordinates&&(t=u.b.coordinates,n=t.latitude,a=t.longitude,u.b.addFeedback("Check coordinates ".concat(JSON.stringify(u.b.coordinates))),u.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:n,userLong:a}))),u.b.addFeedback("Check address ".concat(u.b.address)),Ht=0,st({lat:n,lng:a}),pt(!1),U({userLat:n,userLong:a}),Qt(!0),rt(u.b.address),zt(u.b.address),_t(!0));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qn=function(e){return t=e,Object(v.yc)(JSON.parse(localStorage.getItem(se))).includes(t);var t},Zn=function(){rt(""),_n([]),xt([]),tn([]),Qt(!1),Lt(""),pt(!1)},$n=Object(b.useCallback)(Object(S.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(It.map(function(){var e=Object(S.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{lat:t.location.latitude,lng:t.location.longitude});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:t=e.sent,st(t);case 4:case"end":return e.stop()}}),e)}))),[It]),ea=Object(b.useCallback)(Object(S.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Cn.map(function(){var e=Object(S.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{lat:t.location.latitude,lng:t.location.longitude});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:t=e.sent,st(t);case 4:case"end":return e.stop()}}),e)}))),[Cn]),ta=function(){Object(k.i)(ft,nt),pt(!ft),gt(!ft)},na=function(e,t){Lt(e),Vt(t)},aa=function(){$n(),gt(!0),Lt(Object(v.zc)(It[Yt]))},ia=function(){var e=Object(S.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ea();case 2:gt(!0),Lt(Object(v.zc)(Cn[Yt]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(b.useEffect)((function(){!function(e,t,n,a){var i=a.TYPE_TAKE_WAY,o=a.DINE_IN,r=a.dispositionType,c=a.callSelectedStore,d=a.callSelectedFavStore;e?t.length&&[i,o].indexOf(r.toUpperCase())>-1&&c():n.length&&[i,o].indexOf(r.toUpperCase())>-1&&d()}(wn,It,Cn,{TYPE_TAKE_WAY:fe,DINE_IN:xe,dispositionType:nt,callSelectedStore:aa,callSelectedFavStore:ia});var e=It.filter((function(e){var t,n,a,i,o,r;return(null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus)===pe||0===(null===(a=e.summary)||void 0===a||null===(i=a.timings)||void 0===i||null===(o=i.scheduled)||void 0===o||null===(r=o.periods)||void 0===r?void 0:r.length)})),t=It.filter((function(e){var t,n,a,i,o,r,c,d,l,s="CLOSED"===e.summary.status.currentStatus,u=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n||null===(a=n.message)||void 0===a?void 0:a.indexOf("EMERGENCY_SHUTDOWN")),v=-1!==(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(o=i.status)||void 0===o||null===(r=o.message)||void 0===r?void 0:r.indexOf("TECHNICAL_SHUTDOWN")),O=null===e||void 0===e||null===(c=e.summary)||void 0===c?void 0:c.timings,b=O.futureDates,j=O.scheduled,m=O.asap,f=j.unavailibilities,p=j&&(null===j||void 0===j||null===(d=j.periods)||void 0===d?void 0:d.length)&&(null===j||void 0===j?void 0:j.periods[0]),h=p.interval,E=void 0===h?0:h,S=p.startEndTime,g=void 0===S?{}:S,T=g.from,N=g.to,I=Object(Ne.f)(T,N,E,null===m||void 0===m?void 0:m.isAvailable,1===b.length&&(null===sn||void 0===sn||null===(l=sn.country)||void 0===l?void 0:l.toUpperCase())===Me,f);return(!I||0===I.length)&&s&&(u||v)}));tn(e),rn(t)}),[It,Yt,wt,X,xe,pe,fe,nt,$n,wn,Cn]);var oa=function(e){Lt("");var t=e?Yt+1:Yt-1;Vt(t),function(e,t,n,a,i){t(!0===e?Object(v.zc)(n[i]):null===a||void 0===a?void 0:a[i])}(wn,Lt,It,Cn,t)},ra=function(e){Ln(e)},ca=function(){localStorage.setItem("setFav",!0),localStorage.removeItem("renderComp")},da=function(e){ca(),ln(Object(l.s)({data:{storeId:e.id},tenantId:vn,customerId:Mn,dispatch:"dispatch"})),Sn(!0)},la=function(e){ca(),ln(Object(l.t)({tenantId:vn,customerId:Mn,storeId:Object(v.zc)(e.id),dispatch:"dispatch"})),Sn(!1)};Object(b.useEffect)((function(){En&&fn(!0)}),[H.length]),Object(b.useEffect)((function(){0!==Ht||0!==dn||!qt||X||Tn||(nt.toUpperCase()===fe?Object(v.ub)(Object(c.e)(E.a.contentData.searchStoreHeaderText),Object(c.e)(Te)):Object(v.ub)(Object(c.e)(E.a.contentData.searchStoreHeaderText),Object(c.e)(Se)))}),[Ht,dn,qt,X,Tn]);var sa=function(e,t){var n,i,o,r,c=(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(i=n.status)||void 0===i?void 0:i.currentStatus)===je,d=(e.availableServicesPerChannel&&Object(k.g)(e.availableServicesPerChannel))[0].services,l=void 0===d?[]:d,u="".concat(e.name[0].value,"_").concat(t);return Object(F.jsx)(j.a.Fragment,{children:c?Object(F.jsx)(De,Object(a.a)(Object(a.a)({"data-testid":t,storeName:Object(v.Bc)(e.name[0].value),storeDistance:Object(v.xc)(null===e||void 0===e||null===(o=e.distance)||void 0===o?void 0:o.value,null===e||void 0===e?void 0:e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:Object(v.zc)(e.addresses[0].address)},s[0]),{},{storeInfo:e,currentMarket:G,isOpen:c,isMapView:!0,onStoreSelectFinish:z,isMobile:Pt,centerIndex:Yt,storeLength:Object(v.mc)(wn,null===It||void 0===It?void 0:It.length,null===Cn||void 0===Cn?void 0:Cn.length)}),t):Object(F.jsx)(Pe,Object(a.a)(Object(a.a)({orderTypes:l,storeName:Object(v.Bc)(e.name[0].value),storeDistance:Object(v.xc)(null===e||void 0===e||null===(r=e.distance)||void 0===r?void 0:r.value,null===e||void 0===e?void 0:e.distance),addresses:Object(v.zc)(e.addresses[0].address),storeStatus:e.summary,onStoreSelectFinish:z,isMobile:Pt,isMapView:!0,storeInfo:e,mapText:re,onClick:function(){ta(),$n()}},s[0]),{},{onPositionChangeHandler:oa,centerIndex:Yt,storeLength:Object(v.mc)(wn,null===It||void 0===It?void 0:It.length,null===Cn||void 0===Cn?void 0:Cn.length)}),u)})},ua=Cn.map((function(e,t){var n,i,o,r;if((null===(n=e.summary)||void 0===n||null===(i=n.status)||void 0===i?void 0:i.currentStatus)===je){var c,d,l=(null===(c=e.summary)||void 0===c||null===(d=c.status)||void 0===d?void 0:d.currentStatus)===je;return l&&On++,Object(F.jsx)(j.a.Fragment,{children:Object(F.jsx)(De,Object(a.a)(Object(a.a)({"data-testid":t,storeName:Object(v.Bc)(e.name[0].value),storeDistance:Object(v.Bc)(e.distance.value),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:Object(v.zc)(e.addresses[0].address)},s[0]),{},{storeInfo:e,currentMarket:G,isOpen:l,onStoreSelectFinish:z,isMobile:Pt,loggedIn:xn,onClickMapHandler:function(){na(e,t),ta()},isFavoriteStore:!0,addToFavoriteHandler:function(){da(e)},removeFromFavoriteHandler:function(){la(e)}}),t)})}if((null===(o=e.summary)||void 0===o||null===(r=o.status)||void 0===r?void 0:r.currentStatus)===pe){On++;var u=(e.availableServicesPerChannel&&Object(k.g)(e.availableServicesPerChannel))[0].services,O=void 0===u?[]:u,b="".concat(e.name[0].value,"_").concat(t);return Object(F.jsx)(j.a.Fragment,{children:Object(F.jsx)(Pe,Object(a.a)({storeName:Object(v.Bc)(e.name[0].value),storeDistance:Object(v.Bc)(e.distance.value),orderTypes:O,addresses:Object(v.zc)(e.addresses[0].address),storeStatus:e.summary,mapText:re,isMobile:Pt,loggedIn:xn,onClickMapHandler:function(){na(e,t),ta()},isFavoriteStore:!0,addToFavoriteHandler:function(){da(e)},removeFromFavoriteHandler:function(){la(e)},onStoreSelectFinish:z,storeInfo:e},s[0]),b)})}})),va=It.map((function(e,t){var n,i,o,r;if(ot||xt([]),Ht>=K||0===(null===(n=e.summary)||void 0===n||null===(i=n.timings)||void 0===i||null===(o=i.scheduled)||void 0===o||null===(r=o.periods)||void 0===r?void 0:r.length))return null;var c,d,l=(null===(c=e.summary)||void 0===c||null===(d=c.status)||void 0===d?void 0:d.currentStatus)===je;return l&&Ht++,Object(F.jsx)(j.a.Fragment,{children:Object(F.jsx)(De,Object(a.a)(Object(a.a)({"data-testid":t,storeName:Object(v.Bc)(e.name[0].value),storeDistance:Object(v.Bc)(e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:Object(v.zc)(e.addresses[0].address)},s[0]),{},{storeInfo:e,currentMarket:G,isOpen:l,onStoreSelectFinish:z,isMobile:Pt,loggedIn:xn,onClickMapHandler:function(){na(e,t),ta()},isFavoriteStore:H.some((function(t){return t.id===e.id})),addToFavoriteHandler:function(){da(e)},removeFromFavoriteHandler:function(){la(e)}}),t)})})),Oa=function(){var e=-1!==nt.toLowerCase().indexOf("dine")?Ie:nt;if(n=Object(k.a)(e,g))return Object(F.jsx)(j.a.Fragment,{children:Object(F.jsx)(Y,{errorMsgToShow:n,onClearTextHandler:Zn,dispositionType:nt,handleGoBack:J})})},ba=function(){if(It.length===on.length&&on.length>0){var e=-1!==nt.toLowerCase().indexOf("dine")?Ie:nt,t=Object(k.a)(e,g);return Object(v.ub)(Object(c.e)(E.a.contentData.searchStoreHeaderText),Object(c.e)(t)),Oa()}if(It.length===en.length&&en.length)return ja;var a=-1!==nt.toLowerCase().indexOf("dine")?Ie:nt;return It.length&&(n=Object(k.a)(a,It))?Oa():(Ht<5&&va.push(ja),va)},ja=en.map((function(e,t){var n=e.availableServicesPerChannel&&Object(k.g)(e.availableServicesPerChannel),i=Object(v.yc)(n[0]).services,o=void 0===i?[]:i;if(ot||xt([]),dn>=K-Ht)return null;dn++;var r="".concat(e.name[0].value,"_").concat(t),c=It.findIndex((function(t){return t.id===e.id}));return Object(F.jsx)(j.a.Fragment,{children:Object(F.jsx)(Pe,Object(a.a)({storeName:Object(v.Bc)(e.name[0].value),storeDistance:Object(v.Bc)(e.distance),orderTypes:o,addresses:Object(v.zc)(e.addresses[0].address),storeStatus:e.summary,mapText:re,isMobile:Pt,loggedIn:xn,onClickMapHandler:function(){na(e,c),ta()},isFavoriteStore:H.some((function(t){return t.id===e.id})),addToFavoriteHandler:function(){da(e)},removeFromFavoriteHandler:function(){la(e)},onStoreSelectFinish:z,storeInfo:e},s[0]),r)})})),ma=function(){switch(nt.split("-").join(" ").toUpperCase()){case fe:return Object(c.e)(Te);case xe:return Object(c.e)(Se);default:return null}};return Object(F.jsxs)(j.a.Fragment,{children:[Object(F.jsxs)("div",{className:"searchStore-module-form","data-testid":"searchstore-component",children:[Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:"store-count",children:[Object(F.jsx)("span",{className:"member-signin",children:!xn&&Object(F.jsxs)("div",{"data-id":V.M.HEADER_SIGN_IN_ATTR_DATA_ID,"data-testid":"memberText",children:[Object(c.e)(Z),Object(F.jsx)("span",{onClick:B,children:Object(F.jsx)(N.a,{className:"store-signin-link",targettype:ee.targetType,href:ee.linkUrl,"data-testid":"store-signin-link",children:Object(c.e)(ee.linkText)})})]})}),Object(F.jsx)("span",{children:Object(F.jsxs)(N.a,{onClickHandler:qn,className:"store-location-link","data-testid":"useCurrentLocation",children:[Object(F.jsx)(I.a,{"data-testid":"",srcFile:x.a,alt:"location",className:"location-img"}),Object(c.e)(ne)]})})]}),Object(F.jsx)("div",{className:"search-address",children:Object(F.jsx)("div",{className:"input-address",children:Object(F.jsx)(_.a,{"data-testid":"handle-select",value:ot,onChange:function(e){e||Zn(),rt(e),Object(v.Ob)(e)<3&&Vn(!1)},onSelect:Kn,searchOptions:{componentRestrictions:{country:ue}},shouldFetchSuggestions:!0,onError:function(e,t){t()},children:function(e){var t=e.getInputProps,i=e.suggestions,o=e.getSuggestionItemProps;e.loading;return Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:"".concat(n||0===Ht&&0===dn&&qt&&X&&!It.length?"search-container-data error-border":"search-container-data"),children:[Object(F.jsx)(I.a,{"data-testid":"",srcFile:D.a,alt:"googleMapLocation",className:"google-location-img"}),Object(F.jsx)("input",Object(a.a)({"data-testid":"store-search-input",className:"store-search-input t-2"},t({placeholder:Object(c.e)(ie)}))),ot&&Object(F.jsx)("img",{"data-testid":"clear-text-icon",src:y.a,className:"clearTextIcon",onClick:function(){return Zn()}})]}),!!Object(v.S)(Object(v.Ob)(i),Yn)&&Object(F.jsx)("div",{className:"suggestion-list","data-testid":"suggestionlist-id",children:i.map((function(e,t){var n;if(null!==e&&void 0!==e&&null!==(n=e.types)&&void 0!==n&&n.some((function(e){return le.includes(e)}))){var i=e.active?{backgroundColor:ve,opacity:Oe}:{backgroundColor:be};return Object(F.jsxs)(j.a.Fragment,{children:[0===t&&Object(F.jsx)("div",{className:"suggestion-items suggest-text",id:"suggestion-text","data-testid":"suggestion-item-".concat(t),children:Object(c.e)(de)}),Object(F.jsx)("div",{style:i,children:Object(F.jsx)("div",Object(a.a)(Object(a.a)({"data-testid":"suggestion-item-".concat(t)},o(e,{className:"suggestion-items",id:"suggestion-items"})),{},{children:Object(F.jsxs)("div",{className:"suggested-address-alignment",children:[Object(F.jsx)("div",{children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:Qn(e.description)?R.a:A.a,alt:"googleMapLocation",className:"suggetion-pin",id:"suggetion-pin"})}),Object(F.jsx)("div",{className:"suggestion-description",children:e.description})]})}),t)})]})}}))})]})}})})})]}),Object(F.jsx)("div",{className:"my-3 store-form-separation margin-bottom"}),qe(ot,ft,me,ta,$n),Object(F.jsxs)("form",{className:"form",children:[Object(F.jsxs)("div",{className:"store-count",children:[!!Ht&&Object(F.jsx)("span",{"data-testid":"tab-open-store",className:Ge(xn,wn),onClick:function(){Vt(0),ra(!0)},children:xn?Object(F.jsxs)("span",{children:[" ","".concat(Object(c.e)("nearYou"))," (",Ht+dn,")"]}):Object(F.jsxs)("span",{children:[Ht+dn," ","".concat(Object(c.e)("nearYou"))]})}),!!dn&&It.length===en.length&&It.length!==on.length&&Object(F.jsx)("span",{"data-testid":"tab-closed-store",className:Ge(xn,wn),onClick:function(){Vt(0),ra(!0)},children:"".concat(Object(c.e)("nearYou")," (").concat(dn,")")}),0===Ht&&0===dn&&qt&&X&&Object(F.jsx)("span",{className:"store-count-title",children:"".concat(Object(c.e)("nearYou")," (").concat(Ht,")")}),Qe(Ht,dn,xn,On,{firstTab:wn,setCenterIndex:Vt,handleTabChange:ra}),(!!Ht||!!dn)&&It.length!==on.length&&Object(F.jsx)("div",{"data-testid":"togglemap-id",onClick:function(){Vt(0),ta(),Je(wn,$n,ea)},children:Object(F.jsxs)(N.a,{className:"map-link",children:[Object(F.jsx)("span",{children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:Ke(ft),alt:"map",className:"map-img"})}),ft?Object(c.e)(me):re]})}),0===Ht&&0===dn&&qt&&X&&Object(F.jsx)("div",{"data-testid":"show-map-div",onClick:function(){Vt(0),ta(),Je(wn,$n,ea)},children:Object(F.jsxs)(N.a,{className:"map-link",children:[Object(F.jsx)("span",{children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:Ke(ft),alt:"map",className:"map-img"})}),ft?Object(c.e)(me):Object(c.e)(re)]})})]}),ft?Object(F.jsx)("div",{className:"order-button-section",children:0===Ht&&0===dn&&qt&&X&&Object(F.jsx)("div",{className:"store-card store-card-map-view-error",children:Object(F.jsxs)("div",{className:"no-store",children:[Object(F.jsx)("div",{className:"no-store-icon",children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:w.a,alt:"no store"})}),Object(F.jsx)("div",{className:"no-store-text",children:ma()}),Object(F.jsx)(L.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClickHandler:zn,children:Object(c.e)(he)})]})})}):Object(F.jsxs)(F.Fragment,{children:[Object(v.S)(!Tn,Object(v.S)(wn,0!==Ht||0!==dn||!qt||X||It.length?ba():Jn(ma,zn,Ee))),xn&&!wn&&Object(F.jsx)("div",{className:"order-button-section",children:ua})]}),Object(F.jsx)("div",{className:"clearfix"}),Object(F.jsx)(Ue.a,{open:mn,anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:1e3,onClose:function(){fn(!1)},children:Object(F.jsxs)(Be.a,{children:[Object(F.jsx)(I.a,{"data-testid":"",srcFile:He,alt:"success",className:"success-img"}),"Saved to your favorite store"]})})]})]}),ft&&Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"".concat((null===nt||void 0===nt?void 0:nt.toUpperCase())!==Ae&&"takeawayDineInMap"," delivery-map"),children:[Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(M.a,{latLongValue:lt,loadingElement:Object(F.jsx)("div",{style:{height:"100%"}}),containerElement:Object(F.jsx)("div",{style:{height:"400px"}}),mapElement:Object(F.jsx)("div",{style:{height:"100%"}}),passAddress:function(e){rt(e)},isVisible:nt.toUpperCase()===fe||nt.toUpperCase()===xe,isMobile:Pt,centerIndex:Yt,onPositionChangeHandler:oa,setShowCard:gt,setStoreMarker:Object(v.mc)(wn,(function(e){var t=It.findIndex((function(t){return t.location.latitude===e.lat()&&t.location.longitude===e.lng()}));t>-1&&(Yt===t&&aa(),Vt(t))}),(function(e){!function(e,t,n,a,i){var o=e.findIndex((function(e){return e.location.latitude===a.lat()&&e.location.longitude===a.lng()}));o>-1&&(i===o&&t(),n(o))}(Cn,ia,Vt,e,Yt)})),storeCardHeight:Fn}),St&&wt&&Pt?!n&&sa(wt,"Selected-Card"):null]}),St&&wt&&!Pt?Object(v.S)(It.length===en.length,wn)?!n&&function(e,t){var n=e.availableServicesPerChannel&&Object(k.g)(e.availableServicesPerChannel),i=Object(v.yc)(n[0]).services,o=void 0===i?[]:i,r="".concat(e.name[0].value,"_").concat(t);return Object(F.jsx)(j.a.Fragment,{children:Object(F.jsx)(Pe,Object(a.a)(Object(a.a)({storeName:Object(v.Bc)(e.name[0].value),storeDistance:Object(v.Bc)(e.distance),orderTypes:o,addresses:Object(v.zc)(e.addresses[0].address),storeStatus:e.summary,mapText:re,isMobile:Pt,isMapView:!0,onStoreSelectFinish:z,onClick:function(){ta(),$n()},storeInfo:e},s[0]),{},{centerIndex:Yt,storeLength:Object(v.mc)(wn,null===It||void 0===It?void 0:It.length,null===Cn||void 0===Cn?void 0:Cn.length)}),r)})}(wt,"Selected-Card"):sa(wt,"Selected-Card"):""]})})]})}));function qe(e,t,n,a,i){return Object(F.jsx)(F.Fragment,{children:(null===e||void 0===e?void 0:e.length)<=3&&Object(F.jsxs)("div",{className:"enter-your-address-section",children:[Object(F.jsx)("span",{className:"search-store-text",children:Object(c.e)("pleaseEnterLocation")}),Object(F.jsx)("div",{"data-testid":"show-list-map",className:Object(v.mc)(t,"store-count","show-map-div"),onClick:function(){t&&a(),i()},children:Object(F.jsxs)(N.a,{className:"map-link",children:[Object(F.jsx)("span",{children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:Ke(t),alt:"map",className:"map-img"})}),Object(v.mc)(t,Object(c.e)(n),Object(c.e)("map"))]})})]})})}function Qe(e,t,n,a,i){var o=i.firstTab,r=i.setCenterIndex,d=i.handleTabChange;return Object(F.jsx)(F.Fragment,{children:(!!e||!!t)&&n&&Object(F.jsx)("span",{"data-testid":"tab-favorite-store",className:Ve(o),onClick:function(){r(0),d(!1)},children:"".concat(Object(c.e)("savedkfc")," (").concat(a,")")})})}var Ze=n(796),$e=n(95),et=function(e){var t=e.contentData,n=void 0===t?{}:t,E=e.onStoreSelectFinish,S=p.a.SEARCH_ORDER_DATA,g=p.a.DISPOSITION_DATA,T=p.a.ANALYTICS_LOCALISATION_SIGNIN,N=Object(m.b)(),I=h.a.COUNTRY_CODE,x=h.a.STORE_CARD_LIMIT,D=h.a.TYPE_TAKE_WAY,A=h.a.PICK_UP,C=h.a.TENANT_ID,_=h.a.TENATNT_SESSION_ID,y=h.a.TYPE_DELIVERY,R=Object(b.useContext)(O.a),w=R.userOrderState,L=R.userOrderStateDispatch,M=w.dispositionStateData,P=w.searchStoreData,H=Object(v.Bc)(M).dispositionType,U=void 0===H?localStorage.getItem("dispositionType"):H,B=P.currentMarket,Y=void 0===B?I:B,V=P.storeCardLimit,G=void 0===V?x:V,W=P.storeStatusUrl,K=void 0===W?"".concat(Object(r.a)(o.eb),"v1/stores/{storeid}/{channel}/{service}/status"):W,z=P.tenantID,J=void 0===z?C:z,X=P.tenantSessionID,q=void 0===X?_:X,Q=n.searchStoreHeaderText,Z=void 0===Q?"":Q,$=n.deliveryHeaderText,ee=void 0===$?"":$,te=n.searchStoreModalContent,ne=void 0===te?{}:te,ae=ne.formContent,ie=void 0===ae?{}:ae,oe=ne.locationsContent.storeData,re=void 0===oe?[]:oe,ce=j.a.useState([]),de=Object(i.a)(ce,2),le=de[0],se=de[1],ve=j.a.useState({}),Oe=Object(i.a)(ve,2),be=Oe[0],je=Oe[1],fe=j.a.useState([]),pe=Object(i.a)(fe,2),he=pe[0],Ee=pe[1],Se=j.a.useState([]),ge=Object(i.a)(Se,2),Te=ge[0],Ne=ge[1],Ie=Object(m.c)((function(e){return Object(v.zc)(e.tenantReducer)})),xe=Ie.storeSearch,De=void 0===xe?{}:xe,Ae=Ie.tenantId,Ce=Object(m.c)((function(e){return Object(v.zc)(e.storesReducer)})),_e=Ce.allStores,ye=void 0===_e?[]:_e,Re=Ce.storesWithStatus,we=void 0===Re?[]:Re,Le=Ce.isStoreStatusLoading,Me=void 0!==Le&&Le,ke=De.maxDriveTimeMins,Pe=De.distanceMetrics,Fe=De.maxDeliveryDistanceMtrs,He=De.maxPickupDistanceMtrs,Ue=De.geohashprecision,Be=De.boundingBoxSizeMeters,Ye=function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),L({type:g,value:{showDisposition:!1}}),L({type:S,value:{showSearchStore:!1}})};Object(b.useEffect)((function(){var e=function(e){27===e.keyCode&&Ye(e)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var Ve=function(e){e.stopPropagation(),e.preventDefault(),L({type:g,value:{showDisposition:!0}}),L({type:S,value:{showSearchStore:!1}})},Ge=function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem(T,JSON.stringify(!0)),Object(k.j)(),setTimeout((function(){Object($e.b)()}),500)},We=Object(m.c)((function(e){return e.profileReducer.favouriteStores}));Object(b.useEffect)((function(){Ke({userLat:be.userLat,userLong:be.userLong})}),[We.length]),Object(b.useEffect)((function(){ye.length>0&&et(ye)}),[ye]),Object(b.useEffect)((function(){we.length>0&&ot(we)}),[we]),Object(b.useEffect)((function(){(null===U||void 0===U?void 0:U.toUpperCase())===y&&tt(Te)}),[Te]);var Ke=function(e){Object(Ze.a)(e.userLat,e.userLong,We,ze)},ze=function(e,t){var n=Object(v.mc)((null===U||void 0===U?void 0:U.toUpperCase())===D,A,U),a=K.replace("{channel}",u.b.channel).replace("{service}",n).replace(" ","-"),i=Object(f.a)();Object(k.h)(e,a.toLowerCase(),J,q||Object(f.a)(),i,Je)},Je=function(e){var t=e.map((function(e){var t=e.storeBasic,n=t.additionalProperties,i=void 0===n?[]:n,o=t.address,r=t.amenities,c=t.dname,d=t.id,l=t.location;return Object(a.a)(Object(a.a)({},e),{},{id:d,location:l,name:c,amenities:r,addresses:o,additionalAttributes:i,storeBasic:{}})}));Ee(t)},qe=function(e){N(Object(d.b)()),je({userLat:e.userLat,userLong:e.userLong}),le&&se([]),Qe(e.userLat,e.userLong),setTimeout((function(){N(Object(d.a)())}),2e3)},Qe=function(e,t){var n={lat:e,lon:t,distanceFromCurrentLoc:Be/1e3,geohashprecision:Ue},a=s.a.calculateGH(n);N(Object(l.r)(null===a||void 0===a?void 0:a.length))},et=function(e){var t=Object(v.sb)(U.toUpperCase()),n=e.filter((function(e){var t,n;return Object(v.gd)(e.id)&&Object(v.gd)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(v.gd)(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude)})),a={stores:n,disposition:t,distanceMetrics:Pe,driveTime:ke,distanceInMtrs:Object(v.mc)(U.toUpperCase()===y,Fe,He),noOfStores:Object(v.mc)(U.toUpperCase()===y,2,n.length),channel:u.b.channel},i=s.a.checkAndProceed(a);Ne(i),U.toUpperCase()===y?tt(i):it(i,t)},tt=function(e){var t=[];null===e||void 0===e||e.forEach((function(e){var n,a;t.push({lat:null===(n=e.location)||void 0===n?void 0:n.latitude,lng:null===(a=e.location)||void 0===a?void 0:a.longitude})})),Object(Ze.b)(t,[{lat:be.userLat,lng:be.userLong}],nt)},nt=function(e){var t=e.allStoreDistance,n=(e.originAddressText,Object(v.sb)(U.toUpperCase())),a={stores:at(t,Te),numberOfStores:2,disposition:n,distanceMetrics:Pe,driveTime:ke,distanceInMtrs:Object(v.mc)((null===U||void 0===U?void 0:U.toUpperCase())===y,Fe,He),channel:u.b.channel},i=s.a.getSortedNearbyStores(a);(null===i||void 0===i?void 0:i.length)>0&&it(i,n)},at=function(e,t){return null===t||void 0===t?void 0:t.map((function(t,n){return Object(a.a)(Object(a.a)({},t),{},{distance:e[n]})}))},it=function(e,t){var n={data:null===e||void 0===e?void 0:e.map((function(e){return{storeId:e.id,channel:u.b.channel,service:t}})),store:e,tenantId:Ae,setStatusFlag:!1,isFavoritePage:!1};N(Object(l.d)(n,null))},ot=function(e){var t=e.filter((function(e){var t,n,a,i,o,r,c,d,l,s,u,v;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude)&&(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)&&(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(r=o.menu)||void 0===r||null===(c=r.catalogs)||void 0===c?void 0:c.length)&&(null===e||void 0===e||null===(d=e.summary)||void 0===d||null===(l=d.timings)||void 0===l||null===(s=l.operatingHours)||void 0===s?void 0:s.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v?void 0:v.asap)}));se(t)},rt=(null===U||void 0===U?void 0:U.toUpperCase())===y?Object(F.jsx)(ue,{singInClickhandler:Ge,formContent:ie,storeData:re,onStoreSelectFinish:E,eligibleStoreData:le,storeCardLimit:G,userPositionHandler:qe,currentMarket:Y}):Object(F.jsx)(Xe,{singInClickhandler:Ge,formContent:ie,storeData:re,eligibleStoreData:le,noStoresList:Me,storeCardLimit:G,userPositionHandler:qe,currentMarket:Y,onStoreSelectFinish:E,handleGoBack:Ve,favoriteStoreData:he,favoriteStoreHandler:Ke});return Object(F.jsx)(me,{handleClose:Ye,orderModeTypeItem:rt,headerText:Object(v.mc)((null===U||void 0===U?void 0:U.toUpperCase())===y,Object(c.e)(ee),Object(c.e)(Z)),handleGoBack:Ve,modalTitleId:"search-store"})};et.defaultProps=E.a;t.default=et},680:function(e,t,n){"use strict";n.r(t);n(4);var a=n(227),i=n(37),o=n(5);t.default=function(e){var t=e.itemQuantity,n=e.itemCount,r=e.updateItemQuantity,c=e.quantityAction,d=e.item,l=e.itemName,s=e.cartItemCount,u=e.maxItemCountPerLineItem,v=e.hideChild,O=void 0!==v&&v,b=e.type,j=void 0===b?"":b,m="Decreases quantity by 1 item for ".concat(l),f="Increases quantity by 1 item for ".concat(l),p=Object(i.c)((function(e){var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.isUpdateQuantityLoading}));return Object(o.jsxs)("div",{className:"cart-food-quantity-change",children:[n===t?Object(o.jsx)(a.a,{className:"button quantity-decrease",disabled:!0,"data-testid":"quantity-minus",ariaLable:"minus",children:!O&&Object(o.jsx)("span",{children:"-"})}):Object(o.jsx)(a.a,{className:"button quantity-decrease",ariaLable:m,disabled:p,onClickHandler:function(e){return r(d,c.Decrease,e)},"data-testid":"quantity-minus",type:j,children:!O&&Object(o.jsx)("span",{children:"-"})}),Object(o.jsx)("span",{className:"cart-food-quantity",children:n}),Object(o.jsx)("span",{className:"sr-only",role:"alert",children:"Quantity updated to ".concat(n)}),Object(o.jsx)(a.a,{className:".transparent-btn button quantity-increase",ariaLable:f,"data-testid":"quantity-plus",type:j,onClickHandler:function(e){return r(d,c.Increase,e)},disabled:0!==u&&s+n>u||p,children:!O&&Object(o.jsx)("span",{children:"+"})})]})}},683:function(e,t,n){"use strict";n.r(t),n.d(t,"ScheduleOrder",(function(){return O}));var a=n(4),i=n.n(a),o=n(759),r=n(867),c=n(133),d=n(5),l=function(e){var t=e.handleClose,n=e.ScheduleOrderForm,a=e.headerText,o=e.modalTitleId,r=void 0===o?"":o,l=e.handleGoBack;return Object(d.jsx)(i.a.Fragment,{children:Object(d.jsx)(c.a,{id:"ScheduleOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:r,show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:a,closeDataTestId:"close-modal-handler",showBackBtn:!0,backButtonHandler:l,children:n})})},s=n(60),u=n(12),v=n(10),O=function(e){var t=e.onStoreSelectFinish,n=Object(a.useContext)(s.a),i=n.userOrderState,c=n.userOrderStateDispatch,O=o.a.contentData,b=O.scheduleOrderHeaderText,j=O.scheduleOrderModalContent,m=O.changeScheduleOrderHeaderText,f=j.formContent,p=u.a.SEARCH_ORDER_DATA,h=u.a.SCHEDULE_ORDER_DATA,E=i.scheduleOrderData.changeFlow,S=void 0!==E&&E,g=function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),c({type:h,value:{selectedStoreInfo:i.scheduleOrderData.storeInfo,showScheduleOrder:!1}}),c({type:p,value:{showSearchStore:!1}})};Object(a.useEffect)((function(){var e=function(e){27===e.keyCode&&g(e)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var T=Object(d.jsx)(r.a,{formContent:f,onStoreSelectFinish:t});return Object(d.jsx)(l,{handleGoBack:function(){c({type:p,value:{showSearchStore:!0}}),c({type:h,value:{showScheduleOrder:!1}})},handleClose:g,ScheduleOrderForm:T,modalTitleId:"schedule-order",headerText:S?Object(v.e)(m):Object(v.e)(b)})};t.default=O},722:function(e,t,n){"use strict";n.r(t);var a=n(28),i=n(4),o=n.n(i),r=n(7),c=n(32),d=n(0),l=n(37),s=n(84),u=n(10),v=n(224),O=n(69),b=n(845),j=n(60),m=(n(38),n(72)),f=n(8),p=n(2),h=n.n(p),E=n(225),S=n(86),g=n(1062),T=n(780),N=n(755),I=n(762),x=n(12),D=n(769),A=n(49),C=n(11),_=n(5),y=function(e){var t,n,a,i,c,d=e.item,l=e.index,s=e.classname,j=e.setStoreInfo,f=e.showMap,p=e.removeFromFavoriteHandler,h=e.orderNowButtonClickHandler,S=e.cardHeading,g=e.showAvailableService,N=e.isMobile,I=e.showMoreInfo,x=e.setShowCard,C=e.showDistance,y=e.dispositionType,R=(m.a.STORE_STATUS_CLOSED,m.a.ORDER_NOW_CTA_TEXT);return Object(_.jsx)(o.a.Fragment,{children:Object(_.jsxs)("div",{className:"bgv-set store-card d-flex flex-dir ".concat(s),children:[Object(_.jsx)("div",{className:"address-block d-flex",children:Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"card-store-container",children:[Object(_.jsx)("span",{className:"card-store-name card-store-global",children:null===d||void 0===d||null===(t=d.storeBasic)||void 0===t?void 0:t.dname[0].value}),C&&Object(_.jsx)("span",{className:"store-distance",children:Object(T.p)(null===d||void 0===d||null===(n=d.distance)||void 0===n?void 0:n.value)}),f&&!I&&Object(_.jsx)("span",{className:"store-index fl-rgt",children:S}),!N&&f&&I&&Object(_.jsx)(O.a,{"data-testid":"favorite-img",srcFile:v.a.PopupCloseBtn,alt:"close-btn",className:"close-cross-btn",onClick:function(){return x(!1)}}),N&&Object(_.jsx)(O.a,{"data-testid":"favorite-img",srcFile:v.a.FavoriteFillImage,alt:"favorite",className:"favorite-img fav-img-mobile",onClick:function(){var e;return p(null===d||void 0===d||null===(e=d.storeBasic)||void 0===e?void 0:e.id)}})]}),Object(_.jsxs)("div",{className:"card-content",children:[Object(_.jsx)("div",{className:"order-items",children:g(null===d||void 0===d?void 0:d.availableServicesPerChannel)}),Object(_.jsxs)("div",{className:"w-100",children:[Object(_.jsx)("span",{className:"store-address",children:Object(r.Db)(null===d||void 0===d||null===(a=d.storeBasic)||void 0===a?void 0:a.address[0].address)}),!f&&Object(_.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:function(){return j(d,l)},children:Object(_.jsx)(E.a,{className:"card-map-link",children:Object(u.e)(b.b.mapText)})})]}),Object(_.jsx)("div",{className:"info-timing ".concat(!(null!==d&&void 0!==d&&d.isOpen)&&"info-timingClosed"),children:Object(_.jsx)("span",{children:null===(i=Object(T.u)(d,null,null,y))||void 0===i?void 0:i.storeTimeMessage})}),Object(_.jsx)("div",{className:"facilities",children:(null===(c=Object(D.a)(null===d||void 0===d?void 0:d.storeBasic))||void 0===c?void 0:c.length)>0&&Object(D.a)(null===d||void 0===d?void 0:d.storeBasic).map((function(e){return Object(_.jsx)(O.a,{"data-testid":"",srcFile:e.image,alt:Object(r.xc)(e.label,""),className:"facility-img",title:e.label},e.key)}))})]})]})}),Object(_.jsxs)("div",{className:"button-block align-center d-flex mt-2 ".concat(f&&I?"fav-store-block":""),children:[!f&&!N&&Object(_.jsx)("div",{className:"d-flex flex-dir flex-dir-pos",children:Object(_.jsx)(O.a,{"data-testid":"favorite-img",srcFile:v.a.FavoriteFillImage,alt:"favorite",className:"favorite-img",onClick:function(){var e;return p(null===d||void 0===d||null===(e=d.storeBasic)||void 0===e?void 0:e.id)}})}),Object(_.jsx)(A.a,{"data-testid":"order-now",className:"padding-set wdth-set order-pad ml5 button redButton search-store-card-btn",onClickHandler:function(e){return h(e,d)},disabled:!(null!==d&&void 0!==d&&d.isOpen),children:Object(u.e)(R)})]})]})})},R=n(3),w=n(1012),L=n(253),M=n(135),k=n(114),P=function(e){var t,n=e.favouriteStores,o=e.removeFromFavoriteHandler,p=e.showMoreInfo,D=e.isMobile,P=e.savedAddresses,F=Object(i.useState)(),H=Object(a.a)(F,2),U=H[0],B=H[1],Y=Object(i.useState)({}),V=Object(a.a)(Y,2),G=V[0],W=V[1],K=Object(i.useState)(!1),z=Object(a.a)(K,2),J=z[0],X=z[1],q=Object(i.useState)(!1),Q=Object(a.a)(q,2),Z=Q[0],$=Q[1],ee=Object(i.useState)(!1),te=Object(a.a)(ee,2),ne=te[0],ae=te[1],ie=Object(i.useState)({}),oe=Object(a.a)(ie,2),re=oe[0],ce=oe[1],de=Object(i.useState)(0),le=Object(a.a)(de,2),se=le[0],ue=le[1],ve=Object(i.useState)(null),Oe=Object(a.a)(ve,2),be=Oe[0],je=Oe[1],me=Object(i.useContext)(j.a),fe=me.userOrderState,pe=me.userOrderStateDispatch,he=Object(l.c)((function(e){return e.appStateReducer.userStatus})),Ee=Object(l.c)((function(e){return e.profileReducer})),Se=Object(l.c)((function(e){return e.tenantReducer})),ge=Object(r.zc)(null===Se||void 0===Se?void 0:Se.componentOptions).componentOptions,Te=void 0===ge?{}:ge,Ne=Object(r.zc)(null===Te||void 0===Te||null===(t=Te.web)||void 0===t?void 0:t.shouldCheckDropOffAddress).shouldCheckDropOffAddress,Ie=void 0===Ne||Ne,xe=he.localized,De=Object(w.a)(fe),Ae=Object(r.zc)(null===Se||void 0===Se?void 0:Se.basic).allowedServices,Ce=void 0===Ae?[]:Ae,_e=Object(r.zc)(Ee),ye=_e.pastOrders,Re=void 0===ye?[]:ye,we=_e.favouriteOrders,Le=void 0===we?[]:we,Me=x.a.SEARCH_ORDER_DATA,ke=x.a.SELECTED_TILE_DATA,Pe=x.a.SCHEDULE_ORDER_TIME_DATA,Fe=x.a.CURRENT_STORE_INFO,He=x.a.AUSTRALIA,Ue=x.a.DISPOSITION_DATA,Be=x.a.SCHEDULE_ORDER_DATA,Ye=x.a.FAV_STORE_NOT_IN_RADIUS,Ve=x.a.DISPOSITION_METHOD,Ge=x.a.SET_DISPOSITION,We=b.b.MY_FAV_STORES,Ke=Object(l.b)();Object(i.useEffect)((function(){var e=[].concat(Object(c.a)(Re),Object(c.a)(Le)).find((function(e){return Object(r.Ic)(null===e||void 0===e?void 0:e.service)}));B(e)}),[Re.length,Le.length]);var ze=function(e,t,n){var a,i,o=e;Xe(),localStorage.setItem(R.ac.CURRENT_STORE_INFO_STORAGE,JSON.stringify(o)),function(e){pe({type:Fe,value:e})}(o),Object(L.e)(null===o||void 0===o||null===(a=o.name)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.value),pe({type:Pe,value:{selectedDateTime:t}}),localStorage.setItem(R.ac.TENANT_REDUCER,JSON.stringify(Se)),localStorage.setItem(R.ac.SELECTED_TILE,JSON.stringify({})),localStorage.setItem(R.ac.DISPOSITION_TYPE,n),localStorage.setItem(R.ac.STORE_INFO,JSON.stringify(o)),localStorage.setItem(R.ac.DATE_TIME_ORDER,JSON.stringify(t))},Je=localStorage.getItem(R.ac.DISPOSITION_TYPE),Xe=function(){pe({type:ke,value:{selectedData:{}}})},qe=function(e,t){var n,a;if(t===R.od){if(!xe||xe&&(null===De||void 0===De?void 0:De.type)===R.y.toUpperCase())return pe({type:Ue,value:{showDisposition:!0}}),void localStorage.setItem(R.ac.RETAIN_ADDRESS,[null===e||void 0===e?void 0:e.name[0].value])}else t===R.y&&(pe({type:Ve,value:{dispositionType:R.y}}),pe({type:Me,value:{configSearchScreen:S.c}}),localStorage.setItem(R.ac.SERVICE_TYPE,R.y));pe({type:Ge,value:{oldvalue:De}});var i={time:R.i,interval:null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(a=n.timings.scheduled.periods[0])||void 0===a?void 0:a.interval,date:new Date,selectedTime:R.i};ze(e,i,null===De||void 0===De?void 0:De.type),Object(I.d)(null===De||void 0===De?void 0:De.type),pe({type:Me,value:{showSearchStore:!1}}),pe({type:Be,value:{showScheduleOrder:!0,changeFlow:Object(r.mc)(Object(r.S)(t,t===R.y),!1,!0)}})},Qe=function(){var e=Object(f.a)(h.a.mark((function e(t,n){var a,i,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Object(r.mc)(n===R.y,Object(r.sb)(R.y),Object(r.S)(De,null===De||void 0===De?void 0:De.type)?Object(r.sb)(null===De||void 0===De?void 0:De.type):Object(r.sb)(null===Se||void 0===Se||null===(a=Se.authoredContent)||void 0===a?void 0:a.defaultdisposition)),Ke(Object(s.j)({storeId:null===t||void 0===t||null===(i=t.storeBasic)||void 0===i?void 0:i.id,tenantId:null===Se||void 0===Se?void 0:Se.tenantId},(function(e){var a,i={data:Object(r.u)([{id:null===t||void 0===t||null===(a=t.storeBasic)||void 0===a?void 0:a.id}],o,null,Ie),store:[Object(d.a)(Object(d.a)({},e),{},{service:o})],tenantId:null===Se||void 0===Se?void 0:Se.tenantId};Ke(Object(s.d)(i,(function(e){W(e[0]),qe(e[0],n)})))})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(f.a)(h.a.mark((function e(t,n){var a,i,o,c,d,l,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.setItem(R.ac.SET_CART_CLEAR,!0),W(n),t.preventDefault(),t.stopPropagation(),Object(T.I)(),a=it(null===n||void 0===n?void 0:n.availableServicesPerChannel,!0),i=a.unavailableServiceinfo,!Object(r.S)(U,!i.includes(R.y))){e.next=9;break}return X(!0),e.abrupt("return");case 9:if((null===De||void 0===De?void 0:De.type)===R.S.toUpperCase()&&(c=Object(r.Pc)(null===fe||void 0===fe?void 0:fe.eligibleStore)?JSON.parse(localStorage.getItem(R.ac.ELIGIBLE_STORE)):null===fe||void 0===fe?void 0:fe.eligibleStore,o=c.find((function(e){var t;return(null===e||void 0===e?void 0:e.id)===(null===n||void 0===n||null===(t=n.storeBasic)||void 0===t?void 0:t.id)}))),xe){e.next=15;break}pe({type:Ue,value:{showDisposition:!0}}),localStorage.setItem(R.ac.RETAIN_ADDRESS,[null===n||void 0===n||null===(d=n.storeBasic)||void 0===d?void 0:d.dname[0].value]),e.next=20;break;case 15:if(o||(null===De||void 0===De?void 0:De.type)!==R.S.toUpperCase()){e.next=19;break}return pe({type:Me,value:{showSearchStore:!0,searchedPlaceNonLocalized:localStorage.getItem(R.ac.RETAIN_ADDRESS),configSearchScreen:S.c}}),pe({type:Ye,value:{showNotInRadiusError:!0,notInRadiusRestaurant:null===n||void 0===n||null===(l=n.storeBasic)||void 0===l||null===(s=l.dname[0])||void 0===s?void 0:s.value}}),e.abrupt("return");case 19:Qe(n);case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$e=function(){$(!Z),ae(!Z)};Object(i.useEffect)((function(){ae(!0),et()}),[se,be]);var et=function(){var e=n.map((function(e){return{lat:e.storeBasic.location.latitude,lng:e.storeBasic.location.longitude}}));ce(e)},tt=function(e,t){et(),je(e),ue(t),$e()},nt=function(e){var t=function(e){var t,n,a=Object(r.zc)(null===e||void 0===e||null===(t=e.summary)||void 0===t?void 0:t.timings),i=a.futureDates,o=a.scheduled,c=a.asap,d=Object(r.zc)(o&&o.periods.length&&o.periods[0]),l=d.interval,s=void 0===l?0:l,u=d.startEndTime,v=void 0===u?{}:u,O=Object(r.zc)(v),b=O.from,j=O.to,m=Object(r.zc)(o).unavailibilities;return Object(N.f)(b,j,s,null===c||void 0===c?void 0:c.isAvailable,Object(r.S)(1===(null===i||void 0===i?void 0:i.length),(null===Se||void 0===Se||null===(n=Se.country)||void 0===n?void 0:n.toUpperCase())===He),m)}(e).length;return Object(r.mc)(t,Object(u.e)(C.a.TODAY),Object(u.e)(C.a.TOMORROW))},at=function(e){var t,n=e.summary,a=Object(r.mc)(null===n||void 0===n||null===(t=n.timings)||void 0===t?void 0:t.operatingHours,null===n||void 0===n?void 0:n.timings,[]).operatingHours,i=void 0===a?[]:a;return Object(T.g)(e.isOpen,i)},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e&&Object(T.o)(e),a=Object(r.xc)(n[0],[]),i=a.services,o=void 0===i?[]:i,d=o.filter((function(e){return Object(r.sb)(e)})),l=null===Ce||void 0===Ce?void 0:Ce.filter((function(e){return!d.includes(e)}));if(t)return{availableServiceinfo:d,unavailableServiceinfo:l};var s=o.map((function(e,t){return Object(_.jsxs)("div",{className:"store-order-options",children:[Object(_.jsx)("span",{children:Object(_.jsx)(O.a,{"data-testid":"",srcFile:v.a.GreenTickImage,alt:"tick",className:"tick-image"})}),Object(_.jsx)("span",{children:Object(r.mc)(e===R.Ic,Object(u.e)(m.a.TAKE_AWAY),e)})]},t)})),b=null===l||void 0===l?void 0:l.map((function(e,t){return Object(_.jsxs)("div",{className:"store-order-options",children:[Object(_.jsx)("span",{children:Object(_.jsx)(O.a,{"data-testid":"",srcFile:v.a.WhiteExclamatry,alt:"tick",className:"unavail-tick-image tick-image"})}),Object(_.jsx)("span",{children:Object(r.mc)(e===R.Ic,Object(u.e)(m.a.TAKE_AWAY),e)})]},t)}));return[].concat(Object(c.a)(s),Object(c.a)(b))},ot=function(e,t,a){return Object(_.jsx)(y,{item:e,isMobile:D,index:t,classname:a,setStoreInfo:tt,timimgMsg:at,dispositionType:Je,checkToday:nt,showAvailableService:it,showMap:Z,removeFromFavoriteHandler:o,orderNowButtonClickHandler:Ze,cardHeading:"".concat(se+1," of ").concat(n.length),showMoreInfo:p,setShowCard:ae,showDistance:!xe&&P.length>0||xe})},rt=function(e){return e.sort((function(e,t){var n,a,i,o;return(null===(n=e.storeBasic)||void 0===n?void 0:n.dname[0].value)<(null===(a=t.storeBasic)||void 0===a?void 0:a.dname[0].value)?-1:(null===(i=e.storeBasic)||void 0===i?void 0:i.dname[0].value)>(null===(o=t.storeBasic)||void 0===o?void 0:o.dname[0].value)?1:0}))}(n).map((function(e,t){return ot(e,t)}));return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"favorite-stores-section",children:[n.length>0&&Object(_.jsxs)("div",{className:"header-text",children:[Object(u.e)(We)," (",n.length,")",Z&&Object(_.jsx)("span",{"data-testid":"list-handler",onClick:function(){$e(),et()},children:Object(_.jsxs)(E.a,{className:"map-link-list",children:[Object(_.jsx)("span",{children:Object(_.jsx)(O.a,{"data-testid":"",srcFile:v.a.Union,alt:"map",className:"map-img"})}),Object(u.e)(m.a.LIST_TEXT)]})})]}),n.length>0&&!Z>0&&rt,Z&&Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"takeawayDineInMap delivery-map",children:[Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(g.a,{"data-testid":"mymap-id",latLongValue:re,loadingElement:Object(_.jsx)("div",{style:{height:"100%"}}),containerElement:Object(_.jsx)("div",{style:{height:"400px"}}),mapElement:Object(_.jsx)("div",{style:{height:"100%"}}),isVisible:!0,isMobile:D,centerIndex:se,onPositionChangeHandler:function(e){var t=e?se+1:se-1;ue(t),je(Object(r.zc)(n[t]))},setShowCard:ae,setStoreMarker:function(e){var t=n.findIndex((function(t){return t.storeBasic.location.latitude===e.lat()&&t.storeBasic.location.longitude===e.lng()}));t>-1&&(ue(t),je(Object(r.zc)(n[t])))},storeCardHeight:325}),ne&&be&&D?ot(be,"","Selected-mobile-Card"):null]}),ne&&be&&!D?ot(be,"","Selected-desktop-Card"):null]})})]}),J&&Object(_.jsx)(M.a,{handleClose:function(){X(!1),localStorage.removeItem(R.ac.SET_CART_CLEAR)},classNames:"clear-cart-modal item-unavailable",CartAlertForm:Object(_.jsx)(k.a,{title:Object(u.e)(C.a.WHICH_MENU),imageSrc:null===v.a||void 0===v.a?void 0:v.a.TakeawayCompleted,altText:"",confirmButtonText:Object(u.e)(C.a.CATERTING_MENU),confirmHandler:function(){Qe(G,R.y),X(!1)},cancelButtonText:Object(u.e)(C.a.STORE_MENU),cancelHandler:function(){Qe(G,R.od),X(!1)},secondaryButtonType:A.b.tertiary})})]})},F=function(e){var t=e.savedAddresses,n=e.addOrEditClickHandler,a=e.deleteAddressHandler,i=b.b.EDIT,c=b.b.DELETE,d=b.b.ADD_NEW_ADDRESS,l=b.b.ADD,s=b.b.DEFAULT,v=C.a.APT_SUITE_FLOOR,O=C.a.DELIVERY_OPTIONS,j=C.a.DELIVERY,m=C.a.INSTRUCTIONS,f=function(e){return e.sort((function(e,t){return t.isPrimary-e.isPrimary}))}(t).map((function(e){var t,d,l,b=e.addressLines,f=e.city,p=e.state,h=e.pinCode,E=e.country,S=e.name,g=e.isPrimary,T=e.id,N=e.deliveryOptions,I=e.deliveryInstructions;return Object(_.jsx)(o.a.Fragment,{children:Object(_.jsxs)("div",{className:"delivery-card bgv-set d-flex",children:[Object(_.jsxs)("div",{className:"address-description d-flex",children:[Object(_.jsxs)("p",{className:"address-mode address-mode-global",children:[Object(_.jsx)("span",{className:"text-transform-capitalize delivery-store-name",children:Object(_.jsx)("strong",{children:S})})," ",g?Object(_.jsx)("span",{children:"(".concat(Object(u.e)(s),")")}):""]}),Object(_.jsxs)("div",{className:"delivery-details",children:[Object(_.jsxs)("span",{className:"address-street-text",children:[Object(r.Dc)(b[1])," ",Object(r.Dc)(f)]}),Object(_.jsx)("span",{children:"".concat(Object(r.Dc)(p),", ").concat(Object(r.Dc)(h),", ").concat(Object(r.Dc)(E))}),b[0]&&Object(_.jsxs)("span",{className:"address-heading",children:[Object(u.e)(v),Object(_.jsxs)("strong",{children:[": ",b[0]]})]}),N&&Object(_.jsxs)("span",{className:"address-heading",children:[null===(t=Object(u.e)(O))||void 0===t?void 0:t.toLowerCase(),Object(_.jsxs)("strong",{children:[": ",Object(_.jsx)("span",{className:"address-text",children:N})]})]}),I&&Object(_.jsxs)("span",{className:"address-heading",children:[null===(d=Object(u.e)(j))||void 0===d?void 0:d.toLowerCase()," ",null===(l=Object(u.e)(m))||void 0===l?void 0:l.toLowerCase(),Object(_.jsxs)("strong",{children:[": ",Object(_.jsx)("span",{className:"address-text-Instructions",children:I})]})]})]})]}),Object(_.jsxs)("div",{className:"action-btn d-flex",children:[Object(_.jsx)("a",{onClick:function(){return n(i,e)},"data-testid":"edit-testid",className:"anchor-info edit-adjust",children:Object(u.e)(i)}),Object(_.jsx)("a",{onClick:function(){return a(T)},"data-testid":"delete-testid",className:"anchor-info del-adjust",children:Object(u.e)(c)})]})]})})}));return Object(_.jsxs)("div",{className:"address-section",children:[(null===t||void 0===t?void 0:t.length)>0&&f,Object(_.jsx)("div",{className:"add-address",children:Object(_.jsx)(A.a,{"data-testid":"add-testid",onClickHandler:function(){return n(l)},className:"mt-10 button font-bold whiteButton blackBorder",children:Object(u.e)(d)})})]})},H=n(41),U=n(180),B=n(1092),Y=n(43),V=function(e){var t=Object(l.b)(),n=e.savedAddresses,o=e.tenantId,c=C.a.NO_ADDRESS,d=C.a.DELETE_CONFIRM_MSG,s=C.a.CANCEL,O=C.a.YES_DELETE,b=C.a.MYDELIVERYADDRESSES,j=C.a.DELIVERY_ADD_DELETE,m=Object(i.useState)(!1),f=Object(a.a)(m,2),p=f[0],h=f[1],E=Object(i.useState)(!1),S=Object(a.a)(E,2),g=S[0],T=S[1],N=Object(i.useState)({}),I=Object(a.a)(N,2),x=I[0],D=I[1],A=Object(i.useState)(!1),y=Object(a.a)(A,2),R=y[0],w=y[1],L=Object(i.useState)(null),M=Object(a.a)(L,2),P=M[0],V=M[1];return Object(_.jsxs)("div",{className:"delivery-address-section",style:{"margin-top":"70px"},children:[Object(_.jsxs)("div",{className:"header-text",children:[Object(u.e)(b)," ","(".concat(n.length,")")]}),0===n.length&&Object(_.jsx)("div",{className:"no-fav-store",children:Object(_.jsx)("p",{children:Object(u.e)(c)})}),Object(_.jsx)(F,{savedAddresses:n,addOrEditClickHandler:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="edit"===e;D(t),h(!0),T(n)},deleteAddressHandler:function(e){w(!0),V(e)}}),p&&Object(_.jsx)(B.a,{"data-testid":"address-modal",modalType:g,address:x,isOpen:p,toggleModal:h}),R&&Object(_.jsx)(U.a,{handleClose:function(){return w(!1)},classNames:"plp-warning-msg addr-container",CartAlertForm:Object(_.jsx)(k.a,{title:"".concat(Object(u.e)(d)),imageSrc:v.a.CartErrorIcon,confirmButtonText:Object(u.e)(O),confirmHandler:function(){V(null);var e=Y.a.getInstance(),n=e.customerId,a=e.phoneNumber;t(Object(H.b)({customerId:n,phoneNumber:a,tenantId:o,addressId:P})),w(!1),Object(r.Yd)(Object(u.e)(j),"","favorites-added-toast")},cancelHandler:function(){return w(!1)},cancelButtonText:Object(u.e)(s),buttonContainerClass:"deeplink-alert-btn-container"})})]})},G=function(e){var t=b.b.MY_FAV_STORES,n=b.b.UNDEFINED,o=m.a.STORE_STATUS_OPEN,f=C.a.NO_FAVOURITE_STORE,p=C.a.REMOVED_MSG,h=(C.a.ADDRESS,Object(l.b)()),E=Object(i.useContext)(j.a).userOrderState,S=Object(l.c)((function(e){return e.storesReducer})),g=S.storesWithStatus,T=S.allStores,N=Object(l.c)((function(e){return e.profileReducer})),I=N.favouriteStores,x=N.savedAddresses,D=Object(l.c)((function(e){var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})).localized,A=void 0!==D&&D,y=Object(l.c)((function(e){return e.tenantReducer})),L=y.tenantId,M=void 0===L?"":L,k=y.storeSearch,F=void 0===k?{}:k,H=y.driveTime,U=(y.componentOptions||{}).web,B=(void 0===U?{}:U).shouldCheckDropOffAddress,G=void 0!==B&&B,W=Object(i.useState)([]),K=Object(a.a)(W,2),z=K[0],J=K[1],X=Object(i.useState)(!1),q=Object(a.a)(X,2),Q=q[0],Z=q[1],$=E.searchStoreData.showSearchStore,ee=E.scheduleOrderData.showScheduleOrder,te=Object(w.a)(E),ne=Object(i.useMemo)((function(){var e;return{dispositionType:te&&te.type?Object(r.sb)(te.type):Object(r.sb)(null===y||void 0===y||null===(e=y.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[te,y]).dispositionType;Object(i.useEffect)((function(){if(null!==I&&void 0!==I&&I.length&&M&&!$&&!ee){var e=Object(r.u)(I,ne,null,G);localStorage.getItem(R.ac.SET_FAV)||h(Object(s.d)({data:e,tenantId:M,isFavoritePage:!0}))}}),[M,null===I||void 0===I?void 0:I.length,x.length,$,ee]),Object(i.useEffect)((function(){return window.scrollTo(0,0),h(Object(s.q)()),function(){h(Object(s.q)())}}),[]),Object(i.useEffect)((function(){h(Object(s.q)())}),[I.length]),Object(i.useEffect)((function(){null!==z&&void 0!==z&&z.length&&null!==g&&void 0!==g&&g.length&&ae()}),[null===g||void 0===g?void 0:g.length,z.length]);var ae=function(){var e=z.map((function(e){var t=Object(d.a)({},e),n=g.find((function(t){return t.storeId===e.storeBasic.id||t.id===e.storeBasic.id}));return n&&(t.summary=n.summary,t.isOpen=n.summary.status.currentStatus===o),t}));J(e.filter((function(e){return e.summary})))};Object(i.useEffect)((function(){localStorage.getItem(R.ac.RENDER_COMP)&&localStorage.getItem(R.ac.SET_FAV)&&(localStorage.removeItem(R.ac.RENDER_COMP),localStorage.removeItem(R.ac.SET_FAV),h(Object(s.q)()),ie())})),Object(i.useEffect)((function(){if(ie(),Q){var e=Object(_.jsx)(O.a,{srcFile:v.a.heartIcon_active});Object(r.Zd)(Object(u.e)(p),e)}}),[I.length,Q]),Object(i.useEffect)((function(){ie()}),[x.length]);var ie=function(){var e=localStorage.getItem(R.ac.STORE_INFO),t=e&&e!==n&&JSON.parse(e),a=null!==x&&void 0!==x&&x.length?x.filter((function(e){return e.isPrimary})):[],i=t&&A?t:(null===a||void 0===a?void 0:a.length)&&a[0];if(i){var o=null===F||void 0===F?void 0:F.distanceMetrics;o=o!==(null===b.b||void 0===b.b?void 0:b.b.KM)?window.google.maps.UnitSystem.IMPERIAL:window.google.maps.UnitSystem.METRIC;var r,c,d=I.map((function(e){var t,n=null===(t=e.storeBasic)||void 0===t?void 0:t.location;return{lat:n.latitude,lng:n.longitude}}));if(null!==I&&void 0!==I&&I.length)oe([{lat:null===i||void 0===i||null===(r=i.location)||void 0===r?void 0:r.latitude,lng:null===i||void 0===i||null===(c=i.location)||void 0===c?void 0:c.longitude}],d,o);else J([]),Z(!1)}else null!==z&&void 0!==z&&z.length&&null!==g&&void 0!==g&&g.length?ae():(J(I),Z(!1))},oe=function(e,t,n){(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:Object(c.a)(e).slice(0,24),destinations:Object(c.a)(t).slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:n,avoidHighways:!1,avoidTolls:!1},re)},re=function(e,t){var n,a;a=e&&e.rows&&e.rows[0].elements.map((function(e){return e})),n=I.map((function(e,t){return Object(d.a)(Object(d.a)({},e),a[t])})),J(n),Z(!1)};return Object(_.jsxs)("div",{className:"addresses-and-stores-container",id:"addresses-global",children:[Object(_.jsxs)("div",{className:"my-delivery-addresses-header-mobile",children:[Object(_.jsx)(O.a,{srcFile:v.a.SingleArrowback,className:"backArrow-account-setting","data-testid":"backArrow-account-setting",onClick:function(){return e.updateMenu("")}}),Object(_.jsx)("span",{className:"account-setting-text-header",children:Object(u.e)(null===C.a||void 0===C.a?void 0:C.a.STOREADDRESS)})]}),(null===z||void 0===z?void 0:z.length)>0&&Object(_.jsx)(P,{"data-testid":"favStore-list",removeFromFavoriteHandler:function(e){var t=Y.a.getInstance().customerId;h(Object(s.t)({tenantId:M,customerId:t,storeId:e,dispatch:"dispatch"})),Z(!0)},localized:A,history:e.history,storesReducer:g,favouriteStores:z,isMobile:e.isMobile,showMoreInfo:!0,savedAddresses:x}),0===(null===z||void 0===z?void 0:z.length)&&Object(_.jsxs)("div",{className:"favorite-stores-section",children:[Object(_.jsxs)("div",{className:"header-text",children:[Object(u.e)(t)," (",I.length,")"]}),Object(_.jsx)("div",{className:"no-fav-store",children:Object(_.jsx)("p",{children:Object(u.e)(f)})})]}),Object(_.jsx)(V,{storeSearch:F,savedAddresses:x,isMobile:e.isMobile,tenantId:M,driveTime:H,allStores:T})]})},W=n(770),K=n(921),z=function(e){var t=e.handleClose,n=e.signOutAccount,a=b.a.SIGN_OUT,i=b.a.CANCEL,r=b.a.SIGN_OUT_ACCOUNT_MESSAGE,c={CONFIRM_SIGN_OUT_TEXT:{MSGTXT1:Object(u.e)(r)}};return Object(_.jsx)(o.a.Fragment,{children:Object(_.jsx)(M.a,{handleClose:t,classNames:"delete-account-modal",CartAlertForm:Object(_.jsx)(k.a,{splitTitle:c.CONFIRM_SIGN_OUT_TEXT,imageSrc:v.a.CartError,altText:"delete-account",cancelButtonText:Object(u.e)(i),confirmButtonText:Object(u.e)(a),confirmHandler:n,cancelHandler:t})})})},J=function(e){var t=e.currentMenu,n=e.updateMenu,o=e.signOutAccount,c=e.isMobile,d=e.basicData,l=Object(i.useState)(!1),s=Object(a.a)(l,2),O=s[0],b=s[1],m=Object(i.useState)(0),f=Object(a.a)(m,2),p=f[0],h=f[1],E=Object(i.useContext)(j.a).userOrderState,S=C.a.ADDRESS,g=C.a.ADDRESS_PLACEHOLDER,T=C.a.SIGN_OUT,N=C.a.GREETING_GOOD,I=C.a.KFC_LOVER,x=C.a.ORDER_HISTORY_TAG,D=C.a.FAVORITE_ORDERS,y=C.a.ACCOUNT_SETTING,w=C.a.MESSAGE_TAG,L=E.accountCardLength,M=function(){b(!1)};Object(i.useEffect)((function(){h(L)}),[L]);return c?Object(_.jsxs)("div",{className:"account-mobile-container",children:[Object(_.jsx)("div",{className:"account-mobile-header",children:Object(_.jsxs)("div",{className:"account-header-container",children:[Object(_.jsx)("img",{alt:"arrow",src:v.a.Strips,className:"account-icon"}),Object(_.jsx)("h4",{className:"account-header account-user-name-mobile",children:Object(u.e)("".concat(Object(u.e)(N)," ").concat(Object(r.Gb)(),"  ").concat(d.firstName||d.phone,"!"))}),Object(_.jsx)(A.a,{"data-testid":"signout-button1-testid",className:"button transparent-btn white-border sign-out-btn sign-out-btn-au","aria-label":"",onClick:function(){b(!0)},type:"submit",children:Object(_.jsx)("span",{children:Object(u.e)(T)})}),O&&Object(_.jsx)(z,{handleClose:M,signOutAccount:o})]})}),Object(_.jsxs)("div",{className:"account-mobile-menu-option",children:[Object(_.jsx)("section",{"data-testid":"account-messages-mobile-testid",onClick:function(){return n(w)},className:"account-accordian",children:Object(_.jsx)("div",{className:"global-accordian-container",children:Object(_.jsxs)("div",{className:"global-accordian-header-container",children:[Object(_.jsx)("span",{className:"global-accordian-header",children:Object(u.e)(w)}),!!p&&Object(_.jsx)("span",{className:"msg-badge",children:p}),Object(_.jsx)("img",{alt:"arrow",src:v.a.Arrow,className:"account-icon"})]})})}),Object(_.jsx)("section",{"data-testid":"order-history-mobile-testid",onClick:function(){return n(R.Wc.ORDER_HISTORY)},className:"account-accordian",children:Object(_.jsx)("div",{className:"global-accordian-container",children:Object(_.jsxs)("div",{className:"global-accordian-header-container",children:[Object(_.jsx)("span",{className:"global-accordian-header",children:Object(u.e)(x)}),Object(_.jsx)("img",{alt:"arrow",src:v.a.Arrow,className:"account-icon"})]})})}),Object(_.jsx)("section",{"data-testid":"fav-menu-mobile-testid",onClick:function(){return n(D)},className:"account-accordian",children:Object(_.jsx)("div",{className:"global-accordian-container",children:Object(_.jsxs)("div",{className:"global-accordian-header-container",children:[Object(_.jsx)("span",{className:"global-accordian-header",children:Object(u.e)(D)}),Object(_.jsx)("img",{src:v.a.Arrow,className:"account-icon"})]})})}),Object(_.jsx)("section",{"data-testid":"saved-address-mobile-testid",onClick:function(){return n(S)},className:"account-accordian",children:Object(_.jsx)("div",{className:"global-accordian-container",children:Object(_.jsxs)("div",{className:"global-accordian-header-container",children:[Object(_.jsx)("span",{className:"global-accordian-header",children:Object(u.e)(g)}),Object(_.jsx)("img",{alt:"arrow",src:v.a.Arrow,className:"account-icon"})]})})}),Object(_.jsx)("section",{"data-testid":"account-settings-mobile-testid",onClick:function(){return n(y)},className:"account-accordian",children:Object(_.jsx)("div",{className:"global-accordian-container",children:Object(_.jsxs)("div",{className:"global-accordian-header-container",children:[Object(_.jsx)("span",{className:"global-accordian-header",children:Object(u.e)(y)}),Object(_.jsx)("img",{src:v.a.Arrow,className:"account-icon",alt:""})]})})})]})]}):Object(_.jsxs)("div",{className:"account-header-container ".concat(Object(r.Gb)()===R.d&&"account-header-noon"),children:[Object(_.jsx)("img",{alt:"stripes",src:v.a.Strips,className:"account-icon"}),Object(_.jsx)("h4",{className:"account-header",children:Object(u.e)("".concat(Object(u.e)(N)," ").concat(Object(r.Gb)()))}),Object(_.jsx)("h4",{className:"account-user-name",children:Object(u.e)("".concat((null===d||void 0===d?void 0:d.firstName)||Object(u.e)(I),"!"))}),Object(_.jsxs)("div",{className:"account-menu-container",children:[Object(_.jsxs)("div",{"data-testid":"account-messages-testid",className:Object(r.mc)(t===w,"activeMenu account-menu","account-menu"),onClick:function(){return n(w)},children:[Object(u.e)(w),!!p&&Object(_.jsx)("span",{className:"msg-badge",children:p})]}),Object(_.jsx)("div",{"data-testid":"order-history-testid",className:Object(r.mc)(t===R.Wc.ORDER_HISTORY,"activeMenu account-menu","account-menu"),onClick:function(){return n(R.Wc.ORDER_HISTORY)},children:Object(u.e)(x)}),Object(_.jsx)("div",{className:Object(r.mc)(t===D,"activeMenu account-menu","account-menu"),onClick:function(){return n(D)},"data-testid":"fav-menu-link",children:Object(u.e)(D)}),Object(_.jsx)("div",{"data-testid":"saved-address-testid",className:Object(r.mc)(t===S,"activeMenu account-menu","account-menu"),onClick:function(){return n(S)},children:Object(u.e)(g)}),Object(_.jsx)("div",{"data-testid":"account-settings-testid",className:Object(r.mc)(t===y,"activeMenu account-menu","account-menu"),onClick:function(){return n(y)},children:Object(u.e)(y)})]}),Object(_.jsx)(A.c,{"data-testId":"signout-button1-testid",className:"sign-out-btn ","data-id":R.M.HEADER_SIGN_IN_ATTR_DATA_ID,variant:A.b.tertiary,inverted:!0,small:!0,"aria-label":"",type:"submit",onClick:function(){b(!0)},children:Object(_.jsx)("span",{"data-testid":"signout-button-testid",children:Object(u.e)(T)})}),O&&Object(_.jsx)(z,{handleClose:M,signOutAccount:o})]})},X=n(138),q=function(e){var t=Object(l.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)||null})),n=Object(l.b)(),a=Object(i.useContext)(j.a),o=a.userOrderState,c=a.userOrderStateDispatch,s=Object(r.mc)(Object(r.Pc)(o.dispositionNew),JSON.parse(localStorage.getItem(R.ac.DISPOSITION_NEW)),o.dispositionNew),u=Object(l.c)((function(e){var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus}));return Object(_.jsx)(J,Object(d.a)(Object(d.a)({},e),{},{signOutAccount:function(){!function(e,t,n,a,i){Object(K.n)(null===t||void 0===t?void 0:t.id),Object(X.a)(null,null,e,n,a,null,i,!0),Y.a.getInstance().logout()}(u,t,n,c,s)},basicData:t}))},Q=n(425),Z=C.a.MESSAGES_TAG,$=function(e){var t=e.isMobile,n=Object(i.useContext)(j.a),o=n.userOrderState,r=n.userOrderStateDispatch,c=Object(i.useState)(0),d=Object(a.a)(c,2),l=d[0],s=d[1],O=Object(i.useState)(0),b=Object(a.a)(O,2),m=b[0],f=b[1],p=Object(i.useRef)(),h=o.accountCardLength,E=v.a.SingleArrowback;return Object(i.useEffect)((function(){var e,t,n,a,i,o=document.getElementById("message-wrapper");p.current=m,null===(e=window)||void 0===e||null===(t=e.appboy)||void 0===t||t.requestContentCardsRefresh(),r({type:R.p,value:{accountCardLength:h}}),f(h),s(p.current),null===(n=window)||void 0===n||null===(a=n.appboy)||void 0===a||null===(i=a.display)||void 0===i||i.showContentCards(o)}),[h,r]),Object(_.jsxs)("div",{"data-testid":"account-message-wrapper",className:"account-message-wrapper",children:[t&&Object(_.jsxs)("div",{className:"account-message-header-mobile",children:[Object(_.jsx)("img",{className:"backArrow-account-setting","data-testid":"message-backArrow",onClick:function(){return e.updateMenu("")},src:E,alt:"back button"}),Object(_.jsx)("span",{className:"account-message-text-header",children:Object(u.e)(Z)})]}),Object(_.jsxs)("span",{className:"account-message-text-heading",children:[Object(u.e)(Z)," ",!!l&&"(".concat(l,")")]}),Object(_.jsx)("div",{id:"message-wrapper"})]})},ee=n(44),te=function(e){var t=e.onClickHandler,n=e.isDarkMode,a=void 0!==n&&n,i=e.dataTestId,o=e.title,c=e.onEditOccasionName,d=e.itemId,l=e.itemName,s=e.showContent,O=e.setCurrentIndex,b=e.currentIndex,j=e.index,m=v.a.AccordianArrow,f=v.a.AccordianUpArrow,p=v.a.AccordianDownDark,h=v.a.AccordianUpDark,E=function(e){O(Object(r.mc)(b!==j,j,null)),t&&!s&&t(e)};return Object(_.jsxs)("div",{className:"global-accordian-container favorite-container-global ".concat(s?"account-accordian-open":""),children:[Object(_.jsxs)("div",{className:"global-accordian-header-container",children:[Object(_.jsx)("span",{className:"global-accordian-header",children:o&&Object(_.jsxs)("div",{className:"occasion-accordian-header-global",children:[Object(_.jsx)("span",{className:"order-accordian-heading",children:o}),Object(_.jsx)("div",{className:"edit-occasion-link","data-testid":"edit-occasion-modal",onClick:function(){c(d,l)},children:Object(u.e)(null===C.a||void 0===C.a?void 0:C.a.EDIT_FAVORITE_NAME)})]})}),Object(_.jsx)("div",{className:"global-accordian-right",children:a?Object(_.jsx)("img",{src:s?h:p,onClick:E,className:"global-accordian-arrow","data-testid":"acordian-handle-dark",alt:""}):Object(_.jsx)("img",{src:s?f:m,onClick:E,className:"global-accordian-arrow","data-testid":i,alt:""})})]}),s&&Object(_.jsx)("div",{className:"global-accordian-content",children:e.children})]})},ne=n(789),ae=function(e){var t=e.occassionOrder,n=e.tenantReducer,a=e.imageContainerSize,i=e.plpbackgroundImageData,c=n.currencySymbol,d=n.addHope,l=n.carryBag,s=n.currencyConversionFactor,u=t.items,v=Object(K.f)(u,d,l);return Object(_.jsx)(o.a.Fragment,{children:null===v||void 0===v?void 0:v.map((function(e){return Object(_.jsx)("div",{className:"account-accordian-details-section",children:Object(_.jsxs)("div",{className:"option-section option-section-fav-menu default-img",children:[Object(_.jsx)("div",{style:Object(r.X)(i,a.width,a.height),className:"product-image-parent-container-fav-menu",children:e.content&&Object(_.jsx)(O.a,{className:"favourite-order-img-sopac",srcFile:Object(r.Pb)(e.content,a.width,a.height),alt:"No-Image",defaultPath:Object(r.Eb)(e.imageName,n,!0)})}),Object(_.jsxs)("div",{className:"favourite-order-details fav-order-details-global",children:[Object(_.jsxs)("span",{className:"fav-orders-item-name",children:[null===e||void 0===e?void 0:e.quantity,"x ",null===e||void 0===e?void 0:e.name]}),Object(_.jsxs)("span",{className:"fav-item-price",children:[c,Object(ne.e)(null===e||void 0===e?void 0:e.price,s)]})]})]})})}))})},ie=n(807),oe=n(133),re=function(e){var t=e.onCancelHandler,n=e.onRemoveHandler,a=C.a.REMOVE,i=C.a.CANCEL,o=C.a.REMOVE_FROM_FAVMODAL_MSG;return Object(_.jsxs)("div",{className:"remove-from-favorite-orders-modal",children:[Object(_.jsx)("div",{className:"remove-message-section",children:Object(_.jsx)("p",{className:"remove-message",children:Object(u.e)(o)})}),Object(_.jsxs)("div",{className:"buttonItems remove-from-fav-modal-btns",children:[Object(_.jsx)(A.a,{"data-testid":"cancel-remove-favOrders",className:"button whiteButton blackBorder closebtn-cls",onClickHandler:t,children:Object(u.e)(i)}),Object(_.jsx)(A.a,{"data-testid":"yes-keep-it-btn",className:"button blackButton blackBorder save-button",onClickHandler:n,children:Object(u.e)(a)})]})]})},ce=function(e){var t=e.item,n=e.setIsModalOpen,a=e.tenantId,i=e.customerId,o=e.currentItemId,c=Object(l.b)(),s=Object(_.jsx)(O.a,{srcFile:v.a.FavoriteInActiveWhite}),b=Object(u.e)(C.a.REMOVED_FROM_FAVORDERS),j=function(){n(!1)},m={id:"removeFromFavOrders",role:"dialog",modalTitleId:"FavouriteOrdersRemove",show:!0,classNames:"test",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:j,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0},p=function(){var e=Object(f.a)(h.a.mark((function e(t,n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(Object(ie.b)({tenantId:t,customerId:n,itemId:a}));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return Object(_.jsx)("div",{children:Object(_.jsx)(oe.a,Object(d.a)(Object(d.a)({},m),{},{children:Object(_.jsx)(re,{onCancelHandler:j,setIsModalOpen:n,onRemoveHandler:function(e){var t,c,d,l=null===(t=e.target)||void 0===t||null===(c=t.parentElement)||void 0===c||null===(d=c.parentElement)||void 0===d?void 0:d.parentElement;null!==l&&void 0!==l&&l.classList.contains("account-accordian-open")&&(null===l||void 0===l||l.classList.remove("account-accordian-open")),n(!1),p(a,i,o),Object(r.Zd)(b,s,"favorites-added-toast")},item:t,"data-testid":"remove-modal"})}))})},de=n(1067),le=n(1068),se=function(e){var t=e.updateMenu,n=e.imageContainerSize,o=Object(l.b)(),c=Object(ee.g)(),s=Object(i.useContext)(j.a),O=s.userOrderState,b=s.userOrderStateDispatch,m=Object(i.useState)(""),f=Object(a.a)(m,2),p=f[0],h=f[1],E=Object(i.useState)(""),S=Object(a.a)(E,2),g=S[0],T=S[1],N=Object(i.useState)(""),I=Object(a.a)(N,2),D=(I[0],I[1]),y=Object(i.useState)(!0),w=Object(a.a)(y,2),L=(w[0],w[1]),M=Object(i.useState)([]),k=Object(a.a)(M,2),P=(k[0],k[1]),F=Object(l.c)((function(e){var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)||[]})),U=Object(l.c)((function(e){var t;return Object(r.zc)(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)})),B=U.id,Y=U.phone,V=Object(l.c)((function(e){return e.tenantReducer||{}})).tenantId,G=Object(l.c)((function(e){return e.tenantReducer})),W=Object(l.c)((function(e){return e.cartReducer||{}})).cartData,K=Object(i.useState)(!1),z=Object(a.a)(K,2),J=z[0],X=z[1],q=Object(i.useState)(!1),Q=Object(a.a)(q,2),Z=Q[0],$=Q[1],ne=Object(i.useState)(!1),ie=Object(a.a)(ne,2),oe=ie[0],re=ie[1],se=Object(i.useState)(!1),ue=Object(a.a)(se,2),ve=ue[0],Oe=ue[1],be=Object(i.useState)(null),je=Object(a.a)(be,2),me=je[0],fe=je[1],pe=v.a.SingleArrowback,he=v.a.FavouriteActiveBlack,Ee=(v.a.FavoriteActiveWhite,O.reorderFlag.reorderModalOpen),Se=void 0!==Ee&&Ee,ge=Object(i.useState)({}),Te=Object(a.a)(ge,2),Ne=Te[0],Ie=Te[1],xe=Object(l.c)((function(e){var t;return Object(r.zc)(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)})).headerData,De=(xe=void 0===xe?{}:xe).plpBackgroundImage,Ae=void 0===De?{}:De,Ce=Object(r.W)(Ae),_e=x.a.REORDER_MODAL_OPEN,ye=x.a.FROM_REORDER_MODAL_OPEN,Re=x.a.REORDER_STORE_CHANGED;Object(i.useEffect)((function(){var e;null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]);var we=function(){b({type:_e,value:{reorderModalOpen:!1}}),b({type:ye,value:{fromReorderFlag:!1}}),b({type:Re,value:{storeChanged:!1}})};Object(i.useEffect)((function(){return function(){return we()}}),[]),Object(i.useEffect)((function(){D(g)}),[J]);var Le=function(e){var t,n,a,i=null===(t=e.target)||void 0===t||null===(n=t.parentElement)||void 0===n||null===(a=n.parentElement)||void 0===a?void 0:a.parentElement;null!==i&&void 0!==i&&i.classList.contains("account-accordian-open")?null===i||void 0===i||i.classList.remove("account-accordian-open"):null===i||void 0===i||i.classList.add("account-accordian-open")};Object(i.useEffect)((function(){L(!(""!==g&&!Z&&!oe))}),[g,Z,oe]);var Me=function(e,t){X(!0);var n=[];null===F||void 0===F||F.map((function(e){var t,a;return null===n||void 0===n?void 0:n.push(null===e||void 0===e||null===(t=e.name)||void 0===t||null===(a=t.toUpperCase())||void 0===a?void 0:a.trim())})),P(n),e&&(h(e),T(t),$(!1),re(!1))};Object(i.useEffect)((function(){!function(e,t,n,a){if(e){var i={customerId:t,tenantId:e,phoneNumber:Object(r.fc)(n),updateUserData:!0};a(Object(H.d)(i))}}(V,B,Y,o)}),[o,V,B,Y]);var ke=Object(i.useState)(null),Pe=Object(a.a)(ke,2),Fe=Pe[0],He=Pe[1];return Object(_.jsxs)("div",{className:"account-order-desktop",id:"favourite-orders-global",children:[Object(_.jsxs)("div",{className:"account-settings-header-mobile",children:[Object(_.jsx)("img",{className:"backArrow-account-setting","data-testid":"fav-menu-backArrow",onClick:function(){return t("")},src:pe,alt:"back button"}),Object(_.jsx)("span",{className:"account-setting-text-header",children:Object(u.e)(C.a.FAVOURITES)})]}),Object(_.jsxs)("div",{className:"page-header page-header-favourite-occasion",children:[Object(_.jsx)("img",{src:he,className:"account-icon mr-2",alt:""}),Object(_.jsx)("span",{className:"page-heading",children:Object(u.e)(null===C.a||void 0===C.a?void 0:C.a.ORDER_AGAIN)})]}),!(null!==F&&void 0!==F&&F.length)&&Object(_.jsx)("div",{className:"no-occasion-container",children:Object(_.jsx)("p",{children:Object(u.e)(null===C.a||void 0===C.a?void 0:C.a.MY_OCCASSION_UNAVAILABLE_TITLE)})}),F&&(null===F||void 0===F?void 0:F.map((function(t,a){return Object(_.jsx)("div",{className:"sub-section sub-section-favourite",children:Object(_.jsxs)("section",{children:[Object(_.jsx)("section",{className:"account-accordian",children:Object(_.jsxs)(te,{onClickHandler:Le,title:null===t||void 0===t?void 0:t.name,onEditOccasionName:Me,itemId:null===t||void 0===t?void 0:t.id,itemName:null===t||void 0===t?void 0:t.name,"data-testid":"order-details",setOccassionModalOpen:X,currentIndex:Fe,setCurrentIndex:He,index:a,showContent:Fe===a,children:[Object(_.jsx)(ae,{occassionOrder:t,tenantReducer:G,"data-testid":"occasion-component",plpbackgroundImageData:Ce,imageContainerSize:n}),Object(_.jsx)("section",{className:"fav-menu-event",children:Object(_.jsxs)("div",{className:"global-accordian-header-container mobile-accordian-reorder-container",children:[Object(_.jsx)("span",{className:"global-accordian-header mobile-accordian-header",children:Object(_.jsx)("span",{className:"order-receipt-option remove-from-fav","data-testid":"delete-occassion",onClick:function(){Oe(!0),fe(null===t||void 0===t?void 0:t.id)},children:Object(u.e)(null===C.a||void 0===C.a?void 0:C.a.REMOVE_FAVOURITES)})}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"global-accordian-right",children:Object(_.jsx)(A.a,{className:"button re-order-btn ".concat(Object(r.Ic)(null===t||void 0===t?void 0:t.service)?"":"redButton"),"aria-label":"",type:"submit","data-testid":"re-order-btn",onClick:function(){var n;Object(r.Ic)(null===t||void 0===t?void 0:t.service)?(n=Object(d.a)(Object(d.a)({},e),{},{history:c}),Object(r.Ic)(null===W||void 0===W?void 0:W.service)?Object(r.wd)(n):b({type:null===R.fd||void 0===R.fd?void 0:R.fd.UPDATE_CATERING_RETAIL_MENU_ALERT,value:{flag:!0,pathname:null===R.Wc||void 0===R.Wc?void 0:R.Wc.CATERING_PAGE,title:null===C.a||void 0===C.a?void 0:C.a.CATERING_NAVALERT_TITLE,contentMsg:null===C.a||void 0===C.a?void 0:C.a.CATERING_NAVALERT_SUBTITLE}})):function(e){Ie(e),b({type:_e,value:{reorderModalOpen:!0}}),b({type:ye,value:{fromReorderFlag:!0}}),sessionStorage.setItem(R.ac.REORDER_CLICK,!0)}(t)},children:Object(_.jsx)("span",{children:Object(u.e)(Object(r.Ic)(null===t||void 0===t?void 0:t.service)?null===C.a||void 0===C.a?void 0:C.a.EXPLORE_CATERING:null===C.a||void 0===C.a?void 0:C.a.ORDER_AGAIN)})})})]})})]})}),ve&&Object(_.jsx)(ce,{item:t,setIsModalOpen:Oe,isModalOpen:ve,tenantId:V,customerId:B,itemId:null===t||void 0===t?void 0:t.id,currentItemId:me}),J&&Object(_.jsx)(le.a,{showOccassionModal:J,setOccassionModalOpen:X,occasionName:g,setOccasionName:T,editItemId:p,setEditItemId:h,hasEdit:!0})]})})}))),Se&&Object(_.jsx)(de.a,{currentOrderInfo:Ne,reorderModalOpen:Se,closeButtonHandler:we,source:R.Sc.ACCOUNT_FAVOURITES})]})},ue=n(68),ve=n(56),Oe=n(33),be=n(784),je=n(791),me=n(281),fe=function(e){var t,n,o,c,l=e.isMobile,s=e.firstName,O=e.lastName,j=e.email,m=e.phone,f=e.postalCode,p=e.day,h=e.month,E=e.year,S=e.dateOfBirth,g=e.editAccountInfoModal,T=e.updateCustomerData,N=Object(i.useState)({isValidDOB:!0,dobErrorMsg:""}),I=Object(a.a)(N,2),x=I[0],D=I[1],C=Object(i.useState)({firstName:s,lastName:O,email:j,phone:Object(K.e)(m),dateOfBirth:S,postalCode:f,day:p,month:h,year:E}),y=Object(a.a)(C,2),w=y[0],L=y[1],M=Object(i.useState)(!1),k=Object(a.a)(M,2),P=k[0],F=k[1],H=Object(i.useState)(""),U=Object(a.a)(H,2),B=U[0],Y=U[1],V=Object(i.useState)(""),G=Object(a.a)(V,2),W=G[0],z=G[1],J=b.a.PERSONAL_INFO_TEXT,X=b.a.SAVE,q=b.a.CANCEL,Q=b.a.FIRST_NAME_ERROR_TEXT,Z=b.a.FIRST_NAME,$=b.a.LAST_NAME,ee=b.a.LAST_NAME_ERROR_TEXT,te=b.a.EMAIL_ADDRESS,ne=b.a.EMAIL_ERROR_TEXT,ae=b.a.MOBILE_NUMBER,ie=b.a.MOBILE_NUMBER_ERROR_TEXT,oe=b.a.POSTAL_CODE,re=b.a.POSTAL_CODE_ERROR_TEXT,ce=b.a.DATE_OF_BIRTH,de=b.a.PHONE_TOOLTIP_TITLE,le=b.a.DOB_TOOLTIP_TITLE,se=b.a.EVENT_NAME_POSTAL_CODE,ue=b.a.EVENT_NAME_PHONE;Object(i.useEffect)((function(){var e,t=Object(r.db)(w.day,w.month,w.year);Object(r.S)(w,t)?(e=Object(K.b)(w.day,w.month,w.year),D(Object(d.a)({},e))):D({isValidDOB:!0,dobErrorMsg:""})}),[w]),Object(i.useEffect)((function(){return window.addEventListener(R.Xc,fe),function(){window.removeEventListener(R.Xc,fe)}})),Object(i.useEffect)((function(){return window.addEventListener(R.B,fe),function(){window.removeEventListener(R.B,fe)}}));var fe=function(e){e.preventDefault(),z(e.target.id),e.target.className&&(-1!==e.target.className.indexOf("did-floating-select")?B&&""!==B?e.target.id!==W?Object(r.mc)(1==B,Y(!1),Y(!0)):Y(!1):Y(!0):Y(!1))},pe=function(e){var t,n=e.target.value;e.target.name===ue&&(n=null===(t=e.target.value)||void 0===t?void 0:t.replace(R.Vc,""));L(Object(d.a)(Object(d.a)({},w),{},Object(Oe.a)({},e.target.name,n)))};return Object(_.jsxs)("div",{className:"personal-info-card personal-info-card-au",children:[Object(_.jsx)("div",{className:"personal-card-left-side",children:Object(u.e)(J)}),Object(_.jsx)("div",{className:"personal-card-right-side",children:Object(_.jsxs)("div",{className:"personal-information-card",children:[Object(_.jsxs)("div",{className:"edit-personal-data-view",children:[Object(r.S)(!l,Object(_.jsxs)("div",{className:"left-side-lables",children:[Object(u.e)(Z),Object(_.jsx)("span",{children:"*"})]})),Object(_.jsx)("div",{className:"right-side-form",children:Object(_.jsx)(be.a,{"data-testid":"firstname-testid",name:"firstName",placeholder:Object(r.mc)(l,"".concat(Object(u.e)(Z),"*"),""),value:null===w||void 0===w?void 0:w.firstName,inputClassName:"edit-info-input-class",onChange:pe,onKeyPress:K.k,error:Object(r.S)((null===w||void 0===w||null===(t=w.firstName)||void 0===t?void 0:t.length)>0,Object(r.U)(!Object(K.o)(null===w||void 0===w?void 0:w.firstName),Object(K.a)(me.a,null===w||void 0===w?void 0:w.firstName))),helperText:Object(u.e)(Q),helperTextClassName:"error-text",maxLength:"100",autoComplete:"first-name",errorIcon:v.a.Error,errorIconClassName:"flex-div"})})]}),Object(_.jsxs)("div",{className:"edit-personal-data-view",children:[Object(r.S)(!l,Object(_.jsxs)("div",{className:"left-side-lables",children:[Object(u.e)($),Object(_.jsx)("span",{children:"*"})]})),Object(_.jsx)("div",{className:"right-side-form",children:Object(_.jsx)(be.a,{"data-testid":"lastname-testid",name:"lastName",placeholder:Object(r.mc)(l,"".concat(Object(u.e)($),"*"),""),value:null===w||void 0===w?void 0:w.lastName,inputClassName:"edit-info-input-class",onChange:pe,onKeyPress:K.k,error:Object(r.S)((null===w||void 0===w||null===(n=w.lastName)||void 0===n?void 0:n.length)>0,Object(r.U)(!Object(K.o)(null===w||void 0===w?void 0:w.lastName),Object(K.a)(me.a,null===w||void 0===w?void 0:w.lastName))),helperText:Object(u.e)(ee),helperTextClassName:"error-text",maxLength:"100",autoComplete:"last-name",errorIcon:v.a.Error,errorIconClassName:"flex-div"})})]}),Object(_.jsxs)("div",{className:"edit-personal-data-view",children:[Object(r.S)(!l,Object(_.jsxs)("div",{className:"left-side-lables",children:[Object(u.e)(te),Object(_.jsx)("span",{children:"*"})," "]})),Object(_.jsx)("div",{className:"right-side-form email-border",children:Object(_.jsx)(be.a,{"data-testid":"email-testid",name:"email",placeholder:Object(r.mc)(l,"".concat(Object(u.e)(te),"*"),""),value:null===w||void 0===w?void 0:w.email,inputClassName:"edit-info-input-class",onChange:pe,helperText:Object(u.e)(ne),helperTextClassName:"error-text",maxLength:"100",autoComplete:"off",readOnly:!0,errorIconClassName:"flex-div"})})]}),Object(_.jsxs)("div",{className:"edit-personal-data-view",children:[Object(r.S)(!l,Object(_.jsxs)("div",{className:"left-side-lables",children:[Object(u.e)(ae),Object(_.jsx)("span",{children:"*"})]})),Object(_.jsx)("div",{className:"right-side-form",children:Object(_.jsx)(be.a,{"data-testid":"phone-testid",name:"phone",placeholder:Object(r.mc)(l,"".concat(Object(u.e)(ae),"*"),""),value:null===w||void 0===w?void 0:w.phone,inputClassName:"edit-info-input-class",onChange:pe,error:Object(r.S)((null===w||void 0===w||null===(o=w.phone)||void 0===o?void 0:o.length)>0,!Object(K.p)(null===w||void 0===w?void 0:w.phone)),helperText:Object(u.e)(ie),helperTextClassName:"error-text",autoComplete:"mobile-number",toolTipText:Object(u.e)(de),toolTipSrc:v.a.Tooltip,errorIcon:v.a.Error,errorIconClassName:"flex-div",onBlur:function(e){var t=Object(K.e)(e.target.value);L(Object(d.a)(Object(d.a)({},w),{},{phone:t}))},onFocus:function(e){var t=e.target.value.replace(R.Vc,"");L(Object(d.a)(Object(d.a)({},w),{},{phone:t}))},type:"tel",maxLength:10})})]}),Object(_.jsxs)("div",{className:"edit-personal-data-view",children:[Object(r.S)(!l,Object(_.jsxs)("div",{className:"left-side-lables",children:[" ",Object(u.e)(oe)]})),Object(_.jsx)("div",{className:"right-side-form",children:Object(_.jsx)(be.a,{"data-testid":"postalcode-testid",name:"postalCode",type:"tel",placeholder:Object(r.mc)(l,Object(u.e)(oe),""),value:null===w||void 0===w?void 0:w.postalCode,inputClassName:"edit-info-input-class",onChange:function(e){if(e.target.name===se&&e.target.value.length<=4){var t,n,a=null===e||void 0===e||null===(t=e.target)||void 0===t||null===(n=t.value)||void 0===n?void 0:n.replace(R.Vc,"");L(Object(d.a)(Object(d.a)({},w),{},Object(Oe.a)({},e.target.name,a)))}else;},error:Object(r.h)([P,(null===w||void 0===w||null===(c=w.postalCode)||void 0===c?void 0:c.length)>0,!Object(K.q)(null===w||void 0===w?void 0:w.postalCode)]),onBlur:function(){return F(!0)},onFocus:function(){return F(!1)},helperText:Object(u.e)(re),helperTextClassName:"error-text",autoComplete:"postal-code",toolTipSrc:v.a.Tooltip,errorIcon:v.a.Error,errorIconClassName:"flex-div"})})]}),Object(_.jsxs)("div",{className:"edit-personal-data-view",children:[Object(_.jsxs)("div",{className:"left-side-lables",children:[Object(u.e)(ce),Object(r.S)(l,Object(_.jsx)("div",{children:Object(_.jsx)(je.a,{placement:"top",title:Object(u.e)(le),children:Object(_.jsx)("img",{class:"",src:v.a.Tooltip,alt:"tooltip"})})}))]}),Object(r.mc)(S,Object(_.jsx)("div",{className:"dob-present",children:ve.a.format({date:S,outPutFormat:R.O.DD_MMMM_YYYY})}),Object(_.jsx)("div",{className:"right-side-form",children:Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"dis-flex",children:[Object(_.jsx)("div",{className:"input-container1",children:Object(_.jsxs)("div",{className:"did-floating-label-content did-error-input",children:[Object(_.jsxs)("select",{required:!0,"data-testid":"day-testid",id:"day-list",name:"day",className:"did-floating-select ".concat(Object(r.S)(!(null!==x&&void 0!==x&&x.isValidDOB),"error-color")," ").concat(Object(r.mc)("day-list"===W,Object(r.mc)(Object(r.U)(!B,""===B),"dropdown-notfocus","dropdown-focus"),"")),value:w.day,onClick:function(e){e.preventDefault(),window.addEventListener("click",fe)},onChange:function(e){var t=e.target.value;return L(Object(d.a)(Object(d.a)({},w),{},{day:t}))},children:[Object(_.jsx)("option",{value:""},""),Object(K.c)().map((function(e){return Object(_.jsx)("option",{value:e,children:e},e)}))]}),Object(_.jsx)("label",{id:"date-of-birth-label-text",className:"did-floating-label ".concat(Object(r.S)(!(null!==x&&void 0!==x&&x.isValidDOB),"error-color")),children:"Day"})]})}),Object(_.jsx)("div",{className:"input-container2",children:Object(_.jsxs)("div",{className:"did-floating-label-content did-error-input",children:[Object(_.jsxs)("select",{required:!0,"data-testid":"month-testid",id:"month-list",className:"did-floating-select ".concat(Object(r.S)(!(null!==x&&void 0!==x&&x.isValidDOB),"error-color")," ").concat(Object(r.mc)("month-list"===W,Object(r.mc)(Object(r.U)(!B,""===B),"dropdown-notfocus","dropdown-focus"),"")),value:w.month,onClick:function(e){e.preventDefault(),window.addEventListener("click",fe)},onChange:function(e){var t=e.target.value;return L(Object(d.a)(Object(d.a)({},w),{},{month:t}))},children:[Object(_.jsx)("option",{value:""},""),K.h.map((function(e){return Object(_.jsx)("option",{value:e,children:e},e)}))]}),Object(_.jsx)("label",{id:"date-of-birth-label-text",className:"did-floating-label ".concat(Object(r.S)(!(null!==x&&void 0!==x&&x.isValidDOB),"error-color")),children:"Month"})]})}),Object(_.jsx)("div",{className:"input-container3",children:Object(_.jsxs)("div",{className:"did-floating-label-content did-error-input",children:[Object(_.jsxs)("select",{required:!0,"data-testid":"year-testid",id:"year-list",className:"did-floating-select ".concat(Object(r.S)(!(null!==x&&void 0!==x&&x.isValidDOB),"error-color")," ").concat(Object(r.mc)("year-list"===W,Object(r.mc)(Object(r.U)(!B,""===B),"dropdown-notfocus","dropdown-focus"),"")),value:w.year,onClick:function(e){e.preventDefault(),window.addEventListener("click",fe)},onChange:function(e){var t=e.target.value;return L(Object(d.a)(Object(d.a)({},w),{},{year:t}))},children:[Object(_.jsx)("option",{value:""},""),Object(K.d)().map((function(e){return Object(_.jsx)("option",{value:e,children:e},e)}))]}),Object(_.jsx)("label",{id:"date-of-birth-label-text",className:"did-floating-label",children:"Year"})]})}),Object(r.S)(!l,Object(_.jsx)("span",{className:"tool-tip-position tool-tip-desktop",children:Object(_.jsx)(je.a,{placement:"top",title:Object(u.e)(le),children:Object(_.jsx)("img",{class:"tooltip-view",src:v.a.Tooltip,alt:"tooltip"})})}))]}),Object(r.S)(!(null!==x&&void 0!==x&&x.isValidDOB),Object(_.jsxs)("div",{className:"dob-error-show flex-div",children:[Object(_.jsx)("div",{children:Object(_.jsx)("img",{src:v.a.Error,alt:"Error visible"})}),Object(_.jsx)("div",{children:Object(u.e)(null===x||void 0===x?void 0:x.dobErrorMsg)})]}))]})}))]}),Object(_.jsxs)("div",{className:"global-buttons-container",children:[Object(_.jsx)(A.a,{"data-testid":"edit-account-btn-testid",className:"buttons-group cancel",onClickHandler:function(){return g("fromCancel")},children:Object(u.e)(q)}),Object(_.jsx)(A.a,{className:"buttons-group ".concat(Object(r.mc)(!Object(K.g)({firstNameText:w.firstName,lastNameText:w.lastName,phoneNoText:w.phone,postalCode:w.postalCode,isValidDOB:null===x||void 0===x?void 0:x.isValidDOB}),"save-disabled","save")),disabled:!Object(K.g)({firstNameText:w.firstName,lastNameText:w.lastName,phoneNoText:w.phone,postalCode:w.postalCode,isValidDOB:null===x||void 0===x?void 0:x.isValidDOB}),"data-testid":"update-account-button-testid-1",onClickHandler:function(){return T(w)},children:Object(u.e)(X)})]})]})})]})},pe=function(e){var t=e.profileReducer,n=(e.authReducer,e.tenantReducer,e.editAccountInfoModal),a=e.updateCustomerData,i=e.isMobile,o=e.openEditInfoFlag,c=t||{},d=c.basic,l=void 0===d?{}:d,s=(c.isLoading,c.customerId,l.firstName),v=l.lastName,O=l.email,j=l.phone,m=l.dateOfBirth,f=l.postalCode,p=b.a.PERSONAL_INFO_TEXT,h=b.a.EDIT,S=b.a.NAME,g=b.a.EMAIL_ADDRESS,T=b.a.MOBILE_NUMBER,N=b.a.DATE_OF_BIRTH,I=b.a.POSTAL_CODE,x=function(){return Object(_.jsx)("div",{className:"edit-input edit-info-link",children:Object(_.jsx)(E.a,{"data-testid":"edit-account-button-testid",onClickHandler:function(){return n("fromEditClick")},children:Object(u.e)(h)})})};return o?Object(_.jsx)(fe,{isMobile:i,firstName:s,lastName:v,email:O,phone:j,postalCode:f,dateOfBirth:m,editAccountInfoModal:n,updateCustomerData:a}):function(){var e;return Object(_.jsxs)("div",{className:"personal-info-card",children:[Object(_.jsxs)("div",{className:"personal-card-left-side",children:[Object(u.e)(p),i&&x()]}),Object(_.jsxs)("div",{className:"personal-card-right-side",children:[!i&&x(),Object(_.jsxs)("div",{className:"personal-info-section",children:[Object(_.jsxs)("div",{className:"personal-data-view",children:[Object(_.jsx)("div",{children:Object(u.e)(S)}),Object(_.jsxs)("div",{children:[" ",s," ",v]})]}),Object(_.jsxs)("div",{className:"personal-data-view",children:[Object(_.jsx)("div",{children:Object(u.e)(g)}),Object(_.jsxs)("div",{children:[" ",O]})]}),Object(_.jsxs)("div",{className:"personal-data-view",children:[Object(_.jsx)("div",{children:Object(u.e)(T)}),Object(_.jsxs)("div",{children:[" ",null===(e=Object(r.M)(j))||void 0===e?void 0:e.replace(/-/g," ")]})]}),f&&Object(_.jsxs)("div",{className:"personal-data-view",children:[Object(_.jsx)("div",{children:Object(u.e)(I)}),Object(_.jsxs)("div",{children:[" ",f]})]}),m&&Object(_.jsxs)("div",{className:"personal-data-view",children:[Object(_.jsx)("div",{children:Object(u.e)(N)}),Object(_.jsx)("div",{children:ve.a.format({date:m,outPutFormat:R.O.DD_MMMM_YYYY})})]})]})]})]})}()},he=function(e){var t=e.preferences,n=e.handleSubscriptionStatus,a=b.c.COMMUNICATION_PREFERENCES_TEXT,i=b.c.UNSUBSCRIBE,o=b.c.SUBSCRIBE;return Object(_.jsxs)("div",{className:"preferences-card",children:[Object(_.jsx)("div",{className:"preferences-card-left-side preferences-card-left-side-au",children:Object(u.e)(a)}),Object(_.jsx)("div",{className:"preferences-card-right-side",children:Object(_.jsx)("div",{className:"preferences-container",children:Object(_.jsx)("div",{className:"preferences-item",children:null===t||void 0===t?void 0:t.map((function(e){return Object(_.jsxs)("div",{className:"preferences-item-list preferences-item-list-au",children:[Object(_.jsxs)("div",{className:"preferences-text",children:[Object(_.jsx)("label",{htmlFor:e.mainText,children:e.mainText}),""!==e.subText&&Object(_.jsx)("span",{className:"preference-subText",children:e.subText})]}),Object(_.jsx)("div",{children:Object(_.jsx)(E.a,{"data-testid":"handleSubscriptionStatus-testid",onClickHandler:function(){return n(e)},children:e.subscribed?Object(u.e)(i):Object(u.e)(o)})})]},e.code)}))})})})]})};he.defaultProps={};var Ee=he,Se=n(54),ge=n.n(Se),Te=function(e){var t=e.timeSrc,n=e.resendOtpHandler,o=e.disabledOtpLink,r=Object(i.useState)(t),c=Object(a.a)(r,2),d=c[0],l=c[1],s=Object(i.useState)(0),v=Object(a.a)(s,2),O=v[0],j=v[1],m=Object(i.useState)(0),f=Object(a.a)(m,2),p=f[0],h=f[1],E=function(e){var t=Math.floor(e/60),n=e-60*t;j(t),h(n),l((function(e){return e-1}))};Object(i.useEffect)((function(){E(t)}),[t]),Object(i.useEffect)((function(){var e;return d>=0?e=setInterval((function(){E(d)}),1e3):clearInterval(e),function(){e&&clearInterval(e)}}),[d]);return Object(_.jsxs)(_.Fragment,{children:[d>=0?Object(_.jsxs)("span",{children:["Your code will expire in ",O,":",p<10?"0".concat(p):p," seconds"]}):Object(u.e)(b.e.CODE_EXPIRED_TEXT),Object(_.jsx)("div",{children:Object(_.jsx)("button",{"data-testid":"resend-otp-testid",disabled:o,className:"otp-link-button ".concat(o?"disableOtpLinkCls":""),id:"otpResendButton",onClick:function(e){l(179),n(e)},children:Object(u.e)(b.e.RESEND_CODE)})})]})},Ne=function(e){var t=e.closeOtpModalHandler,n=e.otpSendTo,o=e.callValidateOtpAPI,r=e.callResendOtpAPI,l=e.isOtpMatch,s=e.hideError,O=e.invalidOtpCount,j=b.e.SUBMIT,m=b.e.SENT_AN_SMS,f=b.e.OTP_SENT_TEXT,p=(b.e.CODE_EXPIRED_TEXT,b.e.RESEND_CODE,b.e.INVALID_OTP),h=Object(i.useState)(!1),E=Object(a.a)(h,2),S=E[0],g=E[1],T=Object(i.useState)(!1),N=Object(a.a)(T,2),I=N[0],x=N[1],D=Object(i.useState)(179),C=Object(a.a)(D,2),y=C[0],R=(C[1],{0:"",1:"",2:"",3:""}),w=Object(i.useState)(R),L=Object(a.a)(w,2),M=L[0],k=L[1],P=Object(i.useState)(R),F=Object(a.a)(P,2),H=F[0],U=F[1];Object(i.useEffect)((function(){4===Object.values(H).join("").length?x(!0):(x(!1),s())}));var B={closeDataTestId:"close-otp-testId",role:"dialog",show:!0,classNames:"customized-otp-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:Object(u.e)(m)},Y=function(e){return document.getElementById("codeBox"+e)},V=Object(_.jsx)(oe.a,Object(d.a)(Object(d.a)({},B),{},{children:Object(_.jsxs)("div",{className:"otp-main-container",children:[Object(_.jsxs)("div",{className:"left-section",children:[" ",Object(_.jsx)("div",{children:Object(u.e)(m)})]}),Object(_.jsxs)("div",{className:"right-section",children:[Object(_.jsxs)("div",{className:"otp-title-text",children:[Object(u.e)(f),"."]}),Object(_.jsx)("div",{className:"sendto",children:n}),Object(_.jsxs)("div",{className:"otpDiv","aria-describedby":"otpInvalid",children:[Object(c.a)(Array(4)).map((function(e,t){return Object(_.jsx)("input",{id:"codeBox".concat(t),"data-testid":"otp-testid-".concat(t),className:"otpNum ".concat(l?"":"otpNum-invalid"),type:"tel",maxLength:1,onKeyPress:function(e){return function(e){(8!==e.which&&0!==e.which&&e.which<48||e.which>57)&&e.preventDefault()}(e)},onKeyUp:function(e){return function(e,t){var n=e.which||e.keyCode;1===Y(t).value.length&&(3!==t?Y(t+1).focus():Y(t).blur()),8===n&&0!==t&&Y(t-1).focus()}(e,t)},onChange:function(e){return function(e,t){var n=e.target.value;k((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(Oe.a)({},t,n))})),U((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(Oe.a)({},t,n))}))}(e,t)},onBlur:function(){return function(e){k((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(Oe.a)({},e,null===H||void 0===H?void 0:H[e]))}))}(t)},onFocus:function(){return function(e){k((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(Oe.a)({},e,""))})),U((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(Oe.a)({},e,""))}))}(t)},value:null===M||void 0===M?void 0:M[t]},"key".concat(t))})),!l&&Object(_.jsx)("img",{"data-testid":"clear-otp-testid",className:"",src:v.a.Clear_icon,alt:"clear otp",onClick:function(){k((function(){return R})),U((function(){return R}))}})]}),!l&&Object(_.jsxs)("div",{className:"otp-error-text dob-error-show",children:[Object(_.jsx)("span",{children:Object(_.jsx)("img",{src:v.a.Error,alt:"Error visible"})}),Object(u.e)(p)," ","(".concat(O,"/3)")]}),Object(_.jsx)("div",{className:"otp-expired-text",children:Object(_.jsx)(Te,{timeSrc:y,resendOtpHandler:function(e){e.preventDefault(),r(),g(!0),setTimeout((function(){g(!1)}),3e4)},disabledOtpLink:S})}),Object(_.jsx)("div",{className:"buttons-container",children:Object(_.jsx)(A.a,{className:"buttons-group ".concat(I?"save":"save-disabled"),"data-testid":"update-account-button-testid",onClickHandler:function(){return function(){var e=Object.values(H).join("");o(e)}()},children:Object(u.e)(j)})})]})]})}));return ge.a.createPortal(V,document.getElementById("modal-popups"))},Ie=n(112),xe=n(212),De=function(e){var t=e.handleClose,n=e.deleteAccountCallback,a=e.CartError,i=b.a.DELETE_ACCOUNT_MESSAGE,r=b.a.CANCEL,c=b.a.DELETE_ACCOUNT_BTN,d={CONFIRM_DELETE_MSG:{MSGTXT1:Object(u.e)(i)}};return Object(_.jsx)(o.a.Fragment,{children:Object(_.jsx)(M.a,{handleClose:t,classNames:"delete-account-modal",CartAlertForm:Object(_.jsx)(k.a,{splitTitle:d.CONFIRM_DELETE_MSG,imageSrc:a,altText:"delete-account",cancelButtonText:Object(u.e)(r),confirmButtonText:Object(u.e)(c),confirmHandler:n,cancelHandler:t})})})},Ae=function(e){var t,n,o,c,s,O=e.updateMenu,j=e.isMobile,m=b.a.ACCOUNT_SETTINGS_TEXT,f=b.a.DELETE_ACCOUNT_TEXT,p=b.a.SUBSCRIBTION_MSG_TEXT,h=b.a.UNSUBSCRIBTION_MSG_TEXT,E=b.a.EXCEEDED_VERIFICATION_ATTEMPTS,S=b.a.YOUR_INFO_SAVED,g=b.a.EDIT_WITH_OLD_PHONE,T=b.a.FROM_OTP_SCREEN,N=(b.a.ACCESS_TOKEN,v.a.SingleArrowback),I=Object(l.b)(),x=Object(ee.g)(),D=Object(i.useState)(!1),C=Object(a.a)(D,2),y=C[0],w=C[1],L=Object(i.useState)([]),M=Object(a.a)(L,2),k=M[0],P=M[1],F=Object(i.useState)(!1),U=Object(a.a)(F,2),B=U[0],V=U[1],G=Object(l.c)((function(e){return e.profileReducer||null})),W=Object(l.c)((function(e){return e.tenantReducer||null})),z=Object(l.c)((function(e){return e.authReducer||null})),J=(null!==(s=Object(l.c)((function(e){var t;return null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response})))&&void 0!==s?s:{}).headerData,X=(J=void 0===J?{}:J).communicationPreferences,q=void 0===X?[]:X,Q=Object(i.useState)(!1),Z=Object(a.a)(Q,2),$=Z[0],te=Z[1],ne=Object(i.useState)(),ae=Object(a.a)(ne,2),ie=ae[0],oe=ae[1],re=Object(i.useState)(),ce=Object(a.a)(re,2),de=ce[0],le=ce[1],se=Object(i.useState)(!0),ve=Object(a.a)(se,2),Oe=ve[0],be=ve[1],je=Object(i.useState)(0),me=Object(a.a)(je,2),fe=me[0],he=me[1],Se=(null!==(t=Object(xe.b)(Ie.c))&&void 0!==t?t:{}).subscriptions,ge=void 0===Se?{}:Se,Te=(null!==G&&void 0!==G?G:{}).basic,Ae=(Te=void 0===Te?{}:Te).email,Ce=null===(n=window)||void 0===n||null===(o=n.appboy)||void 0===o||null===(c=o.User)||void 0===c?void 0:c.NotificationSubscriptionTypes;Object(i.useEffect)((function(){Ae&&I(Ie.a.fetch({email_address:Ae}))}),[I,Ae]),Object(i.useEffect)((function(){var e,t;if(null!==x&&void 0!==x&&null!==(e=x.location)&&void 0!==e&&null!==(t=e.hash)&&void 0!==t&&t.includes(R.Wc.ACCOUNT_SETTINGS)){var n,a,i,o=null===(n=window)||void 0===n||null===(a=n.location)||void 0===a||null===(i=a.hash)||void 0===i?void 0:i.split("?")[1],r=new URLSearchParams(o),c=Object.fromEntries(r.entries());(G||{}).basic;o&&b.f.includes(null===c||void 0===c?void 0:c.field)&&V(!0)}}),[x,G]);var _e=function(e,t,n,a,i,o,r,c,d,l){var s,u={screen:d,Otp:c,firstName:e,lastName:n,email:a,phone:i,profileInfo:o,successCallBackNotNeeded:l};I(Object(H.i)({sucessCallback:function(){return Re(u)},errorCallBack:ye,tenantId:null===W||void 0===W?void 0:W.tenantId,customerId:null===G||void 0===G||null===(s=G.basic)||void 0===s?void 0:s.id,body:{firstName:e,middleName:t,lastName:n,emailId:a.trim().length>0?a:"",phoneNumber:i.replace(/ /g,""),attributes:o,OtpValidationRequired:r,Otp:c,isSopac:!0}}))},ye=function(){be(!1),he(fe+1),fe>=2&&te(!1)},Re=function(e){var t=e.screen,n=e.Otp,a=e.firstName,i=e.lastName,o=e.email,c=e.phone,d=e.profileInfo;if(!e.successCallBackNotNeeded){var l={firstName:a,lastName:i,emailId:o,phoneNumber:c.replace(/ /g,""),attributes:d};I(Object(H.d)(l)),(t===g||n)&&Object(r.Yd)(Object(u.e)(S)),t===T&&(te(!1),V(!1))}},we=function(){be(!0)};Object(i.useEffect)((function(){var e=null===q||void 0===q?void 0:q.map((function(e){var t,n=e.fields,a=void 0===n?{}:n;return{mainText:null===a||void 0===a?void 0:a.value,code:null===a||void 0===a?void 0:a.code,subscribed:null!==(t=null===ge||void 0===ge?void 0:ge[null===a||void 0===a?void 0:a.code])&&void 0!==t&&t}}));P(e)}),[JSON.stringify(q),JSON.stringify(ge)]);return Object(_.jsxs)("div",{className:"account-settings-container",children:[Object(_.jsxs)("div",{className:"account-settings-header-mobile",children:[Object(_.jsx)("img",{className:"backArrow-account-setting",onClick:function(){return O("")},src:N,alt:"back btn"}),Object(_.jsx)("span",{className:"account-setting-text-header",children:Object(u.e)(m)})]}),Object(_.jsx)("p",{className:"account-setting-text-heading",children:Object(u.e)(m)}),B&&fe>=2&&Object(_.jsxs)("div",{class:"verification-faild-container",children:[Object(_.jsxs)("div",{children:[" ",Object(_.jsx)("img",{src:v.a.Error,alt:"Error visible"})," "]}),Object(_.jsx)("div",{children:Object(_.jsxs)("span",{children:[" ",Object(u.e)(E)]})})]}),Object(_.jsx)(pe,{profileReducer:G,authReducer:z,tenantReducer:W,updateCustomerData:function(e){var t,n=e.firstName,a=e.middleName,i=void 0===a?"":a,o=e.lastName,r=e.email,c=e.phone,l=(e.dateOfBirth,e.postalCode),s=void 0===l?null:l,u=e.day,v=e.month,O=e.year;oe(c),V(!0);var b=null===G||void 0===G||null===(t=G.basic)||void 0===t?void 0:t.phone,j=K.h.indexOf(v)+1,m={birthYear:O?String(O):null,birthDay:u?String(u<10?"0".concat(u):u):null,birthMonth:j?String(j<10?"0".concat(j):j):null,postalCode:s||null},f=Object(d.a)(Object(d.a)({},e),{},{profileInfo:m});le(f),c.replace(/ /g,"")===b?(_e(n,i,o,r,c,m,!1,"","fromEditWithOldPhone"),V(!1)):(te(!0),he(0),_e(n,i,o,r,c,m,!0,"","fromEditWithNewPhone",!0))},editAccountInfoModal:function(e){be(!0),V("fromEditClick"===e)},isMobile:j,openEditInfoFlag:B,updatedCustomerData:de}),Object(_.jsx)(Ee,{preferences:k,handleSubscriptionStatus:function(e){var t,n,a,i,o=e.subscribed?Ce.UNSUBSCRIBED:Ce.SUBSCRIBED;if(null!==(t=null===(n=window)||void 0===n||null===(a=n.appboy)||void 0===a||null===(i=a.getUser())||void 0===i?void 0:i.setEmailNotificationSubscriptionType(o))&&void 0!==t&&t){e.subscribed=!e.subscribed;var c=e.subscribed?p:h;Object(r.Yd)(Object(u.e)(c))}}}),Object(_.jsx)(A.a,{"data-testid":"delete-button-testid",className:"delete-account-button delete-account-button-au",onClickHandler:function(){w(!0),Object(ue.c)({popupTitle:Object(u.e)(f)})},children:Object(u.e)(f)}),y&&Object(_.jsx)(De,{handleClose:function(){w(!1)},deleteAccountCallback:function(){Y.a.getInstance().deleteAccount(),w(!1),Object(r.Dd)({history:x})},CartError:v.a.CartError}),$&&Object(_.jsx)(Ne,{closeOtpModalHandler:function(){te(!1)},otpSendTo:ie,profileReducer:G,tenantReducer:W,callValidateOtpAPI:function(e){var t=de.firstName,n=de.middleName,a=de.lastName,i=de.email,o=de.phone,r=de.profileInfo;_e(t,n,a,i,o,r,!0,e,"fromOtpScreen")},callResendOtpAPI:function(){var e=de.firstName,t=de.middleName,n=de.lastName,a=de.email,i=de.phone,o=de.profileInfo;_e(e,t,n,a,i,o,!0,"","fromResendOtpScreen",!0),we(),he(0)},isOtpMatch:Oe,hideError:we,invalidOtpCount:fe})]})},Ce=function(e){var t,n=e.history,o=e.setShowKfcHeader,c=C.a.ADDRESS,d=C.a.FAVORITE_ORDERS,l=C.a.ACCOUNT_SETTING,s=C.a.MESSAGE_TAG,u=R.Pb.FAV_ORDER_ITEM,v=u.ITEM_IMAGE_HEIGHT_MOBILE,O=u.ITEM_IMAGE_WIDTH_MOBILE,b=u.ITEM_IMAGE_HEIGHT_DESKTOP,m=u.ITEM_IMAGE_WIDTH_DESKTOP,f=Object(i.useState)(Object(r.Uc)(window.innerWidth)),p=Object(a.a)(f,2),h=p[0],E=p[1],S=Object(i.useState)(Object(r.mc)(h,"",s)),g=Object(a.a)(S,2),T=g[0],N=g[1],I=Object(i.useState)({width:0,height:0}),x=Object(a.a)(I,2),D=x[0],A=x[1],y=Object(i.useContext)(j.a).userOrderState,w=function(){var e=Object(r.Uc)(window.innerWidth);E(e),A(e?{height:v,width:O}:{height:b,width:m})};Object(i.useEffect)((function(){var e,t;null!==n&&void 0!==n&&null!==(e=n.location)&&void 0!==e&&null!==(t=e.hash)&&void 0!==t&&t.includes(R.Wc.ACCOUNT_SETTINGS)&&N(l)}),[n]),Object(i.useEffect)((function(){var e,t;(null===n||void 0===n||null===(e=n.location)||void 0===e?void 0:e.selectOption)&&N(null===n||void 0===n||null===(t=n.location)||void 0===t?void 0:t.selectOption)}),[null===n||void 0===n||null===(t=n.location)||void 0===t?void 0:t.selectOption]),Object(i.useEffect)((function(){window.addEventListener(R.Tc,w),Object(K.m)(h)}),[h]),Object(i.useEffect)((function(){Object(K.m)(h)}),[T]),Object(i.useEffect)((function(){return w(),localStorage.getItem(R.ac.LOAD_MORE_ORDER_HISTORY)!=R.Gb&&!0!==n.location.isNavigatingFromReorder&&n.location.selectedMenu!==R.Gb||N(R.Wc.ORDER_HISTORY),function(){localStorage.removeItem(R.ac.LOAD_MORE_ORDER_HISTORY),Object(K.m)(h)}}),[]);var L=function e(t){switch(t){case s:return o(!1),Object(_.jsx)($,{history:n,isMobile:h,updateMenu:function(e){return N(e)}});case l:return o(!1),Object(_.jsx)(Ae,{updateMenu:function(e){return N(e)},isMobile:h});case c:return Object(_.jsx)(G,{history:n,isMobile:h,updateMenu:function(e){return N(e)}});case R.Wc.ORDER_HISTORY:return o(!1),Object(_.jsx)(Q.default,{history:n,isMobile:h,updateMenu:function(e){return N(e)}});case d:return o(!1),Object(_.jsx)(se,{isMobile:h,renderSwitch:e,updateMenu:function(e){return N(e)},imageContainerSize:D});default:return o(!0),h?Object(_.jsx)(q,{isMobile:h,currentMenu:T,updateMenu:function(e){return N(e)},history:n}):null}};return h?Object(_.jsxs)("div",{className:"mobile-order-history",id:"mob-view-account-section",children:[L(T),y.showCartClearAlert?Object(_.jsx)(W.a,{}):null]}):Object(_.jsxs)("div",{className:"account-desktop-container account-gloabal-container mt-5 grid-container",children:[Object(_.jsx)("div",{className:"account-section-left",children:Object(_.jsx)(q,{isMobile:h,currentMenu:T,updateMenu:function(e){return N(e)},history:n})}),Object(_.jsx)("div",{className:"account-section-right account-section-right-au",children:L(T)}),y.showCartClearAlert?Object(_.jsx)(W.a,{}):null]})},_e=n(179);t.default=function(e){var t=Object(i.useState)(!0),n=Object(a.a)(t,2),r=n[0],c=n[1],d=Object(i.useContext)(j.a),l=(d.userOrderState,d.userOrderStateDispatch);return Object(i.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(i.useEffect)((function(){l({type:_e.a.SET_HIDE_NAV_BARS,value:{flag:!r}})}),[r,l]),Object(i.useEffect)((function(){return function(){l({type:_e.a.SET_HIDE_NAV_BARS,value:{flag:!1}})}}),[]),Object(_.jsx)(o.a.Fragment,{children:Object(_.jsx)(Ce,{history:e.history,setShowKfcHeader:function(e){return c(e)}})})}},755:function(e,t,n){"use strict";n.d(t,"f",(function(){return T})),n.d(t,"c",(function(){return N})),n.d(t,"e",(function(){return I})),n.d(t,"h",(function(){return x})),n.d(t,"i",(function(){return D})),n.d(t,"g",(function(){return C})),n.d(t,"d",(function(){return _})),n.d(t,"b",(function(){return y})),n.d(t,"j",(function(){return w})),n.d(t,"a",(function(){return L}));var a=n(8),i=n(0),o=n(2),r=n.n(o),c=n(24),d=n(3),l=n(20),s=n(14),u=n(7),v=n(780),O=n(67),b=n(12),j=d.ac.DISPOSITION_NEW,m=d.O.MMMM_D,f=d.O.YYYY_MM_DD,p=d.O.M_D_YYYY_h_mm_ss_A,h=d.O.h_mm_A,E=d.O.YYYY_MM_DD_hh_mm,S=d.O.YYYY_MM_DD_h_mm_A,g=function(e,t){return null===t||void 0===t?void 0:t.find((function(t){return e>=t.from&&e<=t.to}))},T=function(e,t,n,a,o,r){if(!e||!t)return!1;var c=[];if((null===r||void 0===r?void 0:r.length)>0)for(var d=0;d<(null===r||void 0===r?void 0:r.length);d++){var s=r[d],u=s.from,v=s.to;c.push({from:(new Date).setHours(Number(null===u||void 0===u?void 0:u.split(":")[0]),Number(null===u||void 0===u?void 0:u.split(":")[1]),0,0),to:(new Date).setHours(Number(null===v||void 0===v?void 0:v.split(":")[0]),Number(null===v||void 0===v?void 0:v.split(":")[1]),0,0)})}var O=[],b=(new Date).getTime(),j=(new Date).setHours(Number(null===e||void 0===e?void 0:e.split(":")[0]),Number(null===e||void 0===e?void 0:e.split(":")[1]),0,0),m=(new Date).setHours(Number(null===t||void 0===t?void 0:t.split(":")[0]),Number(null===t||void 0===t?void 0:t.split(":")[1]),0,0);o&&(m+=864e5);for(var f=(new Date).setHours(0,0,1)+(864e5-6e4*n),p=j;p<m;)(null===c||void 0===c?void 0:c.length)>0&&g(p,c)||(p>f?O.push({timestr:new Date(p).getHours()+":"+new Date(p).getMinutes(),selectedDay:"Tomorrow"}):O.push({timestr:new Date(p).getHours()+":"+new Date(p).getMinutes(),selectedDay:"Today"})),p+=6e4*n;if(O=O.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{timestr:Object(l.B)(e.timestr,"hh:mm","LT")})})),b>j){var h=O.findIndex((function(e){var t=Object(l.B)(e.timestr,"hh:mm A","HH:mm");return("Today"===e.selectedDay?(new Date).setHours(Number(null===t||void 0===t?void 0:t.split(":")[0]),Number(null===t||void 0===t?void 0:t.split(":")[1]),0,0):(new Date).setHours(Number(null===t||void 0===t?void 0:t.split(":")[0]),Number(null===t||void 0===t?void 0:t.split(":")[1]),0,0)+864e5)>=b}));O=O.splice(h)}return a&&O.unshift({timestr:"ASAP",selectedDay:"Today"}),O},N=function(e,t){return"ASAP"===t||"Today"===(null===t||void 0===t?void 0:t.selectedDay)?new Date:new Date((new Date).getTime()+864e5)},I=function(e,t,n){var a,i=d.ac.DISPOSITION_TYPE,o=d.bb.PICKUP,r=n?null===n||void 0===n?void 0:n.toUpperCase():null===(a=localStorage.getItem(i))||void 0===a?void 0:a.toUpperCase(),c=localStorage.getItem(i);return e&&c?{dispositionValue:null===c||void 0===c?void 0:c.toUpperCase(),dispositionName:null===d.eb||void 0===d.eb?void 0:d.eb[null===c||void 0===c?void 0:c.toUpperCase()]}:t?{dispositionValue:o,dispositionName:null===d.eb||void 0===d.eb?void 0:d.eb[o]}:{dispositionValue:r,dispositionName:null===d.eb||void 0===d.eb?void 0:d.eb[r]}},x=function(e){var t=e;return(null===t||void 0===t?void 0:t.length)>0&&(null===t||void 0===t?void 0:t.map((function(e){return null===e||void 0===e?void 0:e.date})))},D=function(e,t,n,a){e&&t({type:a,value:{showScheduleOrder:!0,selectedStoreInfo:null===n||void 0===n?void 0:n.store,deliveryAddress:null===n||void 0===n?void 0:n.deliveryAddress,deliveryAddressLine:null===n||void 0===n?void 0:n.deliveryAddressLine,changeFlow:e}})},A=function(){var e=Object(a.a)(r.a.mark((function e(){var t,n,a=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:"NA",e.next=3,c.a.registerEvent(null===s.a||void 0===s.a||null===(t=s.a.storeClose)||void 0===t?void 0:t.name,{data:{event:d.ld,disposition:n}},u.lb);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(e,t,n){e&&(n(!0),A(null===t||void 0===t?void 0:t.toLowerCase()))},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=null!==e&&void 0!==e?e:{},a=n.summary,i=void 0===a?{}:a,o=i.timings,r=void 0===o?{}:o,c=i.timeZoneIANA,d=void 0===c?"":c,s=r.operatingHours,u=void 0===s?{}:s,O=r.futureDates,b=void 0===O?[]:O,j={timeZone:d,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},S=new Intl.DateTimeFormat("en-US",j),g=null===S||void 0===S?void 0:S.format(new Date),T=null===g||void 0===g?void 0:g.split(",").join(" "),N=Object(l.q)(T,p),I=b.map((function(e){var n,a,i,o,r=Object(l.m)(e,f),c=Object(v.j)(u,r),d=null===c||void 0===c||null===(n=c[0])||void 0===n||null===(a=n.availableHours)||void 0===a?void 0:a.from,s=null===c||void 0===c||null===(i=c[0])||void 0===i||null===(o=i.availableHours)||void 0===o?void 0:o.to;if(!d||!s)return{date:{key:e,value:Object(l.f)(e,m),disabled:!0},timeSlots:[]};for(var O=Object(l.q)(e+" "+d,E),b=Object(l.q)(e+" "+s,E),j=[],p=O;p<=b;)p>N+86400&&j.push({key:p,value:Object(l.s)(p,h)}),p+=60*t;return{date:{key:e,value:Object(l.f)(e,m),disabled:0===(null===j||void 0===j?void 0:j.length)},timeSlots:j}}));return I},y=function(e,t,n,a,o,r){if(e){var c,d=_(null===t||void 0===t?void 0:t[0]),s=null===d||void 0===d?void 0:d.find((function(e){var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)}));if(n(d),a(s),o(Object(i.a)({},null===s||void 0===s||null===(c=s.timeSlots)||void 0===c?void 0:c[0])),r){var v,O,b,m,f=null===(v=Object(u.b)(localStorage.getItem(j)))||void 0===v?void 0:v.date,p=null===(O=Object(u.b)(localStorage.getItem(j)))||void 0===O?void 0:O.time,h=Object(l.q)("".concat(f," ").concat(p),S);if(h>(null===s||void 0===s||null===(b=s.timeSlots)||void 0===b||null===(m=b[0])||void 0===m?void 0:m.key))a(null===d||void 0===d?void 0:d.find((function(e){var t;return(null===e||void 0===e||null===(t=e.date)||void 0===t?void 0:t.key)===f}))),o({key:h,value:p})}}},R=function(e,t){var n,a=null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.pathname.split("/");a.length===d.Dc&&(a.includes(d.dc)||a.includes(d.y))&&localStorage.setItem(d.ac.SERVICE_TYPE,Object(u.sb)(t))},w=function(){var e=Object(a.a)(r.a.mark((function e(t){var n,a,o,c,l,s,v,j,m,f,p,h,E,S,g,T,N,I,x,D,A,C,_,y,w,L,M,k,P;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,a=t.userOrderStateDispatch,o=t.dispositionNew,c=t.selectedDispositionValue,l=t.currentStoreInfoData,s=t.dateTimeObj,v=t.scheduleOrderData,j=t.history,m=t.redirectionOrder,f=t.userParams,p=t.dispositionType,h=t.fromflag,E=t.updatedBasketId,e.next=3,Object(u.nb)(p,null===v||void 0===v?void 0:v.deliveryAddress);case 3:S=e.sent,g=Object(u.Qc)(S)?Object(u.Db)(S):null===v||void 0===v?void 0:v.deliveryAddress,T=b.a.USER_LOCALIZED,N=b.a.SET_DISPOSITION,I=b.a.SCHEDULE_ORDER_TIME_DATA,x=b.a.SCHEDULE_ORDER_TIME_PRESERVE_TIME,D=b.a.SET_REDIRECTION_PATH,A=d.ac.DISPOSITION_NEW,C=d.ac.DISPOSITION_OLD,_=d.ac.DATE_TIME_ORDER,y=d.ac.SAVED_TIME_ORDER,w=d.ac.SET_LOCATION,a({type:N,value:{oldvalue:o,newValue:{type:c,store:l,date:s.date,time:s.time,interval:s.interval,selectedTime:s.selectedTime,deliveryAddress:g,deliveryAddressLine:null===v||void 0===v?void 0:v.deliveryAddressLine,basketId:E}}}),localStorage.setItem(C,JSON.stringify(o)),localStorage.removeItem(A),localStorage.setItem(A,JSON.stringify({type:c,store:l,date:s.date,time:s.time,interval:s.interval,selectedTime:s.selectedTime,deliveryAddress:g,deliveryAddressLine:null===v||void 0===v?void 0:v.deliveryAddressLine,basketId:E})),R(j,c),Object(u.Sd)(),a({type:I,value:{selectedDateTime:s}}),a({type:x,value:{selectContentTime:Object(u.Ic)(p)&&h?null===s||void 0===s?void 0:s.selectedTime:d.i}}),localStorage.setItem(_,JSON.stringify(s)),localStorage.setItem(y,Object(u.Ic)(p)&&h?null===s||void 0===s?void 0:s.selectedTime:d.i),n(Object(O.a)(Object(i.a)(Object(i.a)({},f),{},{localized:!0}))),a({type:T,value:{isLocalized:!0}}),h||(localStorage.getItem(w)?localStorage.removeItem(w):Object(u.Ic)(p)?-1===(null===j||void 0===j||null===(k=j.location)||void 0===k||null===(P=k.pathname)||void 0===P?void 0:P.indexOf(d.Wc.CATERING_PAGE))&&Object(u.wd)({history:j}):m?(j.push({pathname:"".concat(m)}),a({type:D,value:{redirectionOrder:""}})):-1===(null===j||void 0===j||null===(L=j.location)||void 0===L||null===(M=L.pathname)||void 0===M?void 0:M.indexOf(d.Wc.MENU_PAGE))&&j.push({pathname:"".concat(d.Wc.MENU_PAGE)}));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e,t,n,a,i,o,r){var c=b.a.SEARCH_ORDER_DATA,l=b.a.SCHEDULE_ORDER_DATA;e?r({type:c,value:{showSearchStore:!0,searchedPlaceNonLocalized:t.name[0].value}}):i&&(r({type:c,value:{showSearchStore:!0,searchedPlaceNonLocalized:o,configSearchScreen:n}}),localStorage.setItem(d.ac.CONFIG_SEARCH_SCREEN,n),r({type:l,value:{showScheduleOrder:!1,selectedStoreInfo:t,changeFlow:Boolean(a)}}))}},757:function(e,t,n){"use strict";var a=n(28),i=n(4),o=n(3),r=n(224),c=n(7),d=n(5);t.a=function(e){var t=e.header,n=e.subHeader,l=e.onClickHandler,s=e.isDarkMode,u=void 0!==s&&s,v=e.isBlackArrow,O=void 0!==v&&v,b=e.cssClass,j=void 0===b?"":b,m=e.open,f=e.key,p=e.shouldDefaultOpen,h=void 0!==p&&p,E=e.dataTestId,S=void 0===E?"":E,g=e.footerActiveMenu,T=e.subHeaderText,N=void 0===T?"":T,I=e.subHeaderClass,x=void 0===I?"":I,D=Object(i.useState)(h),A=Object(a.a)(D,2),C=A[0],_=A[1],y=function(e){_(!C),l&&l(e)};Object(i.useEffect)((function(){m&&_(!C)}),[m]),Object(i.useEffect)((function(){void 0!==g&&_(g)}),[g]);return Object(d.jsxs)("div",{className:"global-accordian-container ".concat(j),"data-testid":"global-accordian",onKeyPress:function(e){var t=o.Rd.KEY_CHAR_CODE.ENTER;e.charCode===t&&(_(!C),l&&l(e))},children:[Object(d.jsxs)("button",{type:"button","aria-expanded":"false",className:"global-accordian-header-container",children:[Object(d.jsx)("span",{className:"global-accordian-header",onClick:y,"data-testid":S,children:t}),u?Object(d.jsx)("img",{src:Object(c.mc)(C,r.a.AccordianUpDark,r.a.AccordianDownDark),alt:"",onClick:y,className:"global-accordian-arrow","data-testid":"acordian-handle-dark"}):O?Object(d.jsx)("img",{src:Object(c.mc)(C,r.a.AccordianUPBlack,r.a.AccordianDownBlack),alt:"",onClick:y,className:"global-accordian-arrow","data-testid":"acordian-handle-dark"}):Object(d.jsx)("img",{src:Object(c.mc)(C,r.a.SingleArrowBlackExpand,r.a.SingleArrowBlack),alt:"",onClick:y,className:"global-accordian-arrow","data-testid":"acordian-handle"})]}),n&&!C?Object(d.jsx)("ul",{className:"global-accordion-subheader cart-food-modifier",children:n.map((function(e,t){return Object(d.jsxs)("li",{children:[e,t===n.length-1?Object(d.jsx)("span",{children:"..."}):null]})}))}):null,N?Object(d.jsx)("div",{className:"global-accordion-subheadertext ".concat(x),children:N}):null,C&&Object(d.jsx)("div",{className:"global-accordian-content",children:e.children})]},f)}},758:function(e,t,n){"use strict";t.a={NINE_TILES:9,FIVE_TILES:5,SIX_TILES:6,SEVEN_TILES:7,BROWSE_CATEGORIES:"browsecategory",VIEW_ALL_MENU:"viewAllMenu",MENU:"/menu",ADD_TO_CART:"addToCart",ITEM_QUANTITY:1}},759:function(e,t,n){"use strict";t.a={contentData:{scheduleOrderHeaderText:"scheduleOrder",changeScheduleOrderHeaderText:"changeYourOrderTitle",scheduleOrderModalContent:{formContent:{orderTypeTitle:"orderType",restaurantTitle:"YourKFCLocation",yourLocationTitle:"yourLocation",editTitle:"edit",scheduleDateTitle:"scheduleForYourOrder",dateTitle:"date",timeTitle:"time",buttonText:"confirm",dateOptions:["Today","23/03/2021","24/03/2021"],timeOptions:[9.3,10,10.3,11]}},DELIVERY_NA_WARNING_MESSAGE:"noStoresWithDeliveryHeader",DELIVERY_PICKUP_NA_MESSAGE:"deliverystoresWithoutAnyServiceHeader",SWITCH_TO_TAKEAWAY:"switchToTakeaway",errorMessageInactive:"errorMessageInactive",errorMessageClosed:"errorMessageClosed"},timingsSampleData:{operatingHours:[{day:"EVERYDAY",availableHours:{from:"10:00",to:"23:00"}}],asap:{isAvailable:!0,promiseTime:0},scheduled:{date:"2021-05-05",periods:[{startEndTime:{from:"11:30",to:"23:00"},interval:15}],unavailibilities:[]},futureDates:["2021-05-06"]}}},761:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),i=(n(4),n(916)),o=n.n(i),r=(n(917),n(918),n(5)),c=function(e){var t=e.settings,n=e.carousalRef;return Object(r.jsx)(o.a,Object(a.a)(Object(a.a)({},t),{},{ref:n,children:e.children}))};c.defaultProps={settings:null,carousalRef:null},t.b=c},762:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return O}));var a=n(8),i=n(2),o=n.n(i),r=n(24),c=n(14),d=n(7),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e&&e[0]&&e[0].fields||"",a=n.headline,i=t&&t[0]&&t[0].fields||"",o=i.buttonText;return{startOrderTitle:a,buttonText:o}},s=function(){var e=Object(a.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.registerEvent(c.a[t].name,{"%event%":t},d.lb);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){s("startOrder")},v=function(){var e=Object(a.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=[]).push({event:"changeStore"}),e.next=4,r.a.registerEvent(void 0,{data:t[0]},d.lb);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(a.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.registerEvent(null===c.a||void 0===c.a||null===(n=c.a.localisationFinish)||void 0===n?void 0:n.name,{"%event%":"localisationFinish","%disposition%":t,"%postLocalisation%":"True"},d.lb);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},764:function(e,t,n){"use strict";var a=n(680);n.d(t,"a",(function(){return a.default}))},765:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));t.d={CLOSED:"CLOSED",SEARCH_IN_CART:"SEARCH_IN_CART",CANCEL:"cancelButtonText",SUBMIT:"Submit",OCCASSOIN_HEADING:"occasionGiveName",OREDER_PLACEHOLDER:"nameThisOrder",YOUR_ORDER:"yourOrder",DELIVER_TO:"deliveryTo",PAYMENT:"payment",ORDER_FROM:"orderFrom",GET_DIRECTION:"getDirection",SUBTOTAL:"subTotal",GST:"GST",REST_HANDLING:"cartIncluTax",DISCOUNT:"DiscountText",GIFT_CARD:"giftCard",TOTAL:"total",COMPLETED:"completed",NO_ORDER_MSG:"noOrderFor12",REFUND_MSG:"refundMessage",HAVE_A_QUESTION:"haveAQuestion",CONNECT_WITH_SPECIALIST:"connectWithASpecialist",YOUR_PAST_ORDER:"yourPastOrder",LOOKING_FOR_OFFER:"lookingForSpecificOrder",ORDER_HISTORY_TAG:"orderHistory",REFUND_INIT:"refund-initiated",SCHEDULE:"scheduled",REORDER_TEXT:"reorderBtn",GOOD_EVE:"",MSG:"message",MY_FAV_MENU:"myFavorite",ADDRESS:"address",ACCOUNT_SETTING:"accoundSetting",SIGN_OUT:"signOut",REFUND_INIT_TEXT:"refundInitiated",ORDER:"order",TRACK_YOUR_ORDER:"trackYourOrder",AT:"at",GET_HELP:"getHelp",LOAD_MORE:"loadMore",VIEWED:"Viewed",OF:"of",ORDER_LOOKUP:"orderLookup",VIEW_MENU:"viewMenu",ADD_TO_OCCASION:"addToOccasion",VIEW_RECEIPT:"viewReceipt",SAVE:"save",EDIT_OCCASSION_DIALOG_TITLE:"Edit Occasion Name",OCCASSION_LABEL:"Occasion Name",SAME_OCCASSIONNAME_ERROR:"Occasion name already exists",EMPTY_OCCASSION_FIELD_ERROR:"Occasion name should not be empty",ADD_TO_CART_OCCASSION:"Add to Cart",STORE_CLOSED_BUTTON_TEXT:"storeClosedButtonText",ITEM_UNAVAILABLE:"Unavailable",VIEW_ORDER_HISTORY_BTN:"View Order History",MY_OCCASSION_TEXT:"My Occasions",MY_OCCASSION_UNAVAILABLE_TITLE:"You haven't created any occasions yet",DELETE_OCCASSION_TEXT:"Delete this Occassion",REORDER_OCCASSION:"Reorder",MY_FAVOURITE_MENU_TITLE_TEXT:"My Favorite Menu",MY_FAVOURITE_NO_ITEMS_TEXT:"You haven't favorited any items yet",MY_FAVOURITE_BROWSE_MENU:"Browse the menu",EDIT_ITEM_TEXT:"editItemText",MORNING:"morning",NOON:"noon",EVENING:"evening",ACCOUNT_FAV_PAGE:"Account - Favorite Menu",KFC_LOVER:"KFC LOVER",TODAY_AT:"todayAt",ADD_ITEM_TO_CART_TEXT:"addItemToCartText",LARGE_CARRY_BAG:"largeCarryBag",ADD_HOPE_TEXT:"addhope",NAME_EXIST:"nameExistMsg",OCCASION_NAME_VALIDATION:"OccasionNameValidation",UNFAVOURITE_ITEM_MESSAGE:"unFavoriteItemMessage",ACCOUNT_ORDERS:"Account - Order History",TRACK_ORDER:"trackOrder",CANCELLED:"Cancelled",DELIVERED:"Delivered",PICK_UP:"PICK UP"};var a={ACCOUNT_SETTINGS_TEXT:"accoundSetting",DELETE_ACCOUNT_TEXT:"deleteAccount",EDIT_PERSONAL_INFO:"editPersonalInfo",FIRST_NAME_TEXT:"firstNamePlaceholder",LAST_NAME_TEXT:"lastNamePlaceHolder",EMAIL_TEXT:"emailPlaceholder",PHONE_NUMBER_TEXT:"phonePlaceholder",CANCEL:"cancelButtonText",SAVE:"save",PERSONAL_INFO_TEXT:"personalInfo",EDIT:"edit",DELETE_ACCOUNT_MESSAGE:"areYouSureToDeleteAccountText",CONFIRM:"confirm",emailHelpText:"emailHelpText",phoneHelpText:"phoneHelpText",firstNameHelpText:"firstNameHelpText",lastNameHelpText:"lastNameHelpText"},i={COMMUNICATION_PREFERENCES_TEXT:"communicationPreferences",LEAVE:"leaveText",SAVE:"save"},o="https://"},766:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),i=n(70),o=(n(4),n(5)),r=["onKeyPressHandler","value","inputType","ref"],c=function(e){var t=e.onKeyPressHandler,n=void 0===t?null:t,c=e.value,d=void 0===c?"":c,l=e.inputType,s=void 0===l?"":l,u=(e.ref,Object(i.a)(e,r));return Object(o.jsx)("input",Object(a.a)({"data-testid":"check-input-box",value:d,onChange:function(e){return e.preventDefault()},onKeyPress:n,type:s},u))}},767:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var a,i=n(8),o=n(2),r=n.n(o),c=function(){var t=Object(i.a)(r.a.mark((function t(){var a,i,o,c,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=null===(a=e)||void 0===a||null===(i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===i?void 0:i.REACT_APP_TENANT_CODE,t.next=3,Promise.resolve().then(n.bind(null,137));case 3:return c=t.sent,d=c.default[o.toUpperCase()].MENU_PLP_CONSTANTS,t.abrupt("return",d);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:a=e.sent;case 3:case"end":return e.stop()}}),e)})))()}).call(this,n(85))},769:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(17),i=n(10),o=n(224),r=n(11),c=[{key:a.d.roundTheClock,image:o.a.RoundTheClockDark,label:Object(i.e)(r.a.ROUND_THE_CLOCK)},{key:a.d.birthday,image:o.a.BirthdayDark,label:Object(i.e)(r.a.BIRTHDAY)},{key:a.d.breakfast,image:o.a.BreakfastDark,label:Object(i.e)(r.a.BREAKFAST)},{key:a.d.contactless,image:o.a.ContactlessDark,label:Object(i.e)(r.a.CONTACTLESS)},{key:a.d.driveThru,image:o.a.DrivethruDark,label:Object(i.e)(r.a.DRIVETHRU)},{key:a.d.driveThruOnly,image:o.a.DrivethruDark,label:Object(i.e)(r.a.DRIVETHRU)},{key:a.d.foodCourt,image:o.a.FoodCourtDark,label:Object(i.e)(r.a.FOODCOURT)},{key:a.d.wifi,image:o.a.WifiDark,label:Object(i.e)(r.a.FREE_WIFI)},{key:a.d.wifiOnly,image:o.a.WifiDark,label:Object(i.e)(r.a.WIFI)},{key:a.d.kiosks,image:o.a.KiosksDark,label:Object(i.e)(r.a.KIOSKS)},{key:a.d.parking,image:o.a.ParkingDark,label:Object(i.e)(r.a.PARKING)},{key:a.d.playground,image:o.a.PlaygroundDark,label:Object(i.e)(r.a.PLAYGROUND)},{key:a.d.refill,image:o.a.RefillDark,label:Object(i.e)(r.a.REFILL)},{key:a.d.terraces,image:o.a.TerracesDark,label:Object(i.e)(r.a.TERRACES)},{key:a.d.phc,image:o.a.AccessibilityDark,label:Object(i.e)(r.a.ACCESSIBILTY)},{key:a.d.accessibility,image:o.a.AccessibilityDark,label:Object(i.e)(r.a.ACCESSIBILTY)},{key:a.d.restroom,image:o.a.RestRoomDark,label:Object(i.e)(r.a.RESTROOM)},{key:a.d.cateringType,image:o.a.BirthdayDark,label:Object(i.e)(r.a.CATERING_TEXT)}],d=function(e,t){return c.filter((function(t){var n,a;if(null!==e&&void 0!==e&&null!==(n=e.amenities)&&void 0!==n&&n.length)return(null===e||void 0===e||null===(a=e.amenities)||void 0===a?void 0:a.indexOf(null===t||void 0===t?void 0:t.key))>=0}))}},770:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(4),i=n(37),o=n(114),r=n(135),c=n(60),d={MSGTXT1:"clearCartAwareText",MSGTXT2:"clearCartActionText",MSGTXT3:"clearCartCompleteText"},l="continue",s="cancel",u=n(12),v=n(10),O=n(105),b=n(7),j=n(31),m=n(5),f=function(e){var t=(Object(i.c)((function(e){return e.cartReducer}))||{}).cartData,n=void 0===t?{}:t,f=(Object(i.c)((function(e){return e.tenantReducer}))||{}).tenantId,p=void 0===f?"":f,h=Object(a.useContext)(c.a),E=h.userOrderState,S=h.userOrderStateDispatch,g=E.modalToOpenOnConfirm,T=E.modalOpenFrom,N=E.confirmCallBack,I=Object(i.b)(),x=d,D=l,A=s,C=u.a.SHOW_CLEAR_CART_ALERT,_=u.a.DISPOSITION_DATA,y=u.a.SEARCH_ORDER_DATA,R=u.a.SCHEDULE_ORDER_DATA,w=u.a.clearCartChangeFlag,L=u.a.orderTypeAlertTitle,M=u.a.searchStoreAlertTitle,k=Object(b.Pc)(E.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):E.dispositionNew,P=function(){S({type:C,value:{showCartClearAlert:!1}}),T===w&&S({type:R,value:{showScheduleOrder:!0,selectedStoreInfo:k.store,changeFlow:!0}})};return Object(m.jsx)(r.a,{handleClose:P,classNames:"clear-cart-modal",CartAlertForm:Object(m.jsx)(o.a,{splitTitle:x,imageSrc:O.a,altText:"cart-error",confirmButtonText:Object(v.e)(D),cancelButtonText:Object(v.e)(A),cancelHandler:P,confirmHandler:function(){if(n.discountLines.length>0){var e=n.discountLines.map((function(e){return e.id}));I(Object(j.m)({params:{basketId:n.id},tenantId:p,shouldClearCart:!0},e))}else I(Object(j.n)({basketId:n.id,tenantId:p}));I(Object(j.t)(new Date)),S({type:C,value:{showCartClearAlert:!1}}),N&&N(),g===L?S({type:_,value:{showDisposition:!0}}):g===M&&S({type:y,value:{showSearchStore:!0}})}})})}},771:function(e,t,n){"use strict";var a=n(28),i=n(4),o=n.n(i),r=n(248),c=n(254),d=n(249),l=n(45),s=n(245),u=n(136),v=n(10),O=n(7),b=n(60),j=n(3),m=n(5);t.a=function(e){var t,n,f=e.locationAlertProp,p=e.negativeScenarioAlertProp,h=e.isMobile,E=e.onPositionChangeHandler,S=e.centerIndex,g=e.isVisible,T=e.setShowCard,N=e.locationAlert,I=e.setStoreMarker,x=void 0===I?function(){}:I,D=e.passAddress,A=e.storeCardHeight,C=e.latLongValue,_=l.a.PLACE_PIN,y=o.a.useContext(b.a).userOrderState.dispositionStateData,R=(void 0===y?{}:y).dispositionType,w=void 0===R?localStorage.getItem("dispositionType"):R,L=o.a.createRef(),M=Object(i.useState)(C),k=Object(a.a)(M,2),P=k[0],F=k[1],H=Object(i.useState)(!1),U=Object(a.a)(H,2),B=U[0],Y=U[1];Object(i.useEffect)((function(){t=V(P),n=G(P)}),[]),Object(i.useEffect)((function(){F(C),Y(!1)}),[C]),Object(i.useEffect)((function(){V(P),n=G(P)}),[P,S,B]);var V=function(e){return new window.google.maps.Map(L.current,{zoom:10,center:Array.isArray(e)&&e.length>0?e[S]:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!h,gestureHandling:"greedy"})},G=function(e){var a=new window.google.maps.Geocoder,i=e;t=V(i),g?B||(t.addListener("zoom_changed",(function(){T(!1),Y(!0)})),t.addListener("drag",(function(){T(!1),Y(!0)}))):(t.addListener("drag",(function(){i={lat:t.getCenter().lat(),lng:t.getCenter().lng()},n.setPosition(i)})),window.google.maps.event.addListener(t,"dragend",(function(){!function(e,t,n){e.geocode({location:n},(function(e,t){"OK"===t&&e[0]&&D(e[0].formatted_address)}))}(a,0,i)})));var o=Object(O.mc)(Array.isArray(i)&&i.length>0,i,[i]).map((function(e,n){var a=new window.google.maps.Marker({position:e,map:t,visible:!0,icon:Object(O.xc)(!g,!B&&g&&n===S)?(null===w||void 0===w?void 0:w.toUpperCase())===j.Bd?c.a:r.a:d.a});return a.addListener("click",(function(e){x(e.latLng)})),a}));return Object(O.mc)(Array.isArray(i),o,o[0])};return Object(m.jsxs)(o.a.Fragment,{children:[!f&&((null===w||void 0===w?void 0:w.toUpperCase())!==j.Bd||""!==p&&p?null:Object(m.jsx)("div",{className:"map-top-note ".concat(Object(O.mc)(N,"place-pin-off","")),children:Object(m.jsx)("div",{className:"map-top-note-text","data-testid":"map-top-text-test",children:Object(v.e)(_)})})),h&&!B&&Object(m.jsxs)("div",{className:"arrows",style:{bottom:"".concat(A+15,"px")},children:[Object(m.jsx)("span",{className:"map-arrow-left ".concat(Object(O.S)(0===S,"disableArrow")),"data-testid":"map-arrow-left",onClick:function(e){return Object(O.mc)(0===S,e.preventDefault(),E(0))},children:Object(m.jsx)(s.a,{srcFile:u.a,alt:"map-arrow-left"})}),Object(m.jsx)("span",{className:"map-arrow-right ".concat(S===P.length-1&&"disableArrow"),"data-testid":"map-arrow-right",onClick:function(e){return S===P.length-1?e.preventDefault():E(1)},children:Object(m.jsx)(s.a,{srcFile:u.a,alt:"map-arrow-right"})})]}),Object(m.jsx)("div",{id:"google-map",ref:L})]})}},772:function(e,t,n){"use strict";var a=n(0),i=n(70),o=(n(4),n(791)),r=n(5),c=["placeholder","labelClassName","inputClassName","helperTextClassName","containerClassName","inputTestId","labelTestId","onKeyPressHandler","error","helperText","ariaLabel","ariaRequired","autoComplete","toolTipText","toolTipSrc","errorIcon","errorIconClassName"];t.a=function(e){var t=e.placeholder,n=void 0===t?"":t,d=e.labelClassName,l=void 0===d?"":d,s=e.inputClassName,u=void 0===s?"":s,v=e.helperTextClassName,O=void 0===v?"":v,b=e.containerClassName,j=void 0===b?"":b,m=e.inputTestId,f=void 0===m?"":m,p=e.labelTestId,h=void 0===p?"":p,E=e.onKeyPressHandler,S=void 0===E?null:E,g=e.error,T=void 0!==g&&g,N=e.helperText,I=void 0===N?"":N,x=(e.ariaLabel,e.ariaRequired),D=void 0===x?"":x,A=e.autoComplete,C=void 0===A?"":A,_=e.toolTipText,y=void 0===_?"":_,R=e.toolTipSrc,w=void 0===R?"":R,L=e.errorIcon,M=void 0===L?"":L,k=e.errorIconClassName,P=Object(i.a)(e,c);return Object(r.jsxs)("div",{className:"field material-input ".concat(j),children:[T&&Object(r.jsx)("span",{className:O,role:"alert",children:M?Object(r.jsxs)("div",{className:k,children:[Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:M,alt:"Error visible"})}),Object(r.jsx)("div",{children:I})]}):I}),Object(r.jsx)("input",Object(a.a)({className:u,id:"mt-input-".concat((null===e||void 0===e?void 0:e.name)||n),name:"mt-input-".concat((null===e||void 0===e?void 0:e.name)||n),placeholder:n,onKeyPress:S,"data-testid":f,"aria-required":D,autoComplete:C},P)),Object(r.jsx)("label",{"data-testid":h,className:l,htmlFor:"mt-input-".concat((null===e||void 0===e?void 0:e.name)||n),children:n}),y&&Object(r.jsx)("span",{className:"tool-tip-position",children:Object(r.jsx)(o.a,{placement:"top",title:y,children:Object(r.jsx)("img",{className:"tooltip-view",src:w,alt:"tooltip"})})})]})}},773:function(e,t,n){"use strict";n.d(t,"v",(function(){return T})),n.d(t,"l",(function(){return N})),n.d(t,"c",(function(){return I})),n.d(t,"o",(function(){return x})),n.d(t,"p",(function(){return D})),n.d(t,"u",(function(){return A})),n.d(t,"i",(function(){return C})),n.d(t,"w",(function(){return _})),n.d(t,"x",(function(){return y})),n.d(t,"k",(function(){return R})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return L})),n.d(t,"f",(function(){return M})),n.d(t,"m",(function(){return k})),n.d(t,"a",(function(){return P})),n.d(t,"n",(function(){return F})),n.d(t,"y",(function(){return H})),n.d(t,"s",(function(){return B})),n.d(t,"t",(function(){return Y})),n.d(t,"d",(function(){return V})),n.d(t,"q",(function(){return G})),n.d(t,"r",(function(){return W})),n.d(t,"b",(function(){return K})),n.d(t,"e",(function(){return z})),n.d(t,"j",(function(){return J}));var a=n(0),i=n(790),o=n(20),r=n(7),c=n(12),d=n(178),l=n(10),s=n(793),u=n(233),v=n(228),O=n(69),b=n(759),j=n(760),m=n(3),f=n(95),p=n(5),h=c.a.ANALYTICS_LOCALISATION_SIGNIN,E=b.a.contentData,S=E.scheduleOrderHeaderText,g=E.changeScheduleOrderHeaderText,T=function(e){return e?"formElement-error":"formElement"},N=function(e,t){e&&t()},I=function(e){return e?"text-danger":" "},x=function(e){return e?" mobile":""},D=function(e){return e?"":" px-rt-5px"},A=function(){localStorage.setItem(h,JSON.stringify(!0)),Object(f.b)()},C=function(e){var t=e.date,n=e.time,a=d.c.ASAP,i="";if(t&&n){var r=Object(o.f)(t,"YYYYMMDD")===Object(o.d)("YYYYMMDD")?Object(l.e)("today"):Object(l.e)("tomorrow"),c=n;i=Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("label",{children:r}),Object(p.jsx)("span",{children:c})]})}return"ASAP"===n&&(i=Object(p.jsx)("label",{children:Object(l.e)(a)})),i},_=function(e){var t,n=d.c.CHECKOUT_TITLES,a=d.c.IS_DELIVERY,i=d.c.IS_TAKEAWAY,o=d.c.IS_DINEIN;return Object(r.Pd)(e)===a&&(t=n.DELIVERY_INFO),Object(r.Pd)(e)===i&&(t=n.TAKEAWAY_INFO),Object(r.Pd)(e)===o&&(t=n.DINEIN_INFO),t},y=function(e){var t,n=d.c.CHECKOUT_TITLES,a=d.c.IS_DELIVERY,i=d.c.IS_TAKEAWAY,o=d.c.IS_DINEIN;return Object(r.Pd)(e)===a&&(t=n.DELIVERY_OPTIONS),Object(r.Pd)(e)===i&&(t=n.TAKEAWAY_OPTIONS),Object(r.Pd)(e)===o&&(t=n.DINEIN_OPTIONS),t},R=function(e,t){var n=Object(a.a)({},e);return n.value=t,n.error=!t,n},w=function(e,t){var n,i=Object(a.a)({},e);return i.value=t,!t||t.length<2?(i.error=!0,i.errorMessage=Object(l.e)("emptyFullNameErrMsg")):(n=t,!d.b.test(n)||t.length>26?(i.error=!0,i.errorMessage=Object(l.e)("invalidFullNameErrMsg")):(i.error=!1,i.errorMessage="")),i},L=function(e,t){var n=Object(a.a)({},e);return n.value=t,t?t.length<10||t.length>12||isNaN(t)||!/^\d*$/.test(t)?(n.error=!0,n.errorMessage=Object(l.e)("invalidPhoneNumberErrMsg")):(n.error=!1,n.errorMessage=""):(n.error=!0,n.errorMessage=Object(l.e)("emptyPhoneNumberErrMsg")),n},M=function(e,t){var n,i=Object(a.a)({},e);return i.value=t,t?(n=t,d.a.test(null===n||void 0===n?void 0:n.toLowerCase())?(i.error=!1,i.errorMessage=""):(i.error=!0,i.errorMessage=Object(l.e)("invalidEmailErrMsg"))):(i.error=!0,i.errorMessage=Object(l.e)("emptyEmailErrMsg")),i},k=function(e){var t=Object(a.a)({},e),n=t.firstName,i=void 0===n?"":n,o=t.middleName,r=void 0===o?"":o,c=t.lastName,d=void 0===c?"":c,l=t.email,s=void 0===l?"":l,u=t.phone,v=void 0===u?"":u,O=t.phoneNumber;return{fullName:i||(""+r?r:""+d?d:""),email:s,phone:""!==v?v:void 0===O?"":O}},P=function(e,t,n,a){var o;if(null!==e&&void 0!==e&&null!==(o=e.foodLines)&&void 0!==o&&o.length){var r=[];null===e||void 0===e||e.foodLines.forEach((function(e,t){var i,o,c,d,l=(e.amount/n).toFixed(2),s=null!==(i=null===a||void 0===a?void 0:a[null===(o=e.item)||void 0===o?void 0:o.id])&&void 0!==i?i:{},u=s.categoryId,v=void 0===u?"NA":u,O=s.categoryName,b=void 0===O?"NA":O;r.push({item_name:(null===(c=e.item)||void 0===c?void 0:c.dname[0].value)||"NA",item_id:(null===(d=e.item)||void 0===d?void 0:d.id)||"NA",price:parseFloat(l)||"NA",item_category:b,item_list_name:b,item_list_id:v,index:t+1,quantity:e.quantity||"NA"})})),"AddContactInfoClick"===t&&Object(i.a)(r),"BeginCheckoutClick"===t&&Object(i.b)(r)}},F=function(e,t,n,i){var o=d.c.IS_DELIVERY,c=d.c.IS_TAKEAWAY,s=Object(a.a)({},e);return s.value=t,Object(r.Pd)(n)===o?(s.error=!1,s.errorMessage=""):t||Object(r.Pd)(n)!==c||"handittome"!==i?t.length<2&&Object(r.Pd)(n)===c&&"handittome"===i?(s.error=!0,s.errorMessage=Object(l.e)("invalidVehicalInformation")):(s.error=!1,s.errorMessage=""):(s.error=!0,s.errorMessage=Object(l.e)("pleaseEnterYourVehicalInformation")),s},H=function(e,t,n,a){var o,r=[];null===e||void 0===e||null===(o=e.foodLines)||void 0===o||o.forEach((function(e,n){var i,o,c,d,l=null!==(i=null===a||void 0===a?void 0:a[null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.id])&&void 0!==i?i:{},s=l.categoryId,u=void 0===s?"NA":s,v=l.categoryName,O=void 0===v?"NA":v;r.push({item_name:(null===e||void 0===e||null===(c=e.item)||void 0===c?void 0:c.name)||"NA",item_id:(null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.id)||"NA",price:Number(((null===e||void 0===e?void 0:e.unitPrice)/t).toFixed(2))||0,item_category:O,item_list_name:O,item_list_id:u,index:n+1,quantity:(null===e||void 0===e?void 0:e.quantity)||0})})),Object(i.e)(null===n||void 0===n?void 0:n.name,r)},U=function(e){var t,n,a,i,o,r=null!==e&&void 0!==e&&null!==(t=e.response)&&void 0!==t&&t.response?null===e||void 0===e||null===(n=e.response)||void 0===n||null===(a=n.response)||void 0===a?void 0:a.data:null===e||void 0===e?void 0:e.response,c="";return null!==r&&void 0!==r&&r.errors&&(null===r||void 0===r?void 0:r.errors.length)>0?c=Array.isArray(null===r||void 0===r?void 0:r.errors)?null===r||void 0===r?void 0:r.errors[0]:null===r||void 0===r?void 0:r.errors:null!==r&&void 0!==r&&r.errorMessages&&(c=Array.isArray(null===r||void 0===r?void 0:r.errorMessages)?null===r||void 0===r?void 0:r.errorMessages[0]:null===r||void 0===r?void 0:r.errorMessages),c=null!==(i=c)&&void 0!==i&&i.message?null===(o=c)||void 0===o?void 0:o.message:c},B=function(e,t,n){var a=s.a.PAYMENT_FAILED_MESSAGE,i=s.a.PAYMENT_PRE_VALIDATION_FAILED_MESSAGE,o="";return n?o=Object(l.e)(i):t?o=Object(l.e)(a):e&&null!==e&&void 0!==e&&e.error&&(o=U(e)),""!==o&&Object(p.jsxs)("div",{className:"row row-cols-12 mt-10px payment-failed-error-box",children:[Object(p.jsx)(O.a,{srcFile:v.a,className:"mt-3px mr-5px"}),Object(p.jsx)("div",{className:"ml-10px",children:o})]})},Y=function(e,t,n){var a=s.a.PAYMENT_FAILED_MESSAGE,i=s.a.PAYMENT_PRE_VALIDATION_FAILED_MESSAGE,o="";n?o=Object(l.e)(i):t?o=Object(l.e)(a):e&&null!==e&&void 0!==e&&e.error&&(o=U(e)),""!==o&&(Object(r.ub)(document.title,o),Object(r.rc)(o))},V=function(e,t){"PICKUP"===e&&(t="leaveatmydoor"===t?"in-store":"KFC to your Car");var n=sessionStorage.getItem("setAttributePayload");n&&((n=JSON.parse(n)).CollectionPoint=t,Object(r.ge)(n))},G=function(e,t){var n=d.c.IS_TAKEAWAY,a=d.c.IS_CURBSIDE;return t!==n||Array.isArray(e)&&e.length>0&&Boolean(e.find((function(e){return e.collectionPointName===a})))},W=function(e,t){t&&null!==t&&void 0!==t&&t.error&&null!==t&&void 0!==t&&t.response&&(e(Object(u.e)()),e(Object(u.a)({value:[]}))),e(Object(j.d)()),sessionStorage.setItem(m.ac.ORDER_TRACKING,null)},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t&&Object(r.ub)(e,n)},z=function(e,t){t&&"NA"!==t&&Object(r.ub)(e,t)},J=function(e,t){var n=e?Object(l.e)(g):Object(l.e)(S);t&&Object(r.ub)(n,t)}},775:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(1);function i(e){return{type:a.GET_TENDERS_CONTENT,payload:e}}},776:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return O}));var a=n(8),i=n(2),o=n.n(i),r=n(24),c=n(14),d=n(7),l=function(){var e=Object(a.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.registerEvent(c.a.add_to_cart.name,{data:{event:"add_to_cart",ecommerce:{add_to_cart:{items:[t]}}}},d.lb);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(e){r.a.registerEvent("editPersonalInformation",{"%event%":"editPersonalInformation","%firstName%":e.firstName||"NA","%lastName%":e.lastName||"NA","%email%":e.emailId||"NA","%phone%":Object(d.M)(e.phoneNumber)||"NA"},d.lb)},u=function(e){r.a.registerEvent("updateCommunicationPreferences",{"%event%":"updateCommunicationPreferences","%marketingEmails%":e.find((function(e){return"marketing-emails"===e}))?"True":"False","%editorAndCustomerFavourites%":e.find((function(e){return"editor-pick"===e}))?"True":"False","%newsAndAnnouncements%":e.find((function(e){return"kfc-news"===e}))?"True":"False","%doNotSellInformation%":e.find((function(e){return"do-not-sell"===e}))?"True":"False"},d.lb)},v=function(){var e=Object(a.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.registerEvent("deleteAccount",{"%event%":"deleteAccount","%userID%":t||"NA"},d.lb);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(a.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.registerEvent("signOutSuccess",{"%event%":"signOutSuccess","%userID%":t||"NA"},d.lb);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},779:function(e,t,n){"use strict";t.a={SAVE_ORDER_NAME_ERROR:"OccasionNameValidation",FAVORITES_ORDERS_REGEX:/^(?!\s)[A-Za-z0-9 ]{1,50}$/,CURRENT_ORDER:"currentOrder",PROCESSING:"processing",PROCESSING_YOUR:"processingYour",ORDER_READY_IN_JUST:"orderReadyInJust",SECOND:"aSecondText",CONFIRMING_YOUR_ORDER:"confirmYourOrder",READY_IN_JUST_A_SECOND:"readyInJustASecond",YOUR_ORDER:"yourOrder",ORDER:"order#",COMPLETED:"completed",DELIVER_TO:"deliveryTo",PAYMENT:"payment",ORDER_FROM:"orderFrom",GET_DIRECTION:"getDirection",SUB_TOTAL:"subTotal",DISCOUNT:"discount",TOTAL:"total",ORDERS:"order",YOUR_SET:"YOU\u2019RE ALL SET",DELEIVERED_AROUND:" will be delivered around",PICKUP_AROUND:"willBeReadyForPickup",READY_FOR_PICKUP:"readyForPickup",NAME_ORDER_NUMBER:"GIVE US YOUR NAME OR ORDER NUMBER",WHEN_YOURE_HERE:"WHEN YOU\u2019RE HERE.",SAVE_YOUR_ORDERS_AND_CHECKOUT_FASTER:"SAVE YOUR ORDERS AND CHECKOUT FASTER",SAVED_TO_FAVORITE_MENU:"Saved this order in My Favorite Menu.",CREATE_AND_ACCOUNT_SAVE_ORDERS:"CREATE AN ACCOUNT TO SAVE YOUR ORDERS AND",CHECKOUT_FASTER:"CHECKOUT FASTER",SAVE_THIS_Order:"Save This Order",ORDER_FROM_CAPS:"ORDER FROM",VIEW_MORE:"View More Details",BACK_TO_CART:"backToCart",THAT_AINT_RIGHT:"thatNotRight",FAILED_MSG:"unsuccessfulPayment",FEEDBACK_EMAIL:"FeedbackEmail",PHONE_NUMBER:"phoneNumber",BACK_TO_CART_MSG:"GoBackToCart",ORDER_ACCEPTED:"orderAccepted",SIGN_UP:"signAndSaveOrder",RESTAURANT_HANDLING_CHARGE:"cartIncluTax",READY_FOR_DINEIN:"readyForDineIn",DINEIN_AROUND:"dineInText",PICKUP:"PICKUP",DELIVERY:"DELIVERY",ONLY_IMAGE:"Only image",DELIVERY_FEE:"deliveryFee",DISCOUNT_TEXT:"DiscountText",THANKYOU:"saveOrderThankYou",WE_SAVED:"weSaved",GIVE_A_NAME:"giveAName",SCHEDULE_ORDER:"savedOrderScheduleOrder",ORDER_DETAIL:"orderDetails",SCHEDULED:"scheduled",GST:"cartGst",largeCarryBagText:"largeCarryBag",addHopeText:"addhope",SEARCH_IN_CART:"SEARCH_IN_CART",HH_MM:"hh mm",HH_MM_A:"hh:mma",H_MM_A:"h:mma",TOTAL_GST_INCLUDED:"gstIncluded",REORDER_FAVOURITES:"reorderFavourites",CREATE_KFC_ACCOUNT:"createKfcAccount"}},780:function(e,t,n){"use strict";n.d(t,"H",(function(){return he})),n.d(t,"I",(function(){return Ee})),n.d(t,"J",(function(){return Se})),n.d(t,"l",(function(){return ge})),n.d(t,"o",(function(){return Te})),n.d(t,"g",(function(){return Ne})),n.d(t,"p",(function(){return Ie})),n.d(t,"y",(function(){return De})),n.d(t,"x",(function(){return Ce})),n.d(t,"w",(function(){return _e})),n.d(t,"i",(function(){return ye})),n.d(t,"r",(function(){return Re})),n.d(t,"k",(function(){return Le})),n.d(t,"b",(function(){return Me})),n.d(t,"h",(function(){return ke})),n.d(t,"d",(function(){return Pe})),n.d(t,"m",(function(){return Fe})),n.d(t,"u",(function(){return He})),n.d(t,"K",(function(){return Be})),n.d(t,"N",(function(){return Ye})),n.d(t,"a",(function(){return Ve})),n.d(t,"F",(function(){return Ge})),n.d(t,"G",(function(){return We})),n.d(t,"C",(function(){return Ke})),n.d(t,"v",(function(){return ze})),n.d(t,"L",(function(){return Je})),n.d(t,"n",(function(){return Xe})),n.d(t,"c",(function(){return qe})),n.d(t,"e",(function(){return Qe})),n.d(t,"M",(function(){return Ze})),n.d(t,"f",(function(){return $e})),n.d(t,"q",(function(){return et})),n.d(t,"s",(function(){return tt})),n.d(t,"B",(function(){return nt})),n.d(t,"z",(function(){return it})),n.d(t,"A",(function(){return ot})),n.d(t,"D",(function(){return rt})),n.d(t,"j",(function(){return dt})),n.d(t,"E",(function(){return lt})),n.d(t,"t",(function(){return st}));var a=n(0),i=n(33),o=n(28),r=n(32),c=n(8),d=n(2),l=n.n(d),s=n(20),u=n(27),v=n.n(u),O=n(822),b=n.n(O),j=n(811),m=n.n(j),f=n(72),p=n(10),h=n(24),E=n(14),S=n(7),g=n(38),T=(n(812),n(69)),N=n(235),I=n(11),x=n(224),D=n(3),A=n(84),C=n(12),_=n(253),y=n(86),R=n(762),w=n(31),L=(n(67),n(236)),M=n(95),k=n(755),P=n(104),F=n(5),H=D.Wc.MENU_PAGE,U=D.Wc.CATERING_PAGE,B=(D.O.H_MM_A,D.O.H_MM_A_CAPS,D.O.HH_mm,D.O.YYYY_MM_DD,D.O.HH_MM,D.O.H_MM_AA,D.O.h_mm_A),Y=D.bb.DELIVERY,V=D.ac.CURRENT_STORE_INFO_STORAGE,G=D.ac.ANALYTICS_LOCALISATION_SIGNIN,W=D.ac.DISPOSITION_TYPE,K=D.ac.STORE_INFO,z=(D.ac.DATE_TIME_ORDER,D.ac.SAVED_TIME_ORDER,D.ac.DISPOSITION_OLD,D.ac.DISPOSITION_NEW),J=D.ac.CONFIG_SEARCH_SCREEN,X=(D.ac.SERVICE_TYPE,C.a.SCHEDULE_ORDER_DATA),q=C.a.SEARCH_ORDER_DATA,Q=C.a.CURRENT_STORE_INFO,Z=C.a.DISPOSITION_METHOD,$=C.a.SET_FORCERELOAD,ee=C.a.SHOW_LOCATION_CONFIRM_MODAL,te=C.a.FAV_STORE_NOT_IN_RADIUS,ne=C.a.REORDER_MODAL_OPEN,ae=C.a.REORDER_STORE_CHANGED,ie=I.a.LIST_TEXT,oe=I.a.MAP_TEXT,re=(I.a.SELECT_STORE_TEXT,I.a.BROWSE_MENU_TEXT),ce=(I.a.OPEN_UNTIL,I.a.OPEN_TOMORROW,I.a.OPEN_TODAY,I.a.OPEN_TOMORROW_WITHOUT_AT,I.a.START_ORDER),de=(I.a.OPEN_TODAY_WITHOUT_AT,I.a.TRADING_HRS),le=I.a.DELIVERY_HRS,se=(I.a.OPEN_NOW,x.a.MapImage),ue=x.a.Union,ve=(f.a.TAKEAWAY_UNAVAILABLE_WITH_CTA,f.a.TAKEAWAY_UNAVAILABLE,f.a.DINEIN_UNAVAILABLE,f.a.TAKE_AWAY_SERVICE,f.a.DINE_IN_SERVICE,f.a.STORE_STATUS_OPEN),Oe=(f.a.DELIVERY_SERVICE,f.a.DELIVERY_UNAVAILABLE,f.a.LOCATION_WARNING_MESSAGE,f.a.LOCALISATION_ERROR),be=f.a.API_ERROR,je=f.a.PHONE_NUMBER,me=f.a.STORE_MESSAGE,fe=f.a.GEOLOCATIOM_TEXT,pe=f.a.PROMPT_TEXT,he=function(){var e=Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.registerEvent(E.a.localisationSignIn.name,{"%event%":"localisationSignIn"},S.lb);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.registerEvent(E.a.orderNow.name,{"%event%":"orderNow"},S.lb);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem(G,JSON.stringify(!0)),he(),Object(M.b)()},ge=function(e){return e.reduce((function(e,t){var n=t.fields;return D.xb===n.title&&(e=n.templateData),e}),{})},Te=function(e){return e.filter((function(e){return e.channel===g.b.channel}))},Ne=function(e,t){var n="",a="",i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","EVERYDAY"],o=new Date;return e?(a=i[o.getDay()].toUpperCase(),t.length&&t.filter((function(e){var t,i,o,r;if(e.day.toUpperCase()===a.toUpperCase())n=0===(null===(t=Object(s.A)(e.availableHours.to,"hhmm"))||void 0===t?void 0:t.minute())?"".concat(Object(p.e)(f.a.OPENS_UNTIL)," ").concat(null===(i=Object(s.B)(e.availableHours.to,"hhmm","hA"))||void 0===i?void 0:i.split(" ").join("")):"".concat(Object(p.e)(f.a.OPENS_UNTIL)," ").concat(null===(o=Object(s.B)(null===e||void 0===e||null===(r=e.availableHours)||void 0===r?void 0:r.to,"hhmm","h:mmA"))||void 0===o?void 0:o.split(" ").join(""));else if(e.day.toUpperCase()===f.a.EVERYDAY){var c,d,l,u;n=0===(null===(c=Object(s.A)(e.availableHours.to,"hhmm"))||void 0===c?void 0:c.minute())?"".concat(Object(p.e)(f.a.OPENS_UNTIL)," ").concat(null===(d=Object(s.B)(null===e||void 0===e||null===(l=e.availableHours)||void 0===l?void 0:l.to,"hhmm","hA"))||void 0===d?void 0:d.split(" ").join("")):"".concat(Object(p.e)(f.a.OPENS_UNTIL)," ").concat(null===(u=Object(s.B)(e.availableHours.to,"hhmm","h:mmA"))||void 0===u?void 0:u.split(" ").join(""))}}))):(a=o.getDay()+1>=i.length?i[o.getDay()+1-i.length].toUpperCase():i[o.getDay()+1].toUpperCase(),t.filter((function(e){var t,i,o,r;if(e.day.toUpperCase()===a.toUpperCase())n=0===(null===(t=Object(s.A)(e.availableHours.from,"hhmm"))||void 0===t?void 0:t.minute())?"".concat(Object(p.e)(f.a.OPENS_TOMORROW)," ").concat(null===(i=Object(s.B)(null===e||void 0===e||null===(o=e.availableHours)||void 0===o?void 0:o.from,"hhmm","hA"))||void 0===i?void 0:i.split(" ").join("")):"".concat(Object(p.e)(f.a.OPENS_TOMORROW)," ").concat(null===(r=Object(s.B)(e.availableHours.from,"hhmm","h:mmA"))||void 0===r?void 0:r.split(" ").join(""));else if(e.day.toUpperCase()===f.a.EVERYDAY){var c,d,l,u;n=0===(null===(c=Object(s.A)(e.availableHours.from,"hhmm"))||void 0===c?void 0:c.minute())?"".concat(Object(p.e)(f.a.OPENS_TOMORROW)," ").concat(null===(d=Object(s.B)(e.availableHours.from,"hhmm","hA"))||void 0===d?void 0:d.split(" ").join("")):"".concat(Object(p.e)(f.a.OPENS_TOMORROW)," ").concat(null===(l=Object(s.B)(null===e||void 0===e||null===(u=e.availableHours)||void 0===u?void 0:u.from,"hhmm","h:mmA"))||void 0===l?void 0:l.split(" ").join(""))}}))),n},Ie=function(e){return(parseFloat(e)/1e3).toFixed(1)+" "+D.Wb},xe=function(e,t){var n=Object(r.a)(e).reverse();return!!Object(S.Qc)(n)&&n.map((function(e,n){var a=t?"".concat(null===D.eb||void 0===D.eb?void 0:D.eb[null===e||void 0===e?void 0:e.toUpperCase()]," (").concat(t,")"):"".concat(null===D.eb||void 0===D.eb?void 0:D.eb[null===e||void 0===e?void 0:e.toUpperCase()]);return Object(F.jsxs)("div",{className:"store-card-order-option store-card-order-option-data",children:[Object(F.jsx)("span",{children:Object(F.jsx)(T.a,{"data-testid":"",srcFile:N.a,alt:"tick",className:"tick-image"})}),Object(F.jsx)("span",{children:e===D.Ic?"".concat(a):null===D.eb||void 0===D.eb?void 0:D.eb[null===e||void 0===e?void 0:e.toUpperCase()]})]},n)}))},De=function(e,t,n){return e?Ae(t):t?Object(p.e)(n):Object(p.e)(re)},Ae=function(e){return e?Object(p.e)(ce):Object(p.e)(re)},Ce=function(e){return Object(S.Jc)(e)?Object(p.e)(le):Object(p.e)(de)},_e=function(e,t){var n=[];return Object(S.Wc)(e)?n=null===t||void 0===t?void 0:t.storeTradingHours:Object(S.Jc)(e)&&(n=null===t||void 0===t?void 0:t.storeDeliveryHours),{storeTimingData:n}},ye=function(e){var t=e.split(":"),n=Object(o.a)(t,2),a=n[0],i=n[1];return Object(s.c)(a,i,B)},Re=function(e,t){var n=[];return null===t||void 0===t||t.map((function(t){return null===e||void 0===e||e.map((function(e,a){var i=e.fields,o=i.category,r=i.mobileImage,c=i.desktopImage;return v()(t,"channel","")===o?(n.push({key:a,linkUrl:v()(t,"linkUrl",""),desktopImage:v()(c,"fields.file.url",""),mobileImage:v()(r,"fields.file.url",""),channelName:null===t||void 0===t?void 0:t.channel}),n):n})),n})),n},we=function(e){var t=null===e||void 0===e?void 0:e.replace("-"," ");return b()(m()(t))},Le=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){if((null===t||void 0===t?void 0:t.channel)!==f.a.SERVICE_CHANNEL_APP&&(null===t||void 0===t?void 0:t.channel)!==f.a.SERVICE_CHANNEL){var n=we(null===t||void 0===t?void 0:t.channel);e.push(n)}return e}),[])},Me=function(e){return null===e||void 0===e?void 0:e.map((function(e){var t;return t={},Object(i.a)(t,f.a.TYPE,f.a.LOCATION_FEATURE_SPECIFICATION),Object(i.a)(t,f.a.NAME,e),t}))},ke=function(e,t){var n,a=null===e||void 0===e?void 0:e.filter((function(e){return(null===e||void 0===e?void 0:e.channel)===D.M.VIEWPORT_AGENT_BROWSER&&(null===e||void 0===e?void 0:e.service)===D.Ic}))[0],i=null===a||void 0===a?void 0:a.collectionPoints.map((function(e){return we(null===e||void 0===e?void 0:e.name)}));return t===D.cd?i:null===(n=i)||void 0===n?void 0:n.reverse().join(", ")},Pe=function(e){var t="";if(Object(S.Qc)(e)){var n=e.contacts;(void 0===n?[]:n).forEach((function(e){var n=e.key,a=e.value;n===je&&(t=a)}))}return t},Fe=function(e){return null===e||void 0===e?void 0:e.replace(/\D+/g,"").replace(/([0-9]{1,2})([0-9]{4})([0-9]{4}$)/gi,"($1) $2 $3")},He=function(e,t,n,a){var i,o,r,c,d,l,s,u,v,O,b,j,m=null===e||void 0===e||null===(i=e.distance)||void 0===i||null===(o=i.distance)||void 0===o?void 0:o.value,f=(0===m?m.toString():m)||(null===e||void 0===e?void 0:e.distance),p=null===e||void 0===e?void 0:e.availableServicesPerChannel,h=p&&Te(p),E=Object(S.yc)(null===h||void 0===h?void 0:h[0]).services,g=void 0===E?[]:E,T=(null===e||void 0===e||null===(r=e.summary)||void 0===r||null===(c=r.status)||void 0===c?void 0:c.currentStatus)===ve,N=ct(e,a);return{storeOpen:T,storeName:Object(S.Bc)(null===e||void 0===e||null===(d=e.name)||void 0===d||null===(l=d[0])||void 0===l?void 0:l.value),storeMile:null!==(s=Ie(f))&&void 0!==s?s:"",storeAddress:null!==(u=Object(S.Db)(Object(S.zc)(null===e||void 0===e||null===(v=e.addresses)||void 0===v||null===(O=v[0])||void 0===O?void 0:O.address)))&&void 0!==u?u:"",storeOrderTypes:null!==(b=xe(g,n))&&void 0!==b?b:"",storeTimeMessage:null!==N&&void 0!==N?N:"",dispositionService:null===e||void 0===e?void 0:e.service,storeTiming:null===e||void 0===e||null===(j=e.summary)||void 0===j?void 0:j.timings}},Ue=function(e){var t=null===e||void 0===e?void 0:e.filter((function(e){var t,n;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus)===ve})),n=null===e||void 0===e?void 0:e.filter((function(e){var t,n;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus)!==ve}));return[].concat(Object(r.a)(t),Object(r.a)(n))},Be=function(e,t,n,i,o){if(i&&o){var c,d=null===t||void 0===t?void 0:t.map((function(e){var t;return null===e||void 0===e||null===(t=e.storeBasic)||void 0===t?void 0:t.id})),l=null===e||void 0===e||null===(c=e.filter((function(e){return null===d||void 0===d?void 0:d.includes(null===e||void 0===e?void 0:e.id)})))||void 0===c?void 0:c.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{isFavoriteStore:!0})})),s=null===e||void 0===e?void 0:e.filter((function(e){return!(null!==d&&void 0!==d&&d.includes(null===e||void 0===e?void 0:e.id))})),u=Ue(l),v=Ue(s);return[].concat(Object(r.a)(u),Object(r.a)(v)).slice(0,n)}return[]},Ye=function(e){return e?{text:ie,imageSrc:ue}:{text:oe,imageSrc:se}},Ve=function(e,t,n,a){t(Object(A.s)({data:{storeId:null===e||void 0===e?void 0:e.id},tenantId:n,customerId:a,dispatch:"dispatch"}))},Ge=function(e,t,n,a){t(Object(A.t)({tenantId:n,customerId:a,storeId:null===e||void 0===e?void 0:e.id,dispatch:"dispatch"}))},We=function(e,t,n,a){var i;e.preventDefault(),e.stopPropagation(),null!==a&&void 0!==a&&null!==(i=a.reorderFlag)&&void 0!==i&&i.fromReorderFlag?(n({type:ne,value:{reorderModalOpen:!0}}),n({type:ae,value:{storeChanged:!0}})):n({type:X,value:{showScheduleOrder:!0,selectedStoreInfo:t}}),n({type:q,value:{showSearchStore:!1}}),localStorage.setItem(V,JSON.stringify(t)),n({type:Q,value:t}),n({type:te,value:{showNotInRadiusError:!1}})},Ke=function(){var e=Object(c.a)(l.a.mark((function e(t,n,a,i){var o,r,c,d,s,u,v,O,b,j,m,f,p,h,E,g,T,N,I,x,C,_,y,L,M,F,B,Y,G,J;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=i.tenantId,s=i.userParams,u=i.userOrderState,v=i.store,O=Object(S.Pc)(u.dispositionNew)?JSON.parse(localStorage.getItem(z)):u.dispositionNew,b=u.dispositionStateData,j=u.scheduleOrderData,m=b.dispositionType,f=void 0===m?D.Ic:m,p=f?null===f||void 0===f?void 0:f.toUpperCase():null===(o=localStorage.getItem(W))||void 0===o?void 0:o.toUpperCase(),Object(R.d)(p),t({type:X,value:{showScheduleOrder:!1,selectedStoreInfo:v}}),t({type:Z,value:{dispositionType:p}}),localStorage.setItem(W,p),localStorage.setItem(K,JSON.stringify(v)),localStorage.setItem(V,JSON.stringify(v)),t({type:Q,value:Object(S.zc)(v)}),t({type:q,value:{showSearchStore:!1}}),t({type:$,value:{forceReload:!0}}),Object(S.Ic)(f)?(x=Object(k.d)(v),C=null===x||void 0===x?void 0:x.find((function(e){var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)})),h={date:null===C||void 0===C||null===(E=C.date)||void 0===E?void 0:E.key,selectedTime:null===C||void 0===C||null===(g=C.timeSlots)||void 0===g||null===(T=g[0])||void 0===T?void 0:T.value,time:null===C||void 0===C||null===(N=C.timeSlots)||void 0===N||null===(I=N[0])||void 0===I?void 0:I.value}):h={selectedTime:D.i,time:D.i},!Object(S.sd)(null===O,(null===O||void 0===O||null===(r=O.type)||void 0===r?void 0:r.toUpperCase())!==p,(null===O||void 0===O||null===(c=O.store)||void 0===c?void 0:c.id)!==(null===v||void 0===v?void 0:v.id),(null===O||void 0===O?void 0:O.deliveryAddress)!==(null===j||void 0===j?void 0:j.deliveryAddress),(null===O||void 0===O?void 0:O.deliveryAddressLine)!==(null===j||void 0===j?void 0:j.deliveryAddressLine))){e.next=22;break}return e.next=18,Object(S.s)(v,Object(S.sb)(p),"",h,null===j||void 0===j?void 0:j.deliveryAddress,null===j||void 0===j?void 0:j.deliveryAddressLine);case 18:L=e.sent,(null===v||void 0===v||null===(_=v.summary)||void 0===_||null===(y=_.status)||void 0===y?void 0:y.currentStatus)===D.yc&&a(Object(w.f)({data:L,tenantId:d})),M={dispatch:a,userOrderStateDispatch:t,dispositionNew:O,selectedDispositionValue:p,currentStoreInfoData:v,dateTimeObj:h,scheduleOrderData:j,history:n,redirectionOrder:null,userParams:s,dispositionType:f,fromflag:D.q,obj:L},h.date!==D.h&&h.time!==D.h?(F=L.storeId,B=L.channel,Y=L.service,G=L.requestedDateTime,J={storeid:F,channel:B,service:Y,futureDateTimeInEpochFormat:null===G||void 0===G?void 0:G.futureDateTime},a(Object(A.k)({data:J,tenantId:d},(function(){return Object(k.j)(M)}),null))):(Object(P.g)(),Object(k.j)(M));case 22:n.push({pathname:"".concat(Object(S.Ic)(f)?U:H)});case 23:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}(),ze=function(e,t,n,a,i,o,r,c){var d,l=null===e||void 0===e?void 0:e.filter((function(e){var t,n;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.currentStatus)===ve}));1!==(null===l||void 0===l?void 0:l.length)||t?(i(!o),r({type:X,value:{deliveryAddress:n,deliveryAddressLine:a,showScheduleOrder:!1}})):(null!==c&&void 0!==c&&null!==(d=c.reorderFlag)&&void 0!==d&&d.fromReorderFlag?(r({type:ne,value:{reorderModalOpen:!0}}),r({type:ae,value:{storeChanged:!0}})):r({type:X,value:{deliveryAddress:n,deliveryAddressLine:a,showScheduleOrder:!0,selectedStoreInfo:l[0]}}),r({type:q,value:{showSearchStore:!1}}),localStorage.setItem(V,JSON.stringify(l[0])),r({type:Q,value:l[0]}))},Je=function(e,t,n){var a,i,o=(null===e||void 0===e||null===(a=e.addressLines)||void 0===a||null===(i=a.join(" "))||void 0===i?void 0:i.trim())+", "+(null===e||void 0===e?void 0:e.city)+", "+(null===e||void 0===e?void 0:e.state)+", "+(null===e||void 0===e?void 0:e.country);t({type:q,value:{showSearchStore:!0,configSearchScreen:y.b}}),localStorage.setItem(J,y.b),n(o,{}),Object(_.e)(o)},Xe=function(e,t,n,a,i){var o;return!e&&t&&(null===i||void 0===i?void 0:i.toUpperCase())===Y?null===n||void 0===n||null===(o=n[0])||void 0===o?void 0:o.description:a},qe=function(e,t,n,a,i,o,r){null!==e&&void 0!==e&&e.changeFlow||null===t||void 0===t||!t.searchedPlaceNonLocalized?o&&!r&&(a([{description:o}]),i(o,{},{})):((null===n||void 0===n||!n.length)&&a([{description:null===t||void 0===t?void 0:t.searchedPlaceNonLocalized}]),i(null===t||void 0===t?void 0:t.searchedPlaceNonLocalized,{}))},Qe=function(e,t,n){e===t&&n([])},Ze=function(e,t,n,a){a(e?t:n)},$e=function(e,t){var n,a=function(t){e({type:ee,value:{showLocationConfirmModal:t}})};window.navigator&&t&&(null===(n=window.navigator.geolocation)||void 0===n||n.getCurrentPosition((function(){return a(!1)}),(function(e){return a((null===e||void 0===e?void 0:e.code)===(null===e||void 0===e?void 0:e.PERMISSION_DENIED))})))},et=function(e,t){navigator.permissions.query({name:fe}).then((function(n){n.state===pe?e({type:ee,value:{showLocationConfirmModal:Boolean(!1)}}):e({type:ee,value:{showLocationConfirmModal:Boolean(t)}})}))},tt=function(e){return"search-store-global-content ".concat(e?"inline-error":"")},nt=function(e,t){var n=Object(p.e)(e),a=Object(p.e)(t),i="<b>".concat(a,"</b>"),o=null===n||void 0===n?void 0:n.replace("%kfcUrl%",i);return Object(L.a)(String(o))},at=function(){var e=Object(c.a)(l.a.mark((function e(){var t,n,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:"NA",e.next=3,h.a.registerEvent(null===E.a||void 0===E.a||null===(t=E.a.localisationError)||void 0===t?void 0:t.name,{data:{event:Oe,errorType:n}},S.lb);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),it=function(e,t){var n=D.H.AU,a=e&&!t;Object(S.jc)()===n&&a&&at(be)},ot=function(e){return e.includes(",")?e.replace(",",", "):e},rt=function(e,t,n){var a;e&&t&&(null===n||void 0===n||null===(a=n.current)||void 0===a||a.blur())},ct=function(e,t){var n=t||(null===e||void 0===e?void 0:e.service),a=Object(S.n)(null===e||void 0===e?void 0:e.summary,null,null,me,n);return Object(F.jsx)("span",{className:"store-open"===(null===a||void 0===a?void 0:a.timingMessageStatus)?"open-text":"closed-text",children:null===a||void 0===a?void 0:a.timingMessageLong})},dt=function(e,t){var n;return(null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.day)===D.rb?e:null===e||void 0===e?void 0:e.filter((function(e){var n,a;return(null===e||void 0===e||null===(n=e.day)||void 0===n?void 0:n.toUpperCase())===(null===(a=D.P[t])||void 0===a?void 0:a.toUpperCase())}))},lt=function(e,t,n,a,i){var o;e?t&&(null===n||void 0===n?void 0:n.length)>0&&a(null===(o=n[0])||void 0===o?void 0:o.description):t&&a(i)},st=function(e,t,n){var a,i=null===e||void 0===e?void 0:e.availableServicesPerChannel,o=i&&Te(i),r=Object(S.yc)(null===o||void 0===o?void 0:o[0]).services,c=void 0===r?[]:r;return n===D.cd?{orderTypes:c,collectionPoint:t}:null!==(a=xe(c,t))&&void 0!==a?a:""}},781:function(e,t,n){"use strict";var a=n(28),i=n(4),o=n(230),r=n(5);t.a=function(e){var t=e.endTime,n=void 0===t?new Date:t,c=Object(i.useState)(Object(o.d)(n)),d=Object(a.a)(c,2),l=d[0],s=d[1];return Object(i.useEffect)((function(){var e;return Object(o.g)(n)?e=setTimeout((function(){s(Object(o.d)(n))}),1e3):s("00HR : 00M : 00S"),function(){clearTimeout(e)}})),Object(r.jsx)("span",{"data-testid":"timer","aria-live":"polite",children:l})}},782:function(e,t,n){"use strict";n.d(t,"b",(function(){return O}));var a=n(28),i=n(4),o=n(37),r=n(31),c=n(805),d=n(256),l=n(178),s=n(10),u=n(7),v=n(5),O=function(e,t){var n=t.currencySymbol,a=t.currencyConversionFactor;return n&&a&&e?"".concat(n).concat((e/a).toFixed(2)):"NA"};t.a=function(e){var t=e.cartReducer,n=void 0===t?{}:t,b=e.tenantReducer,j=void 0===b?{}:b,m=e.userParams,f=void 0===m?{}:m,p=e.type,h=j.tenantId,E=j.addHope,S=j.carryBag,g=j.currencyConversionFactor,T=n.cartData,N=void 0===T?{}:T,I=null===N||void 0===N?void 0:N.id,x=Object(u.yc)(null===N||void 0===N?void 0:N.foodLines),D=Object(i.useState)(0),A=Object(a.a)(D,2),C=A[0],_=A[1],y=null===N||void 0===N?void 0:N.subtotal,R=null===N||void 0===N?void 0:N.inclusiveTaxTotal,w=(null===N||void 0===N?void 0:N.additionalChargeLines)||[],L=(null===N||void 0===N?void 0:N.discountLines)||[],M=Object(o.b)(),k=l.c.IS_TAKEAWAY,P=l.c.CHECKOUT_SUMMARY,F=l.c.SEARCH_IN_CART,H=l.c.largeCarryBagText,U=l.c.addHopeText,B=P.QUANTITY_TEXT,Y=P.SUBTOTAL,V=P.GST,G=P.ADDITIONAL_TAX,W=P.QUANTITYS_TEXT,K=Object(i.useState)(""),z=Object(a.a)(K,2),J=z[0],X=z[1],q=Object(i.useState)(""),Q=Object(a.a)(q,2),Z=Q[0],$=Q[1],ee=Object(i.useState)(0),te=Object(a.a)(ee,2),ne=te[0],ae=te[1],ie=Object(i.useState)(0),oe=Object(a.a)(ie,2),re=oe[0],ce=oe[1];return Object(i.useEffect)((function(){if(Object(u.S)(E,S)){var e=x.length?Object(u.Q)(x,E,g,F):{},t=Object(u.Bc)(null===e||void 0===e?void 0:e.id);if(X(t),t){var n=x.find((function(e){return e.id===t}));ae(O(n.amount,j))}var a=x.length?Object(u.cb)(x,S,g,F):{},i=Object(u.Bc)(null===a||void 0===a?void 0:a.id);if($(i),i){var o=x.find((function(e){return e.id===i}));ce(O(o.amount,j))}var r=Object(u.yb)(x,E,S);_(null===r||void 0===r?void 0:r.reduce((function(e,t){return+e+ +(null===t||void 0===t?void 0:t.quantity)}),0))}}),[x,E,S]),Object(v.jsxs)("div",{className:"checkout-summary d-flex flex-column",id:"checkout-summary","data-testid":"checkout-summary-test",children:[Object(v.jsxs)("h2",{className:"checkout-summary-item-count",children:[C," ",Object(u.mc)(1===C,Object(s.e)(B),Object(s.e)(W))]}),f.loggedIn&&Object(v.jsx)("div",{className:"checkout-summary-coupons",children:Object(v.jsx)(c.a,{bucketId:I})}),Object(v.jsxs)("div",{className:"checkout-summary-content",children:[Object(v.jsxs)("div",{className:"flexBetweens checkout-summary-content-item",children:[Object(v.jsx)("div",{className:"checkout-summary-content-item-name",children:Object(s.e)(Y)}),Object(v.jsx)("div",{className:"checkout-summary-content-item-value",children:O(y,j)})]}),Object(v.jsxs)("div",{className:"flexBetweens checkout-summary-content-item",children:[Object(v.jsx)("div",{className:"checkout-summary-content-item-name",children:Object(s.e)(V)}),Object(v.jsx)("div",{className:"checkout-summary-content-item-value",children:O(R,j)})]}),!!w.length&&w.map((function(e,t){return Object(v.jsxs)("div",{className:"flexBetweens checkout-summary-content-item",children:[Object(v.jsx)("div",{className:"checkout-summary-content-item-name",children:Object(s.e)(G)}),Object(v.jsx)("div",{className:"checkout-summary-content-item-value",children:O(e.amount,j)})]},t)})),!!L.length&&L.map((function(e,t){return Object(v.jsxs)("div",{className:"flexBetweens checkout-summary-content-item",children:[Object(v.jsxs)("div",{className:"checkout-summary-content-item-name d-flex",children:[Object(v.jsxs)("span",{className:"checkout-discount-code",children:["Discount (",e.couponCode,")"]}),Object(v.jsx)("span",{className:"checkout-discount-clear-icon","data-testid":"remove-coupon-handler-".concat(null===e||void 0===e?void 0:e.couponCode),onClick:function(){return t=null===e||void 0===e?void 0:e.couponCode,void M(Object(r.o)({basketId:I,tenantId:h,couponCode:t}));var t},children:Object(v.jsx)("img",{src:d.a})})]}),Object(v.jsxs)("div",{className:"checkout-summary-content-item-value",children:["- ",O(e.amount,j)]})]},t)})),Object(u.Pd)(p)===k&&Z&&Object(v.jsxs)("div",{className:"flexBetweens checkout-summary-content-item","data-testid":"checkout-carry-bag-text",children:[Object(v.jsx)("div",{className:"checkout-summary-content-item-name",children:Object(s.e)(H)}),Object(v.jsx)("div",{className:"checkout-summary-content-item-value",children:re})]}),Boolean(J)&&Object(v.jsxs)("div",{className:"flexBetweens checkout-summary-content-item","data-testid":"checkout-add-hope-text",children:[Object(v.jsx)("div",{className:"checkout-summary-content-item-name",children:Object(s.e)(U)}),Object(v.jsx)("div",{className:"checkout-summary-content-item-value",children:ne})]})]})]})}},784:function(e,t,n){"use strict";var a=n(772);n.d(t,"a",(function(){return a.a}))},789:function(e,t,n){"use strict";n.d(t,"j",(function(){return C})),n.d(t,"h",(function(){return _})),n.d(t,"c",(function(){return y})),n.d(t,"f",(function(){return R})),n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return L})),n.d(t,"e",(function(){return M})),n.d(t,"g",(function(){return k})),n.d(t,"d",(function(){return P})),n.d(t,"i",(function(){return F}));var a=n(259),i=n(258),o=n(779),r=n(10),c=n(68),d=n(7),l=n(757),s=n(782),u=n(95),v=n(5),O=o.a.ORDERS,b=void 0===O?"":O,j=o.a.READY_FOR_PICKUP,m=void 0===j?"":j,f=o.a.DELEIVERED_AROUND,p=void 0===f?"":f,h=o.a.PICKUP_AROUND,E=void 0===h?"":h,S=o.a.ORDER_ACCEPTED,g=void 0===S?"":S,T=o.a.READY_FOR_DINEIN,N=void 0===T?"":T,I=o.a.DINEIN_AROUND,x=void 0===I?"":I,D=o.a.PICKUP,A=void 0===D?"":D,C=function(e,t){Object(c.d)(),Object(u.b)(),Object(c.g)({orderValue:((null===e||void 0===e?void 0:e.total)/t).toFixed(2)||"NA"})},_=function(e){e(!0)},y=function(e,t){e(t)},R=function(e){e(!0)},w=function(e,t){return Object(v.jsxs)("div",{children:[Object(v.jsx)("img",{src:i.a,alt:"success"}),Object(v.jsxs)("div",{className:"allSet",children:[Object(r.e)(g),"."]}),Object(v.jsxs)("div",{className:"idAndTime",children:[Object(r.e)(null===b||void 0===b?void 0:b.toUpperCase())," ",Object(v.jsxs)("span",{className:"red",children:["#",null===(null===e||void 0===e?void 0:e.posOrderId)?null===e||void 0===e?void 0:e.id:null===e||void 0===e?void 0:e.posOrderId," "]}),Object(r.e)(p.toUpperCase()),Object(v.jsx)("div",{className:"red",children:t})]})]})},L=function(e,t,n){return Object(v.jsxs)("div",{children:[Object(v.jsx)("img",{src:a.a,alt:"success"}),Object(v.jsx)("div",{className:"allSet",children:Object(d.Pd)(n)===A?Object(r.e)(m):Object(r.e)(N)}),Object(v.jsxs)("div",{className:"idAndTime",children:[Object(r.e)(b)," ",Object(v.jsxs)("span",{className:"red",children:["#",null===(null===e||void 0===e?void 0:e.posOrderId)?null===e||void 0===e?void 0:e.id:null===e||void 0===e?void 0:e.posOrderId," "]}),Object(d.Pd)(n)===A?Object(r.e)(E):Object(r.e)(x),Object(v.jsx)("div",{className:"red",children:t})]})]})},M=function(e,t){var n;return null===(n=e/t)||void 0===n?void 0:n.toFixed(2)},k=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return e+(null===t||void 0===t?void 0:t.quantity)}),0)},P=function(e,t,n){var a=k(e);return Object(v.jsx)(l.a,{header:a+" ITEM"+(a>1?"S":""),className:"billDropDown",children:null===e||void 0===e?void 0:e.map((function(e,a){var i,o,r;return Object(v.jsxs)("div",{className:"billDescription",children:[Object(v.jsxs)("div",{id:"foodItemContainer",children:[Object(v.jsx)("span",{className:"number",children:null===e||void 0===e?void 0:e.quantity}),Object(v.jsxs)("span",{id:"foodNameChild",className:"foodName",children:[" ",null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.name]})]}),Object(v.jsxs)("div",{className:"ItemPrice foodName",children:[t,null===M||void 0===M?void 0:M.call(undefined,(null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.quantity)*(null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.unitPrice),n)," "]})]},a)}))})},F=function(e,t,n,a,i,o,r){var c,l,u=i||{},v=u.setAddHopeDataExistsId,O=u.setAddHopeDataPrice,b=o||{},j=b.setCarryBagDataExistsId,m=b.setCarryBagDataPrice,f={addHopeDataExistsId:"",carryBagDataExistsId:"",addHopeDataPrice:"",carryBagDataPrice:""},p=r.currencyConversionFactor,h=null!==e&&void 0!==e&&null!==(c=e.foodLines)&&void 0!==c&&c.length?Object(d.Q)(null===e||void 0===e?void 0:e.foodLines,t,p,a):{};if(f.addHopeDataExistsId=Object(d.Bc)(null===h||void 0===h?void 0:h.id),i&&v(null===f||void 0===f?void 0:f.addHopeDataExistsId),null!==f&&void 0!==f&&f.addHopeDataExistsId){var E,S=null===e||void 0===e||null===(E=e.foodLines)||void 0===E?void 0:E.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===f||void 0===f?void 0:f.addHopeDataExistsId)}));f.addHopeDataPrice=Object(s.b)(null===S||void 0===S?void 0:S.amount,r),i&&O(null===f||void 0===f?void 0:f.addHopeDataPrice)}var g=null!==e&&void 0!==e&&null!==(l=e.foodLines)&&void 0!==l&&l.length?Object(d.cb)(null===e||void 0===e?void 0:e.foodLines,n,p,a):{};if(f.carryBagDataExistsId=Object(d.Bc)(null===g||void 0===g?void 0:g.id),o&&j(null===f||void 0===f?void 0:f.carryBagDataExistsId),null!==f&&void 0!==f&&f.carryBagDataExistsId){var T=null===e||void 0===e?void 0:e.foodLines.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===f||void 0===f?void 0:f.carryBagDataExistsId)}));f.carryBagDataPrice=Object(s.b)(null===T||void 0===T?void 0:T.amount,r),o&&m(null===f||void 0===f?void 0:f.carryBagDataPrice)}return f}},790:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return O})),n.d(t,"c",(function(){return b})),n.d(t,"f",(function(){return j})),n.d(t,"g",(function(){return m}));var a=n(8),i=n(2),o=n.n(i),r=n(24),c=n(14),d=n(7),l=n(3),s=function(){var e=Object(a.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.registerEvent(c.a.guestContactDetails.name,{"%event%":"guestContactDetails"},d.lb);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(a.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.registerEvent(c.a.addContactInfo.name,{data:{event:"add_contact_info",ecommerce:{checkout_cart:{items:t}}}},d.lb);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(a.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.registerEvent(c.a.beginCheckoutPwa.name,{data:{event:"begin_checkout",ecommerce:{checkout_cart:{items:t}}}},d.lb);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(a.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.registerEvent(c.a.paymentInfoClick.name,{data:{event:"add_payment_info",paymentType:t,ecommerce:{checkout_cart:{items:n}}}},d.lb);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(a.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.registerEvent(null===(t=c.a.checkoutClick)||void 0===t?void 0:t.name,{data:{event:"checkoutClick"}},d.lb);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(a.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.registerEvent(null===c.a||void 0===c.a||null===(a=c.a.paymentInfoClick)||void 0===a?void 0:a.name,{data:{event:l.g.ADD_PAYMENT,userType:t,ecommerce:{checkout_cart:{items:n}}}},d.lb);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(a.a)(o.a.mark((function e(t,n,a){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.registerEvent(null===c.a||void 0===c.a||null===(i=c.a.paymentInfoClick)||void 0===i?void 0:i.name,{data:{event:l.g.ADD_PAYMENT,userType:n,paymentType:t,ecommerce:{checkout_cart:{items:a}}}},d.lb);case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},791:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(4);var a=n(1261),i=n(1244),o=n(5),r=function(e){var t=e.children,n=e.id,r=e.title,c=e.placement,d=void 0===c?"top":c;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(a.a,{placement:d,overlay:Object(o.jsx)(i.a,{id:"tooltip-".concat(n),children:r}),children:t},n)})}},793:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var a,i=n(8),o=n(2),r=n.n(o),c=function(){var t=Object(i.a)(r.a.mark((function t(){var a,i,o,c,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=null===(a=e)||void 0===a||null===(i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===i?void 0:i.REACT_APP_TENANT_CODE,t.next=3,Promise.resolve().then(n.bind(null,137));case 3:return c=t.sent,d=c.default[o.toUpperCase()].HOME_PAGE_CONSTANTS,t.abrupt("return",d);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:t=e.sent,a=t.default;case 4:case"end":return e.stop()}}),e)})))()}).call(this,n(85))},794:function(e,t,n){"use strict";n.d(t,"a",(function(){return Y}));var a=n(8),i=n(0),o=n(28),r=n(2),c=n.n(r),d=n(4),l=n.n(d),s=n(44),u=n(37),v=n(84),O=n(7),b=n(31),j=n(10),m=(n(227),n(49)),f=n(5),p=function(e){var t=e.modalContent,n=e.onDispositionMethodSubmit,a=e.setRef,i=void 0===a?null:a,o=t.contentText,r=void 0===o?"":o,c=t.infoObject,d=void 0===c?null:c,s=t.orderTypes,u=void 0===s?[]:s;console.log("+++++++++",u);var v=u.map((function(e){return Object(f.jsx)(m.c,{variant:e.selectDefault?m.b.secondary:m.b.tertiary,className:"disposition-button",onClickHandler:function(t){n(t,e.type)},id:"DispositionModuleFormSubmit",type:"submit","data-testid":"disposition-order-click-handler-".concat(e.type),"aria-label":"order type ".concat(e.buttonText),children:e.buttonText},e.type)}));return Object(f.jsx)(l.a.Fragment,{children:Object(f.jsxs)("div",{ref:i,className:"disposition-module-form","data-testid":"disposition-component",children:[Object(f.jsx)("h3",{className:"content-text","data-testid":"contenttext-component",children:r}),d&&Object(f.jsx)("div",{role:"alert",className:"info-text","data-testid":"info-component",children:Object(f.jsx)("span",{children:d.infoText})}),Object(f.jsx)("form",{className:"form",onSubmit:n,"data-testid":"form-component",children:v})]})})},h=n(133),E=function(e){var t=e.handleClose,n=e.DispositionModuleForm,a=e.headerText,i=e.modalTitleId,o=void 0===i?"":i;return Object(f.jsx)(l.a.Fragment,{children:Object(f.jsx)(h.a,{id:"DispositionModulePopup",role:"dialog",modalTitleId:o,show:!0,classNames:"disposition-module-modal extra-small-modal",showCloseBtn:!0,closeDataTestId:"disposition-close-handler",closeButtonHandler:t,modalTitle:a,autoFocus:!0,children:n})})},S=n(71),g=n(24),T=n(14),N=n(3),I=n(240),x=n(12),D=function(e,t){var n,a=[],i=Object(S.a)(e);try{for(i.s();!(n=i.n()).done;){var o,r,c=n.value,d=null===c||void 0===c||null===(o=c.fields)||void 0===o||null===(r=o.name)||void 0===r?void 0:r.split("-"),l=d[d.length-1].trim().toUpperCase();if(!t||null===l||void 0===l||!l.includes(I.a.DISPOSITION_TYPE.TYPE_DELIVERY)){var s=c.fields,u=s.buttonText,v=void 0===u?"":u,O=s.selectDefault,b=void 0!==O&&O,j=s.name,m=s.showOption,f=void 0===m||m,p=s.id,h=void 0===p?"":p;a.push({buttonText:v,selectDefault:b,type:j,showOption:f,id:h})}}}catch(E){i.e(E)}finally{i.f()}return a},A=function(e){var t=e[0].fields||{},n=t.headline,a=void 0===n?"":n,i=t.subHeadline,o=void 0===i?"":i,r=t.subHeadlineType,c=void 0===r?"":r,d=t.title;return{modalHeaderText:void 0===d?"":d,contentText:a,infoObject:{type:c,infoText:o}}},C=function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push({event:"orderType",dispositionSelected:t.selectedDispositionType}),e.next=4,g.a.registerEvent(void 0,{data:n[0]},O.lb);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.registerEvent(T.a.localisationStart.name,{"%event%":"localisationStart"},O.lb);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e,t,n,a){var i,o=x.a.CLEAR_CART_CONFIRM_CANCEL_MODAL,r=x.a.SHOW_CLEAR_CART_ALERT;null!==e&&void 0!==e&&null!==(i=e.foodLines)&&void 0!==i&&i.length&&!a?Object(O.od)(t,{},r,o,n):n()},R=function(){var e=Object(a.a)(c.a.mark((function e(){var t,n,a,i=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:"NA",a=i.length>1&&void 0!==i[1]?i[1]:"NA",e.next=4,g.a.registerEvent(null===T.a||void 0===T.a||null===(t=T.a.selectOrderType)||void 0===t?void 0:t.name,{data:{event:N.Yc,disposition:n,userType:a}},O.lb);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=n(60),L=n(38),M=n(762),k=n(67),P=n(114),F=n(180),H=n(767),U=n(45),B=n(86),Y=function(e){var t=H.a.CURRENTLY_CLOSED,n=H.a.SORRY,r=Object(d.useContext)(w.a),l=r.userOrderState,m=r.userOrderStateDispatch,h=l.dispositionStateData.contentData,S=void 0===h?{}:h,g=l.deeplinkSelectedStoreId,T=l.deepLinkStoreMode,Y=Object(O.Qc)(S)&&function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.disposition&&e.disposition.fields||{},a=n.headline,i=void 0===a?[]:a,o=n.supportedDispositions,r=void 0===o?[]:o,c={modalHeaderText:"",modalContent:{}};c.modalContent.orderTypes=D(r,t);var d=A(i),l=d.modalHeaderText,s=d.contentText,u=d.infoObject;return c.modalHeaderText=l,c.modalContent.contentText=s,c.modalContent.infoObject=u,c}(S,T),V=Y.modalContent,G=void 0===V?{}:V,W=Y.modalHeaderText,K=void 0===W?"":W,z=x.a.SEARCH_ORDER_DATA,J=x.a.MENU_URL,X=x.a.DISPOSITION_DATA,q=x.a.CURRENT_STORE_INFO,Q=x.a.SCHEDULE_ORDER_TIME_DATA,Z=x.a.SELECTED_TILE_DATA,$=x.a.DISPOSITION_METHOD,ee=x.a.ADD_TO_CART_CLICK,te=x.a.SET_DISPOSITION,ne=x.a.USER_LOCALIZED,ae=x.a.SCHEDULE_ORDER_TIME_PRESERVE_TIME,ie=x.a.SET_FIND_A_KFC_VIEW,oe=x.a.SET_REDIRECTION_PATH,re=I.a.DISPOSITION_TYPE,ce=re.TYPE_DINE_IN,de=re.TYPE_TAKE_WAY,le=re.TYPE_DELIVERY,se=I.a.FIND_OPEN_KFC_TEXT,ue=I.a.INVALID_QR_TEXT,ve=I.a.CLOSED_STORE_MODAL_SUBTITLE,Oe=I.a.TAKEAWAY_STORE_CLOSED_TEXT,be=I.a.DINE_IN_STORE_CLOSED_TEXT,je=I.a.SWITCH_TO_TAKEAWAY_TEXT,me=I.a.SWITCH_TO_DINEIN_TEXT,fe=l&&l.dispositionStateData&&l.dispositionStateData.dispositionType?l.dispositionStateData.dispositionType:null,pe="",he=Object(O.Pc)(l.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):l.dispositionNew,Ee=Object(u.b)(),Se=Object(s.g)(),ge=Object(d.useState)(""),Te=Object(o.a)(ge,2),Ne=Te[0],Ie=Te[1],xe=Object(d.useState)({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),De=Object(o.a)(xe,2),Ae=De[0],Ce=De[1],_e=Object(u.c)((function(e){return e.cartReducer})),ye=_e.cartData,Re=void 0===ye?{}:ye,we=_e.qrCodeScanTime,Le=Object(u.c)((function(e){return e.tenantReducer})),Me=Le.tenantId,ke=Object(u.c)((function(e){return e.profileReducer})).customerId,Pe=void 0===ke?"":ke,Fe=Object(u.c)((function(e){return e.appStateReducer.userStatus})),He=Object(u.c)((function(e){return Object(O.zc)(e.storesReducer)})),Ue=He.storesWithStatus,Be=void 0===Ue?[]:Ue,Ye=He.isStoreStatusLoading,Ve=He.selectedStoreDetailsDL,Ge=void 0===Ve?{}:Ve,We=I.a.DISPOSITION_ACTION.SET_QR_DEEPLINK_MODE;Object(d.useEffect)((function(){Ee(Object(v.q)()),Ee(Object(v.p)()),Ee(Object(v.n)()),function(e,t){e&&(null===t||void 0===t||t.push({pathname:N.Wc.HOME_PAGE}))}(T,Se)}),[Ee]);var Ke=Object(d.useCallback)((function(e,t){e.stopPropagation();y(Re,m,(function(){Ce({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),m({type:We,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}})}),t)}),[We,m,Re]);Object(d.useEffect)((function(){T&&Ee(Object(v.j)({storeId:g,tenantId:Me},null,(function(){Ce({showError:!0,errMsg:Object(j.e)(ue),errDesc:null,buttonText:Object(j.e)(se),buttonCTA:function(e){return Ke(e,!1)}})})))}),[se,ue,T,g,Ee,Me]);var ze=function(e,t,n){e.stopPropagation(),e.preventDefault();var a=t.split("-");if(-1!==(pe=a[a.length-1].trim()).toLowerCase().indexOf("dine")&&(pe=ce),C({selectedDispositionType:pe}),_(),T){var o={data:[{storeId:g,channel:L.b.channel,service:N.Ic},{storeId:g,channel:L.b.channel,service:N.X}],store:[Object(i.a)(Object(i.a)({},Ge),{},{service:N.Ic}),Object(i.a)(Object(i.a)({},Ge),{},{service:N.X})],tenantId:Me,setStatusFlag:!1,isFavoritePage:!1};y(Re,m,(function(){Ie(pe),Ee(Object(v.d)(o)),m({type:$,value:{dispositionType:pe}})}),n)}else[ce,de,le].includes(pe.toUpperCase())&&(m({type:z,value:{showSearchStore:!0,configSearchScreen:B.a}}),localStorage.setItem(N.ac.CONFIG_SEARCH_SCREEN,B.a),m({type:X,value:{showDisposition:!1}}),m({type:$,value:{dispositionType:pe}}));var r=Fe.localized,c=void 0!==r&&r,d=Fe.loggedIn,l=void 0!==d&&d,s=Object(O.vc)(c,l);!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NA",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"NA",n=N.H.AU;Object(O.jc)()===n&&R(e,t)}(pe,s)},Je=function(e,t){var n=e||null;m({value:{selectedData:{}},type:Z}),localStorage.setItem("currentStoreInfo",JSON.stringify(n)),m({value:n,type:q}),Ee(Object(k.a)(Object(i.a)(Object(i.a)({},Fe),{},{localized:!0}))),m({value:{selectedDateTime:t},type:Q}),m({type:ae,value:{selectContentTime:"ASAP"}}),m({type:We,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",fe),localStorage.setItem("tenantReducer",JSON.stringify(Le)),localStorage.setItem("dateTimeOrder",JSON.stringify(t)),localStorage.setItem("storeInfo",JSON.stringify(n)),localStorage.setItem("savedTimeOrder","ASAP"),Se.push({pathname:"".concat(J)})},Xe=function(e){(null===e||void 0===e?void 0:e.toUpperCase())===ce?Ce({showError:!0,errMsg:Object(j.e)(be),errDesc:null,buttonText:Object(j.e)(je),buttonCTA:function(e){return ze(e,N.sd,!0)}}):(null===e||void 0===e?void 0:e.toUpperCase())===de&&Ce({showError:!0,errMsg:Object(j.e)(Oe),errDesc:null,buttonText:Object(j.e)(me),buttonCTA:function(e){return ze(e,N.Y,!0)}})},qe=function(){var e=Object(a.a)(c.a.mark((function e(t,n){var a,i,o,r,d,s,u,v,j,f,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(a=t.filter((function(e){return(null===e||void 0===e?void 0:e.service)===Object(O.sb)(n)})))||void 0===a||!a.length){e.next=18;break}return f={time:"ASAP",interval:null===a||void 0===a||null===(i=a[0].summary.timings.scheduled.periods[0])||void 0===i?void 0:i.interval,date:new Date,selectedTime:"ASAP"},e.next=5,Object(O.Y)(Ee,!0,we,null===a||void 0===a?void 0:a[0],Object(O.sb)(n),Pe,f);case 5:p=e.sent,Ee(Object(b.f)({data:p,tenantId:Me})),m({type:te,value:{oldvalue:he,newValue:{store:null===a||void 0===a?void 0:a[0],time:f.time,date:f.date,type:n,interval:f.interval,deliveryAddress:null===l||void 0===l||null===(o=l.scheduleOrderData)||void 0===o?void 0:o.deliveryAddress,selectedTime:f.selectedTime}}}),localStorage.setItem("dispositionOld",JSON.stringify(he)),localStorage.setItem("dispositionNew",JSON.stringify({type:n,store:null===a||void 0===a?void 0:a[0],date:f.date,time:f.time,selectedTime:f.selectedTime,interval:f.interval,deliveryAddress:null===l||void 0===l||null===(r=l.scheduleOrderData)||void 0===r?void 0:r.deliveryAddress})),Object(O.md)(null===a||void 0===a||null===(d=a[0])||void 0===d||null===(s=d.addresses)||void 0===s||null===(u=s[0])||void 0===u||null===(v=u.address)||void 0===v||null===(j=v.addressLines)||void 0===j?void 0:j[0],U.a.ALREADY_SERACHED_LOCATIONS),Object(O.Sd)(),Object(M.d)(n),m({type:X,value:{showSearchStore:!1}}),m({type:ne,value:{isLocalized:!0}}),Je(null===a||void 0===a?void 0:a[0],f),e.next=19;break;case 18:Xe(n);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){var e,a,i;Be.length>0&&!Ye&&Ne&&T&&function(e,a){null!==e&&void 0!==e&&e.length?qe(e,fe):Ce({showError:!0,errMsg:"".concat(Object(j.e)(n)," ").concat(a," ").concat(Object(j.e)(t)),errDesc:Object(j.e)(ve),buttonText:Object(j.e)(se),buttonCTA:function(e){return Ke(e,!0)}})}(null===Be||void 0===Be?void 0:Be.filter((function(e){var t,n,a,i,o,r,c,d,l,s,u,v,O;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude)&&"OPEN"===(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)&&(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(r=o.menu)||void 0===r||null===(c=r.catalogs)||void 0===c?void 0:c.length)&&(null===e||void 0===e||null===(d=e.summary)||void 0===d||null===(l=d.timings)||void 0===l||null===(s=l.operatingHours)||void 0===s?void 0:s.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v||null===(O=v.asap)||void 0===O?void 0:O.isAvailable)})),null===Be||void 0===Be||null===(e=Be[0])||void 0===e||null===(a=e.name)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.value)}),[Be,Ye,T]);var Qe=function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),m({type:X,value:{showDisposition:!1}}),m({type:ee,value:{addToCart:!1}}),m({type:We,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),m({type:ie,value:{findAKFC:!1}}),m({type:oe,value:{redirectionOrder:""}}),window.location.pathname===N.Wc.FIND_STORE&&Object(O.Dd)({history:Se})};Object(d.useEffect)((function(){var e=function(e){27===e.keyCode&&Qe(e)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var Ze=Object(f.jsx)(p,{modalContent:G,onDispositionMethodSubmit:ze}),$e=Object(f.jsx)(E,{handleClose:Qe,DispositionModuleForm:Ze,headerText:K,modalTitleId:"dispostion_selector"});return Object(f.jsxs)(f.Fragment,{children:[(null===Ae||void 0===Ae?void 0:Ae.showError)&&Object(f.jsx)(F.a,{handleClose:null,CartAlertForm:Object(f.jsx)(P.a,{title:null===Ae||void 0===Ae?void 0:Ae.errMsg,contentMsg:null===Ae||void 0===Ae?void 0:Ae.errDesc,confirmButtonText:null===Ae||void 0===Ae?void 0:Ae.buttonText,confirmHandler:null===Ae||void 0===Ae?void 0:Ae.buttonCTA,buttonContainerClass:"deeplink-alert-btn-container"})}),$e]})}},795:function(e,t,n){"use strict";var a=n(679);n.d(t,"a",(function(){return a.default}))},796:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return v}));n(71);var a,i,o=n(0),r=n(32),c=(n(23),n(22),n(45)),d=[],l="",s=function(e,t,n,a){if(e,t,i=a,(d=n).length>0){var o=d.map((function(e){var t=e&&e.storeBasic.location;return{lat:t.latitude,lng:t.longitude}})),c=[{lat:e,lng:t}];(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[].concat(c).slice(0,24),destinations:Object(r.a)(o).slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},u)}else i([],"")},u=function(e,t){var n,a;a=e&&e.rows&&e.rows[0].elements.map((function(e){return e}));var r=e&&e.originAddresses&&e.originAddresses[0]||"";n=d.map((function(e,t){return Object(o.a)(Object(o.a)({},e),a[t])})),i(n,r)},v=function(e,t,n){(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:Object(r.a)(e).slice(0,24),destinations:Object(r.a)(t).slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},O),a=n},O=function(e,t){if(t===c.a.OK_STATUS){var n,i=e&&e.rows&&e.rows.map((function(e){return e}));n=null===i||void 0===i?void 0:i.map((function(e){return e.elements[0]})),l=e&&e.originAddresses||[],a({allStoreDistance:n,originAddressText:l})}}},799:function(e,t,n){"use strict";n.d(t,"f",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return S})),n.d(t,"l",(function(){return T})),n.d(t,"d",(function(){return N})),n.d(t,"c",(function(){return I})),n.d(t,"k",(function(){return x})),n.d(t,"e",(function(){return D})),n.d(t,"g",(function(){return A}));var a=n(33),i=n(8),o=n(2),r=n.n(o),c=n(24),d=n(7),l=n(14),s=n(176),u=n(10),v=n(765),O=n(175),b=n(34),j=n.n(b),m=function(){var e=Object(i.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.registerEvent(l.a.menuNavigation.name,{"%event%":"menuNavigation","%menuNavigationLink%":t,"%menuIndex%":n},d.lb);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(i.a)(r.a.mark((function e(t,n){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=[]).push(Object(a.a)({event:t.eventType},n,t.selectedData)),console.log(i),e.next=5,c.a.registerEvent(void 0,{data:i[0]},d.lb);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(i.a)(r.a.mark((function e(t,n,i){var o,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=[]).push((o={event:t.eventType},Object(a.a)(o,n,t.selectedData[n]),Object(a.a)(o,i,t.selectedData[i]),o)),console.log(l),e.next=5,c.a.registerEvent(void 0,{data:l[0]},d.lb);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(r.a.mark((function e(t,n,i,o){var l,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=[]).push((l={event:t.eventType},Object(a.a)(l,n,t.selectedData[n]),Object(a.a)(l,i,t.selectedData[i]),Object(a.a)(l,o,t.selectedData[o]),l)),console.log(s),e.next=5,c.a.registerEvent(void 0,{data:s[0]},d.lb);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}(),E=function(e,t){var n=JSON.parse(JSON.stringify(e)),a=[];return(null===t||void 0===t?void 0:t.length)&&t.forEach((function(e){var t=null===n||void 0===n?void 0:n.find((function(t){var n=t.isHidden,a=void 0!==n&&n,i=t.items;return!a&&(null===i||void 0===i?void 0:i.length)&&i[0].id===e.id}));t&&a.push(t)})),a},S=function(e,t,n,a,i,o){var r;return null!==e&&void 0!==e&&e.categories&&0===(null===e||void 0===e||null===(r=e.products)||void 0===r?void 0:r.length)&&0==Object.keys(t).length?g(e.categories[0],n,a,i):Object.keys(t).length>0?g(t,n,a,i):g(e,n,a,i)},g=function(e,t,n,a){var i,o={};return null===e||void 0===e||null===(i=e.products)||void 0===i?void 0:i.map((function(e){return e.items.forEach((function(e,i){var r=Object(d.Xb)(e.availability[0],a).toFixed(2);r=r?parseFloat(r):"NA",o={item_name:e.name,item_id:e.id,price:r,item_category:t,item_list_name:t,item_list_id:n,index:i,quantity:"1"}})),o}))},T=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.registerEvent(l.a.viewItemListPlp.name,{data:{event:"view_item_list",ecommerce:{item_list:{items:t}}}},d.lb);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e,t){var n={},a=e.find((function(e){return e.name.trim()===t}))||{};return 0===Object.keys(a).length&&(a=e.find((function(e){var a;if((null===(a=e.categories)||void 0===a?void 0:a.length)>0)for(var i in e.categories)if(e.categories[i].id===t)return n=e.categories[i],!0;return!1}))),{selectedCategory:a,selectedSubcategory:n}},I=function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(console.log("PLP: categories: ",JSON.stringify(e)),j()(e))return a(!1),!1;var o=null===e||void 0===e?void 0:e.find((function(e){var n=e.url,a=e.isHidden,i=e.categories,o=!a&&(null===n||void 0===n?void 0:n.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase());return o||(o=i.find((function(e){var n=e.url;return!e.isHidden&&(null===n||void 0===n?void 0:n.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())}))),o}));if(j()(o)){if(t&&(n("category"),a(!0)),!j()(e)){var r=null===e||void 0===e?void 0:e.find((function(e){return!e.isHidden}));r&&s.scroller.scrollTo(r.name.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:i?-140:-100})}}else s.scroller.scrollTo(o.name.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:i?-150:-100});return!j()(o)},x=function(e){return null===e||void 0===e?void 0:e.isStoreClosed},D=function(e){var t=v.d.ADD_TO_CART_OCCASSION,n=v.d.STORE_CLOSED_BUTTON_TEXT,a=Object(u.e)(t),i=Object(u.e)(n);return null!==e&&void 0!==e&&e.isStoreClosed&&(a=i),{btnText:a}},A=function(e,t){0===e.length&&Object(d.ub)(document.title,Object(u.e)(O.YOUR_SEARCH_TEXT)+" \u201c".concat(t,"\u201d ")+Object(u.e)(O.TURNED_NO_RESULTS_TEXT))}},805:function(e,t,n){"use strict";var a=n(28),i=n(49),o=n(4),r=n(821),c=n.p+"static/media/Offers_Coupon_Icon.72b94c41.svg",d=n(50),l=n(10),s=n(5);t.a=function(e){var t=e.bucketId,n=void 0===t?"":t,u=Object(o.useState)(!1),v=Object(a.a)(u,2),O=v[0],b=v[1],j=d.a.OFFERS_COUPONS,m=j.APPLY_OFFERS,f=j.VIEW_ALL,p=function(e){b(!1)};return Object(o.useEffect)((function(){var e=function(e){27===e.keyCode&&p()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]),Object(s.jsxs)("div",{className:"cart-offers-container","data-testid":"cart-offers-coupon",children:[Object(s.jsxs)("div",{className:"cart-offers-link",children:[Object(s.jsx)("img",{src:c,alt:"",className:"cart-offers-icon"}),Object(s.jsx)("span",{className:"cart-offers-text",children:Object(l.e)(m)})]}),Object(s.jsx)(i.a,{onClickHandler:function(){return b(!0)},ariaLable:"View all offers",className:"button whiteButton blackBorder cart-offers-view-all","data-testid":"offers-toggle-btn",children:Object(l.e)(f)}),O&&Object(s.jsx)(r.a,{"data-testid":"coupon-modal",bucketId:n,isOpen:O,handleClose:p})]})}},806:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),i=n(70),o=(n(4),n(3)),r=n(5),c=["tabIndex","ariaLable","className","options","onChange","testid","selectedValue"],d=function(e){var t=e.tabIndex,n=e.ariaLable,d=e.className,l=e.options,s=e.onChange,u=e.testid,v=void 0===u?"":u,O=e.selectedValue,b=Object(i.a)(e,c);return Object(r.jsx)("select",Object(a.a)(Object(a.a)({className:d,tabIndex:t,"aria-label":n,onChange:s,onKeyPress:function(e){var t=o.Rd.KEY_CHAR_CODE,n=t.SPACE,a=t.ENTER;!s||e.charCode!==n&&e.charCode!==a||s()},"data-testid":v,defaultValue:O},b),{},{children:null===l||void 0===l?void 0:l.map((function(e){return Object(r.jsx)("option",{value:e,defaultValue:O===e,children:e},e)}))}))}},807:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return l}));var a=n(1);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:a.SET_FAVOURITE_ORDER,payload:e,postBody:t,successCallback:n,errorCallback:i}}function o(){return{type:a.RESET_ORDER_HISTORY}}function r(e){var t=e.tenantId,n=e.customerId,i=e.itemId,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:a.DELETE_FAVOURITE_ORDER,payload:{tenantId:t,customerId:n,itemId:i},successCallback:o,errorCallback:r}}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:a.GET_ORDER_HISTORY,payload:e,postBody:t,successCallback:n,errorCallback:i}}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:a.GET_ACTIVE_ORDER_HISTORY,payload:e,postBody:t,successCallback:n,errorCallback:i}}function l(){return{type:a.RESET_ACTIVE_ORDER_HISTORY}}},810:function(e,t,n){"use strict";n.d(t,"Q",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"h",(function(){return v})),n.d(t,"P",(function(){return b})),n.d(t,"O",(function(){return m})),n.d(t,"N",(function(){return f})),n.d(t,"L",(function(){return E})),n.d(t,"M",(function(){return S})),n.d(t,"C",(function(){return T})),n.d(t,"j",(function(){return _})),n.d(t,"i",(function(){return y})),n.d(t,"G",(function(){return R})),n.d(t,"x",(function(){return w})),n.d(t,"r",(function(){return L})),n.d(t,"q",(function(){return M})),n.d(t,"n",(function(){return k})),n.d(t,"B",(function(){return P})),n.d(t,"y",(function(){return F})),n.d(t,"w",(function(){return H})),n.d(t,"m",(function(){return U})),n.d(t,"z",(function(){return B})),n.d(t,"o",(function(){return Y})),n.d(t,"l",(function(){return V})),n.d(t,"D",(function(){return G})),n.d(t,"s",(function(){return K})),n.d(t,"p",(function(){return z})),n.d(t,"t",(function(){return J})),n.d(t,"k",(function(){return Q})),n.d(t,"A",(function(){return Z})),n.d(t,"u",(function(){return $})),n.d(t,"v",(function(){return ee})),n.d(t,"a",(function(){return te})),n.d(t,"K",(function(){return ne})),n.d(t,"I",(function(){return ae})),n.d(t,"H",(function(){return ie})),n.d(t,"J",(function(){return oe})),n.d(t,"d",(function(){return re})),n.d(t,"f",(function(){return ce})),n.d(t,"e",(function(){return de})),n.d(t,"g",(function(){return le})),n.d(t,"F",(function(){return se})),n.d(t,"E",(function(){return ue}));var a=n(16),i=n(11),o=n(3),r=n(7),c=n(13),d=n(20),l=function(e){return Object(r.gd)(s(e))},s=function(e){switch(Object(r.jc)()){case o.H.IN:return null===e||void 0===e?void 0:e.status;case o.H.AU:if(Object(r.Wc)(null===e||void 0===e?void 0:e.service))return null===e||void 0===e?void 0:e.status;var t,n;if(Object(r.Jc)(null===e||void 0===e?void 0:e.service))return(w(e)||F(e))&&null!==(null===e||void 0===e?void 0:e.deliveryDetails)&&null!==(null===e||void 0===e||null===(t=e.deliveryDetails)||void 0===t?void 0:t.riderStatus)?null===e||void 0===e||null===(n=e.deliveryDetails)||void 0===n?void 0:n.riderStatus:null===e||void 0===e?void 0:e.status}return null===e||void 0===e?void 0:e.status},u=function(e){var t=e.orderDetailsFromReducer,n=e.orderDetails;return null!==t&&void 0!==t&&t.statusUpdatedDate?Object(d.z)(null===t||void 0===t?void 0:t.statusUpdatedDate):(null===n||void 0===n?void 0:n.orderStatus)!==s(t)?(new Date).getTime():null===n||void 0===n?void 0:n.orderStatusChangedAt},v=function(e){var t=e.orderDetailsFromReducer,n=e.orderDetails;return Math.ceil(Math.abs((new Date).getTime()-u({orderDetailsFromReducer:t,orderDetails:n}))/6e4)>30},O=function(e){return Object(r.gd)(e)?"object"===typeof e?Object.prototype.hasOwnProperty.call(e,"orderStatus")?Object(r.Pd)(null===e||void 0===e?void 0:e.orderStatus):Object.prototype.hasOwnProperty.call(e,"status")?Object(r.Pd)(null===e||void 0===e?void 0:e.status):"":Object(r.Pd)(e):""},b=function(e){return O(e)===o.Ac.STAGED},j=function(e){return O(e)===o.Ac.ACCEPTED},m=function(e){return b(e)||j(e)},f=function(e){return O(e)===o.Ac.SENT_TO_POS_COMPLETED},p=function(e){return O(e)===o.Ac.CHECKED_IN},h=function(e){return O(e)===o.Ac.CANCELLED||O(e)===o.Ac.CANCEL||O(e)===o.fb.DELIVERY_CANCELLED},E=function(e){return O(e)===o.Ac.REFUND},S=function(e){return O(e)===o.Ac.REFUND_SUCCESS},g=function(e){return O(e)===o.Ac.REFUND_FAILED},T=function(e){return function(e){return O(e)===o.Ac.PAYMENT_FAILED}(e)||function(e){return O(e)===o.Ac.SENT_TO_POS_FAILED}(e)},N=function(e){return O(e)===o.Ac.CREATED||O(e)===o.fb.DELIVERY_CREATED},I=function(e){return O(e)===o.Ac.ASSIGNED||O(e)===o.fb.DASHER_CONFIRMED},x=function(e){return O(e)===o.Ac.STORE_ARRIVAL||O(e)===o.fb.DASHER_ENROUTE_TO_PICKUP||O(e)===o.fb.RELEASE_ORDER_FOR_PREPARATION||O(e)===o.fb.DASHER_CONFIRMED_STORE_ARRIVAL},D=function(e){return O(e)===o.Ac.PICKED_UP||O(e)===o.Ac.CHECKED_IN||O(e)===o.fb.DASHER_PICKED_UP},A=function(e){return O(e)===o.Ac.OUT_FOR_DELIVERY||O(e)===o.fb.DASHER_ENROUTE_TO_DROPOFF},C=function(e){return O(e)===o.Ac.ARRIVED||O(e)===o.fb.DASHER_CONFIRMED_CONSUMER_ARRIVAL},_=function(e){return N(e)||I(e)},y=function(e){return N(e)||I(e)||x(e)},R=function(e){return D(e)||A(e)||C(e)},w=function(e){return Object(r.Jc)(null===e||void 0===e?void 0:e.service)&&f(e)},L=function(e){return Object(r.Jc)(null===e||void 0===e?void 0:e.service)&&(O(t=e)===o.Ac.DELIVERED||O(t)===o.fb.DASHER_DROPPED_OFF);var t},M=function(e){return Object(r.Jc)(null===e||void 0===e?void 0:e.service)&&N(e)},k=function(e){return Object(r.Jc)(null===e||void 0===e?void 0:e.service)&&I(e)},P=function(e){return Object(r.Jc)(null===e||void 0===e?void 0:e.service)&&x(e)},F=function(e){return Object(r.Jc)(null===e||void 0===e?void 0:e.service)&&D(e)},H=function(e){return Object(r.Jc)(null===e||void 0===e?void 0:e.service)&&A(e)},U=function(e){return Object(r.Jc)(null===e||void 0===e?void 0:e.service)&&C(e)},B=function(e){return Object(r.Jc)(null===e||void 0===e?void 0:e.service)&&R(e)},Y=function(e){return Object(r.Jc)(null===e||void 0===e?void 0:e.service)&&(I(e)||D(e)||A(e))},V=function(e){return Object(r.Jc)(null===e||void 0===e?void 0:e.service)&&C(e)},G=function(e){return h(e)||function(e){return S(e)||g(e)||E(e)}(e)},W=function(e){return Object(r.Jc)(null===e||void 0===e?void 0:e.service)&&h(e)},K=function(e){return L(e)||W(e)},z=function(e){return W(e)||X(e)||q(e)},J=function(e){return L(e)||z(e)},X=function(e){return Object(r.Jc)(null===e||void 0===e?void 0:e.service)&&S(e)},q=function(e){return Object(r.Jc)(null===e||void 0===e?void 0:e.service)&&g(e)},Q=function(e){return Object(r.Jc)(null===e||void 0===e?void 0:e.service)&&(w(e)||function(e){return M(e)||k(e)||P(e)}(e)||B(e)||J(e))},Z=function(e){return Q(e)&&!L(e)&&!W(e)&&!X(e)&&!q(e)},$=function(e){return B(e)||L(e)||W(e)},ee=function(e){return B(e)||W(e)},te=function(e){return w(e)?null===i.a||void 0===i.a?void 0:i.a.ORDER_RECEIVED:M(e)?null!==e&&void 0!==e&&e.sameOrderStatusMaintainLast30Mins?null===i.a||void 0===i.a?void 0:i.a.WE_RE_READY_TO_MAKE_YOUR_ORDER:null===i.a||void 0===i.a?void 0:i.a.ORDER_READY:k(e)?null===i.a||void 0===i.a?void 0:i.a.WE_VE_FOUND_DELIVERY_DRIVER:P(e)?null===i.a||void 0===i.a?void 0:i.a.WE_RE_MAKING_YOUR_ORDER_FRESH:F(e)||H(e)?null===i.a||void 0===i.a?void 0:i.a.ORDER_ON_THE_WAY:U(e)?null===i.a||void 0===i.a?void 0:i.a.DRIVER_ARRIVING:L(e)?null===i.a||void 0===i.a?void 0:i.a.ENJOY_MEAL:z(e)?null===i.a||void 0===i.a?void 0:i.a.CANCEL_ORDER:null===i.a||void 0===i.a?void 0:i.a.ORDER_ACCEPTED},ne=function(e){return Object(r.Wc)(null===e||void 0===e?void 0:e.service)&&f(e)},ae=function(e){return Object(r.Wc)(null===e||void 0===e?void 0:e.service)&&p(e)},ie=function(e){return Object(r.Wc)(null===e||void 0===e?void 0:e.service)&&(h(e)||S(e)||g(e))},oe=function(e){return Object(r.jc)()===o.H.AU?Object(r.Wc)(null===e||void 0===e?void 0:e.service)&&(ae(e)||ie(e)):Object(r.Wc)(null===e||void 0===e?void 0:e.service)&&(ne(e)||ie(e))},re=function(e){return Object(r.Ic)(null===e||void 0===e?void 0:e.service)&&j(e)},ce=function(e){return Object(r.Ic)(null===e||void 0===e?void 0:e.service)&&p(e)},de=function(e){return Object(r.Ic)(null===e||void 0===e?void 0:e.service)&&h(e)},le=function(e){return Object(r.jc)()===o.H.AU?Object(r.Ic)(null===e||void 0===e?void 0:e.service)&&(ce(e)||de(e)):Object(r.Ic)(null===e||void 0===e?void 0:e.service)&&(function(e){return Object(r.Ic)(null===e||void 0===e?void 0:e.service)&&f(e)}(e)||de(e))},se=function(e){return function(e){return Q(e)&&J(e)}(e)||oe(e)||le(e)},ue=function(e){var t,n=0;return n=Object(r.Ic)(null===e||void 0===e?void 0:e.service)?void 0===Object(a.a)(c.n)||isNaN(Object(a.a)(c.n))?0:Object(a.a)(c.n):void 0===Object(a.a)(c.R)||isNaN(Object(a.a)(c.R))?0:Object(a.a)(c.R),Object(d.j)(null===e||void 0===e||null===(t=e.store)||void 0===t?void 0:t.timeZoneIANA)>(null===e||void 0===e?void 0:e.fulfillmentDateTime)+60*n}},812:function(e,t,n){"use strict";t.a={contentData:{searchStoreHeaderText:"selectKFC",deliveryHeaderText:"deliveryAddress",searchStoreModalContent:{formContent:{memberText:"alreadyMember",singInLink:{linkUrl:null,linkText:"signIn",targetType:"_blank"},currentLocationText:"storeUseMyLocation",addressBoxPlaceHolderForSearchStore:"addressBoxPlaceHolderForSearchStore",addressBoxPlaceHolderForDelivery:"enterYourDeliveryAddress",mapText:"map",numberOfStoreText:"nearYou"},locationsContent:{storeData:[{map:{mapText:"Map",mapUrl:""},facilities:{washroom:!0,wheelchair:!0,wifi:!0},buttonData:{scheduleOrderButtonData:{buttonText:"Schedule Order",display:!0},orderNowButtonData:{buttonText:"Order Now",display:!0}}}]}}}}},815:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return s}));var a=n(1);function i(e){return{type:a.GET_NETBANKING_CONFIGURATIONS,payload:e}}function o(e){return{type:a.PAYMENT_USING_NETBANKING,payload:e}}function r(){return{type:a.RESET_PAYMENT_STATUS}}function c(e){return{type:a.PAYMENT_USING_PHONEPE,payload:e}}function d(e){return{type:a.GET_PAYTM_TOKEN_CALL,payload:e}}function l(e){return{type:a.PAYTM_STATUS_CHECK,payload:e}}function s(e){return{type:a.FETCH_OTHER_WALLETS_LIST,payload:e}}},821:function(e,t,n){"use strict";var a=n(0),i=n(28),o=n(4),r=n.n(o),c=n(88),d=n(37),l=n(252),s=n(31),u=n(260),v=n(69),O=n(60),b=n(87),j=n(7),m=n(133),f=n(766),p=n(49),h=n(230),E=n(677),S=n(16),g=n(246),T=n.p+"static/media/Time_ClockDark.bcd6727f.svg",N=n(136),I=n(781),x=n(10),D=n(13),A=n(5),C=function(e){var t=e.data,n=e.cardType,a=e.id,c=e.tenantId,d=e.applyCoupon,l=e.tenantData,s=Object(o.useState)(!1),u=Object(i.a)(s,2),O=u[0],m=u[1],f=(Object(j.fb)(window.innerWidth),function(e){return Object(A.jsx)(A.Fragment,{children:null!==e&&void 0!==e&&e.showTimer?Object(h.g)(null===e||void 0===e?void 0:e.endTime)&&Object(A.jsx)("p",{"data-testid":"coupon-header-block",className:"coupon-time",children:Object(A.jsxs)("span",{"data-testid":"coupon-time-block",className:"coupon-time-block",children:[Object(A.jsx)("img",{className:"coupon-time-icon",src:g.a,alt:""}),Object(A.jsx)(I.a,{endTime:null===e||void 0===e?void 0:e.endTime})]})}):Object(A.jsxs)("p",{"data-testid":"coupon-header-block",className:"mr-btm-0",children:[(null===e||void 0===e?void 0:e.header)&&Object(A.jsx)("span",{className:"ml-rgt coupon-time",children:null===e||void 0===e?void 0:e.header}),Object(A.jsxs)("span",{className:"coupon-expiry-details",children:[Object(A.jsx)("img",{alt:"",src:T}),Object(A.jsxs)("span",{children:[Object(A.jsx)("span",{className:"capitalize",children:"Expires\xa0"})," on ",Object(h.f)(null===e||void 0===e?void 0:e.endTime)]})]})]})})});return Object(A.jsx)(r.a.Fragment,{children:"image-text"===n?function(e,n){var a;return Object(A.jsxs)("section",{"data-testid":"coupon-container",className:"coupon-card-container",children:[Object(A.jsxs)("section",{className:"coupon-card-content text-image",children:[Object(A.jsx)("section",{className:"coupon-image-content",children:Object(A.jsx)(v.a,{className:"coupon-image",srcFile:Object(j.Eb)(null===e||void 0===e?void 0:e.imageSrc,l,!1,!1,!0),alt:"",defaultPath:"".concat(Object(S.a)(D.cb)).concat(c).concat(b.f)})}),Object(A.jsxs)("section",{className:"coupon-text-content image-text",children:[f(t),Object(A.jsx)("h4",{role:"text","data-testid":"coupon-heading-block",className:"coupon-heading margin-bottom-5",children:Object(j.Qd)(null===e||void 0===e?void 0:e.heading)}),Object(A.jsx)("h5",{role:"text","data-testid":"coupon-desc-block",className:"coupon-desc margin-bottom-5",children:Object(j.Qd)(null===e||void 0===e?void 0:e.description)}),Object(A.jsxs)("h5",{role:"text","data-testid":"coupon-terms-btn",onClick:function(){return m(!O)},className:"coupon-terms",children:[Object(x.e)(b.q),Object(A.jsx)("img",{src:N.a,alt:"",className:O?"terms-arrow inverted":"terms-arrow"})]})]}),Object(A.jsx)("section",{className:"coupon-button-container",children:Object(A.jsx)(p.a,{"data-testid":"apply-button",disabled:null===e||void 0===e?void 0:e.isApplied,onClick:function(t){return d(t,null===e||void 0===e?void 0:e.discountCode)},className:"button whiteButton blackBorder","aria-label":Object(x.e)(b.m)+" "+(null===e||void 0===e?void 0:e.heading),children:Object(A.jsx)("span",{className:"btn-text",children:null!==t&&void 0!==t&&t.isApplied?Object(x.e)(b.l):Object(x.e)(b.m)})})})]}),Object(A.jsx)("section",{"data-testid":"terms-list-block",className:O?"terms-list show":"terms-list",children:Object(A.jsx)("ul",{className:"main-terms-list",children:null===e||void 0===e||null===(a=e.termsAndConditions)||void 0===a?void 0:a.map((function(e){return Object(A.jsx)("li",{children:null===e||void 0===e?void 0:e.message},null===e||void 0===e?void 0:e.message)}))})})]},n)}(t,a):function(e,t){var n;return Object(A.jsxs)("div",{"data-testid":"coupon-container",className:"coupon-card-container text-only",children:[Object(A.jsxs)("div",{className:"coupon-card-content text-only",children:[Object(A.jsxs)("div",{className:O?"coupon-text-content coupon-text-only show":"coupon-text-content coupon-text-only",children:[f(e),Object(A.jsx)("h4",{"data-testid":"coupon-heading-block",className:"coupon-heading",children:Object(j.Qd)(null===e||void 0===e?void 0:e.heading)}),Object(A.jsx)("h5",{"data-testid":"coupon-desc-block",className:"coupon-desc",children:Object(j.Qd)(null===e||void 0===e?void 0:e.description)}),Object(A.jsxs)("h5",{"data-testid":"coupon-terms-btn",onClick:function(){return m(!O)},className:"coupon-terms",children:[Object(x.e)(b.q),Object(A.jsx)("img",{src:N.a,alt:"",className:O?"terms-arrow inverted":"terms-arrow"})]})]}),Object(A.jsx)("div",{className:"coupon-button-container",children:Object(A.jsx)(p.a,{"data-testid":"apply-button",disabled:null===e||void 0===e?void 0:e.isApplied,onClick:function(t){return d(t,null===e||void 0===e?void 0:e.discountCode)},className:"button whiteButton blackBorder","aria-label":Object(x.e)(b.m)+" "+(null===e||void 0===e?void 0:e.heading),children:Object(A.jsx)("span",{className:"btn-text",children:null!==e&&void 0!==e&&e.isApplied?Object(x.e)(b.l):Object(x.e)(b.m)})})})]}),Object(A.jsx)("div",{"data-testid":"terms-list-block",className:O?"terms-list show":"terms-list",children:Object(A.jsx)("ul",{className:"main-terms-list",children:null===e||void 0===e||null===(n=e.termsAndConditions)||void 0===n?void 0:n.map((function(e){return Object(A.jsx)("li",{children:null===e||void 0===e?void 0:e.message},null===e||void 0===e?void 0:e.message)}))})})]},t)}(t,a)})};C.defaultProps={data:{},cardType:"text",tenantId:"",id:Object(E.a)(),applyCoupon:function(){},tenantData:{}};var _=C,y=function(e){var t=e.contentData,n=e.tenantId,a=e.applyCoupon,c=e.tenantData,d=Object(o.useState)(null),l=Object(i.a)(d,2),s=l[0],u=l[1],O=Object(o.useState)(null),m=Object(i.a)(O,2),f=m[0],E=m[1],C=(Object(j.fb)(window.innerWidth),function(e){u(e===s?null:e),E(null)}),_=function(e,t){e.stopPropagation(),E(t===f?null:t)},y=function(e){return Object(A.jsx)(A.Fragment,{children:null!==e&&void 0!==e&&e.showTimer?Object(h.g)(null===e||void 0===e?void 0:e.endTime)&&Object(A.jsx)("p",{className:"coupon-time",children:Object(A.jsxs)("span",{"data-testid":"coupon-time-block",className:"coupon-time-block",children:[Object(A.jsx)("img",{className:"coupon-time-icon",src:g.a}),Object(A.jsx)(I.a,{endTime:null===e||void 0===e?void 0:e.endTime})]})}):Object(A.jsxs)("p",{className:"mr-btm-0",children:[(null===e||void 0===e?void 0:e.header)&&Object(A.jsx)("span",{className:"ml-rgt coupon-time",children:null===e||void 0===e?void 0:e.header}),Object(A.jsxs)("span",{className:"coupon-expiry-details",children:[Object(A.jsx)("img",{alt:"time_clock",src:T}),Object(A.jsxs)("span",{children:[Object(A.jsx)("span",{className:"capitalize",children:"Expires\xa0"})," on ",Object(h.f)(null===e||void 0===e?void 0:e.endTime)]})]})]})})};return Object(A.jsx)(r.a.Fragment,{children:t.map((function(e,t){return"image-text"===e.cardType?function(e,t){var i;return Object(A.jsxs)("div",{"data-testid":"coupon-text-component",onClick:function(){return C(t)},className:"coupon-card-container",children:[Object(A.jsxs)("div",{className:"coupon-card-content",children:[Object(A.jsxs)("div",{className:"coupon-mobile-content",children:[Object(A.jsxs)("div",{className:"coupon-mobile-image-text",children:[Object(A.jsx)("div",{className:"coupon-image-content",children:Object(A.jsx)(v.a,{className:"coupon-image",srcFile:Object(j.Eb)(null===e||void 0===e?void 0:e.imageSrc,c,!1,!1,!0),alt:"No-Image",defaultPath:"".concat(Object(S.a)(D.cb)).concat(n).concat(b.f)})}),Object(A.jsxs)("div",{className:"coupon-text-content with-image",children:[y(e),Object(A.jsx)("h4",{"data-testid":"coupon-heading-block",className:"coupon-heading",children:Object(j.Qd)(null===e||void 0===e?void 0:e.heading)})]})]}),Object(A.jsx)("div",{"data-testid":"coupon-accordian-content",className:s===t?"coupon-text-content coupon-below-image show":"coupon-text-content coupon-below-image",children:Object(A.jsxs)("div",{className:"coupon-accordion-content show",children:[Object(A.jsx)("h5",{"data-testid":"coupon-desc-block",className:"coupon-desc",children:Object(j.Qd)(null===e||void 0===e?void 0:e.description)}),Object(A.jsx)(p.a,{"data-testid":"apply-button",onClick:function(t){return a(t,null===e||void 0===e?void 0:e.discountCode)},disabled:null===e||void 0===e?void 0:e.isApplied,className:"button whiteButton coupon-button blackBorder",children:null!==e&&void 0!==e&&e.isApplied?Object(x.e)(b.l):Object(x.e)(b.m)}),Object(A.jsxs)("h5",{"data-testid":"coupon-terms-block",onClick:function(e){return _(e,t)},className:"coupon-terms",children:[Object(x.e)(b.q),Object(A.jsx)("img",{src:N.a,className:f===t?"terms-arrow inverted":"terms-arrow"})]})]})})]}),Object(A.jsx)("div",{"data-testid":"accordian-toggle-button",className:"coupon-accordian-button",children:Object(A.jsx)("img",{src:N.a,className:s===t?"coupon-accordian-arrow inverted":"coupon-accordian-arrow"})})]}),Object(A.jsx)("div",{"data-testid":"terms-list-block",className:f===t?"terms-list show":"terms-list",children:Object(A.jsx)("ul",{className:"main-terms-list",children:null===e||void 0===e||null===(i=e.termsAndConditions)||void 0===i?void 0:i.map((function(e){return Object(A.jsx)("li",{children:null===e||void 0===e?void 0:e.message},null===e||void 0===e?void 0:e.message)}))})})]},t)}(e,t):function(e,t){var n;return Object(A.jsxs)("div",{"data-testid":"coupon-text-component",onClick:function(){return C(t)},className:"coupon-card-container",children:[Object(A.jsxs)("div",{className:"coupon-card-content",children:[Object(A.jsxs)("div",{className:s===t?"coupon-text-content coupon-text-only show":"coupon-text-content coupon-text-only",children:[Object(A.jsxs)("div",{className:"coupon-text-limiter",children:[y(e),Object(A.jsx)("h4",{"data-testid":"coupon-heading-block",className:"coupon-heading",children:Object(j.Qd)(null===e||void 0===e?void 0:e.heading)})]}),Object(A.jsxs)("div",{className:s===t?"coupon-accordion-content show":"coupon-accordion-content","data-testid":"coupon-accordian-content",children:[Object(A.jsx)("h5",{className:"coupon-desc","data-testid":"coupon-desc-block",children:Object(j.Qd)(null===e||void 0===e?void 0:e.description)}),Object(A.jsx)(p.a,{className:"button whiteButton coupon-button blackBorder",disabled:null===e||void 0===e?void 0:e.isApplied,onClick:function(t){return a(t,null===e||void 0===e?void 0:e.discountCode)},"data-testid":"apply-button",children:null!==e&&void 0!==e&&e.isApplied?Object(x.e)(b.l):Object(x.e)(b.m)}),Object(A.jsxs)("h5",{className:"coupon-terms","data-testid":"coupon-terms-block",onClick:function(e){return _(e,t)},children:[Object(x.e)(b.q),Object(A.jsx)("img",{className:f===t?"terms-arrow inverted":"terms-arrow",src:N.a})]})]})]}),Object(A.jsx)("div",{className:"coupon-accordian-button","data-testid":"accordian-toggle-button",children:Object(A.jsx)("img",{className:s===t?"coupon-accordian-arrow inverted":"coupon-accordian-arrow",src:N.a})})]}),Object(A.jsx)("div",{className:f===t?"terms-list show":"terms-list","data-testid":"terms-list-block",children:Object(A.jsx)("ul",{"data-testid":"mainterms-list",className:"main-terms-list",children:null===e||void 0===e||null===(n=e.termsAndConditions)||void 0===n?void 0:n.map((function(e){return Object(A.jsx)("li",{id:"terms-list",children:null===e||void 0===e?void 0:e.message},null===e||void 0===e?void 0:e.message)}))})})]},t)}(e,t)}))})};y.defaultProps={contentData:[],tenantId:"",applyCoupon:null,tenantData:{}};var R=y,w=function(e){var t=e.isMobile,n=e.couponsData,a=e.tenantId,i=e.applyCoupon,o=e.tenantData,c=Object(h.i)(n);return Object(A.jsx)(r.a.Fragment,{children:t?Object(A.jsx)(R,{contentData:c,applyCoupon:i,tenantId:a,tenantData:o}):c.map((function(e,t){return Object(A.jsx)(_,{data:e,tenantId:a,cardType:null===e||void 0===e?void 0:e.cardType,id:t,applyCoupon:i,tenantData:o},t)}))})};w.defaultProps={isMobile:!1,couponsData:[],tenantId:"",applyCoupon:null,tenantData:{}};var L=w,M=n(47),k=n(3),P=n(773),F=n(95),H=function(e){var t=e.isOpen,n=e.handleClose,r=e.bucketId,E=Object(d.c)((function(e){return e.tenantReducer})),S=Object(o.useContext)(O.a).userOrderStateDispatch,g=E.tenantId,T=void 0===g?"":g,N=E.componentOptions,I=void 0===N?{}:N,D=Object(o.useState)(Object(j.Uc)(window.innerWidth)),C=Object(i.a)(D,2),_=C[0],y=C[1],R=Object(o.useState)(""),w=Object(i.a)(R,2),H=w[0],U=w[1],B=Object(o.useState)(""),Y=Object(i.a)(B,2),V=Y[0],G=Y[1],W=Object(o.useState)(!1),K=Object(i.a)(W,2),z=K[0],J=K[1],X=Object(d.b)(),q=Object(d.c)((function(e){return e.cartReducer})),Q=Object(d.c)((function(e){return e.appStateReducer})).userStatus,Z=(void 0===Q?{}:Q).loggedIn,$=void 0!==Z&&Z,ee=q.applicableCoupons,te=q.couponError,ne=q.cartData,ae=void 0===ne?{}:ne,ie=q.isCouponLoading,oe=void 0===ie||ie,re=ae.discountLines,ce=void 0===re?[]:re,de=Object(j.K)(ee);Object(o.useEffect)((function(){X(Object(s.h)({basketId:r,tenantId:T}))}),[]),Object(o.useEffect)((function(){Object(P.e)(Object(x.e)(b.j),V)}),[V]),Object(o.useEffect)((function(){return window.addEventListener("resize",se),function(){window.removeEventListener("resize",se)}}));var le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.stopPropagation();var n=document.getElementById("coupon-top-div");null===n||void 0===n||n.scrollIntoView(!0),S({type:b.n,value:{couponErrorMessage:""}}),X(Object(s.b)({basketId:r,tenantId:T},{couponCode:t||H}));var a=t||H;U(a)};Object(o.useEffect)((function(){var e,t,a,i,o,c,d=ce.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.name)===b.a}));(null===d||void 0===d?void 0:d.length)>(null===I||void 0===I||null===(e=I.coupons)||void 0===e?void 0:e.noOfCoupopnAllowed)&&X(Object(s.o)({basketId:r,tenantId:T,couponCode:null===(t=d[0])||void 0===t?void 0:t.couponCode}));!H||oe||z?z&&(S({type:b.n,value:{couponErrorMessage:""}}),J(!1)):te&&null!==te&&void 0!==te&&te.errorCode?G(te.errors[0]):null!==ce&&void 0!==ce&&ce.length&&(null===(a=ce[(null===ce||void 0===ce?void 0:ce.length)-1])||void 0===a||null===(i=a.status)||void 0===i?void 0:i.name)===b.a?(n("true"),M.b.dark(Object(A.jsxs)("div",{className:"img-text-div",children:[Object(A.jsx)(v.a,{srcFile:u.a})," ",Object(A.jsx)("span",{className:"text",children:Object(x.e)(b.p)})]}),{className:"coupon-toast-position",bodyClassName:"success-coupon-toast",hideProgressBar:!0,position:M.b.POSITION.BOTTOM_CENTER}),localStorage.setItem("expiryMessage",Object(x.e)(b.c)),setTimeout((function(){M.b.dismiss()}),3e3)):null!==ce&&void 0!==ce&&ce.length&&(null===(o=ce[(null===ce||void 0===ce?void 0:ce.length)-1])||void 0===o||null===(c=o.status)||void 0===c?void 0:c.name)===b.g&&(G(Object(h.b)(ce[(null===ce||void 0===ce?void 0:ce.length)-1])),J(!0))}),[te,ce]);var se=function(){y(Object(j.Uc)(window.innerWidth))},ue=function(){U(""),G("")},ve=_?{id:"CouponsModalPopup",role:"dialog",modalTitleId:"CouponsModalPopup",show:t,classNames:"coupons-module-modal",showCloseBtn:!0,closeButtonHandler:n,modalTitle:Object(x.e)(b.j),autoFocus:!0,closeDataTestId:"coupon-close",backDataTestId:"coupon-back"}:{id:"CouponsModalPopup",role:"dialog",modalTitleId:"CouponsModalPopup",show:t,classNames:"coupons-module-modal",showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:n,backButtonHandler:n,modalTitle:Object(x.e)(b.j),autoFocus:!0,closeDataTestId:"coupon-close",backDataTestId:"coupon-back"},Oe=Object(c.a)({"coupon-text-box":!0,"error-msg":V});return Object(A.jsxs)(m.a,Object(a.a)(Object(a.a)({},ve),{},{"data-testid":"modal-coupon-landing-page",children:[Object(A.jsx)("div",{className:"coupon-top-box coupon-border",id:"coupon-top-div",children:Object(A.jsxs)("div",{className:"coupon-top-content",children:[Object(A.jsxs)("div",{className:"coupon-discount-col-1",children:[Object(A.jsx)("h3",{"data-testid":"coupon-content-header",className:"coupon-content-header",children:Object(x.e)(b.i)}),Object(A.jsx)("p",{"data-testid":"coupon-content-desc",className:"coupon-content-desc",children:Object(x.e)(b.h)})]}),Object(A.jsxs)("div",{className:"coupon-discount-col-2",children:[Object(A.jsx)("label",{"data-testid":"coupon-input-label",className:"coupon-input-label",htmlFor:"modal-coupon-input",children:Object(x.e)(b.d)}),Object(A.jsxs)("div",{className:"flex-input-section",children:[Object(A.jsx)(f.a,{id:"modal-coupon-input",value:H,className:Oe,placeholder:"Enter code","data-testid":"modal-coupon-input-field",onChange:function(e){U(e.target.value),G("")}}),H.length>0&&Object(A.jsx)("button",{"data-testid":"coupon-cross-icon",className:"discount-button-img",onClick:function(){return ue()},onKeyPress:function(){return ue()},"aria-label":"Clear Discount Code"})]}),V&&Object(A.jsxs)("div",{role:"alert",children:[Object(A.jsx)("img",{className:"",src:l.a,alt:"invalid"})," ",Object(A.jsx)("span",{"data-testid":"coupon-err-msg",className:"error-msg error-container-coupon",children:V})]})]}),Object(A.jsx)("div",{className:"coupon-discount-col-3",children:Object(A.jsx)(p.a,{"aria-label":Object(x.e)(b.b),id:"btn-apply-view","data-testid":"coupon-apply-btn",className:"button whiteButton blackBorder coupon-button",disabled:!(null!==H&&void 0!==H&&H.length),onClick:function(e){return le(e,"")},children:Object(x.e)(b.b)})})]})}),Object(A.jsxs)("div",{className:"coupon-mid-box",children:[Object(A.jsx)("h3",{"data-testid":"modal-mid-header",className:"modal-mid-header",children:Object(x.e)(b.k)}),!$&&Object(A.jsx)("span",{onClick:function(){Object(F.b)()},"data-id":k.M.HEADER_SIGN_IN_ATTR_DATA_ID,"data-testid":"modal-mid-desc",tabIndex:"0",className:"modal-mid-desc",children:Object(x.e)(b.t)})]}),Object(A.jsx)(L,{"data-testid":"coupons-list",isMobile:_,applyCoupon:le,tenantId:T,couponsData:de,tenantData:E})]}))};H.defaultProps={isOpen:!1,closeModal:null};t.a=H},845:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return d}));var a={ACCOUNT_SETTINGS_TEXT:"accoundSetting",DELETE_ACCOUNT_TEXT:"deleteAccount",EDIT_PERSONAL_INFO:"editPersonalInfo",FIRST_NAME_TEXT:"firstNamePlaceholder",LAST_NAME_TEXT:"lastNamePlaceHolder",EMAIL_TEXT:"emailPlaceholder",PHONE_NUMBER_TEXT:"phonePlaceholder",CANCEL:"cancelButtonText",SAVE:"save",PERSONAL_INFO_TEXT:"personalInfo",EDIT:"edit",CONFIRM:"confirm",emailHelpText:"emailHelpText",phoneHelpText:"phoneHelpText",firstNameHelpText:"firstNameHelpText",lastNameHelpText:"lastNameHelpText",DELETE_ACCOUNT_BTN:"deleteAccount",DELETE_ACCOUNT_MESSAGE:"areYouSureToDeleteAccountText",SUBSCRIBTION_MSG_TEXT:"subscribedToastMessage",UNSUBSCRIBTION_MSG_TEXT:"unsubscribedToastMessage",SIGN_OUT:"signOut",SIGN_OUT_ACCOUNT_MESSAGE:"accountSignOutMessage",EDIT_PERSONAL_INFO_TEXT:"editPersonalInfo",EXCEEDED_VERIFICATION_ATTEMPTS:"exceededVerificationAttempts",NAME:"labelName",EMAIL_ADDRESS:"optionalEmailAddress",MOBILE_NUMBER:"mobileNumber",DATE_OF_BIRTH:"dateOfBirth",POSTAL_CODE:"Postcode",FIRST_NAME:"firstNameLabel",LAST_NAME:"lastNameLabel",FIRST_NAME_ERROR_TEXT:"firstNameErrorMessage",LAST_NAME_ERROR_TEXT:"lastNameErrorMessage",EMAIL_ERROR_TEXT:"emailHelpText",MOBILE_NUMBER_ERROR_TEXT:"mobileErrorMessage",POSTAL_CODE_ERROR_TEXT:"postalcodeErrorMessage",PHONE_TOOLTIP_TITLE:"mobileToolTipMessage",DOB_TOOLTIP_TITLE:"dobToolTipMessage",DATE_MONTH_ERROR_TEXT:"valideDayAndMonthRequired",DATE_MONTH_YEAR_ERROR_TEXT:"valideDayMonthAndYearRequired",YOUR_INFO_SAVED:"savedMessage",EDIT_WITH_OLD_PHONE:"fromEditWithOldPhone",FROM_OTP_SCREEN:"fromOtpScreen",ACCESS_TOKEN:"access_token",EVENT_NAME_PHONE:"phone",EVENT_NAME_POSTAL_CODE:"postalCode"},i={COMMUNICATION_PREFERENCES_TEXT:"communicationPreferences",LEAVE:"leaveText",SAVE:"save",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe"},o={FIELD_NAME:{NAME:"name",FLOOR:"floor",CHECKBOX:"checkbox",DELIVERY_OPTION:"deliveryOptions"},ADDRESS:"Address",ADDRESS_NICK_NAME:"Address Nickname",APT_SUITE_FLOOR:"Apt / Suite / Floor",POSTAL_CODE:"Postcode",CITY_TOWN:"City / Town",STATE:"State",MAKE_THIS_DEFAULT_ADD:"Make this my default address",DELIVERY_OPTION:"Delivery Options",DELIVERY_INSTRUCTION:"Delivery Instructions"},r={ADD_NEW_ADDRESS:"Add New Address",EDIT_DELIVERY_ADDRESS:"Edit Delivery Address",HIDDEN:"hidden",OK:"OK",KM:"km",DEFAULT_DISPOSITION_PICKUP:"Pickup",DISPOSITION_DELIVERY:"Delivery",mapText:"map",ZERO_RESULTS:"ZERO_RESULTS",DELIVERY_SERVICE:"delivery",CHANNEL:"web",AUSTRALIA:"Australia",UNDEFINED:"undefined",NOT_SERVICEABLE:"The Delivery location is not serviceable. Please choose a different address",INITIAL_STATE:{addressId:"",city:"",pinCode:"",name:"",state:"",country:"",isPrimary:!1,location:{latitude:"",longitude:""},addressLines:["",""]},MYDELIVERYADDRESSES:"MyDeliveryAddresses",ADDRESS:"address",MY_FAV_STORES:"myFavStores",DELETE:"delete",EDIT:"edit",ADDRESS_UPDATED:"addressUpdated",ADDRESS_SAVED:"addressSaved",DELIVERY_ADD_DELETE:"deliveryAddressDeleted",SPECIAL_CHAR_ERROR:"nameIsInvalid",NAME_EXIST_ERROR:"nameExistError",ADDRESS_ERROR_MSG:"addressErrorMsg",ADD:"add",DEFAULT:"default",MAX_DELIVERY_DISTANCE:3600,NO_OF_STORE_FOR_DELIVERY:2},c={SUBMIT:"submit",SENT_AN_SMS:"sms",OTP_SENT_TEXT:"verificationMessage",CODE_EXPIRED_TEXT:"otpCodeExpiredMessage",RESEND_CODE:"resendCode",INVALID_OTP:"otpInvalidMessage"},d=["firstName","lastName","phone","dateOfBirth","email","postalCode"]},863:function(e,t,n){"use strict";n.d(t,"n",(function(){return S})),n.d(t,"b",(function(){return g})),n.d(t,"p",(function(){return T})),n.d(t,"i",(function(){return N})),n.d(t,"m",(function(){return I})),n.d(t,"e",(function(){return D})),n.d(t,"f",(function(){return _})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return R})),n.d(t,"k",(function(){return w})),n.d(t,"j",(function(){return L})),n.d(t,"l",(function(){return M})),n.d(t,"o",(function(){return k})),n.d(t,"g",(function(){return P})),n.d(t,"h",(function(){return F})),n.d(t,"a",(function(){return H}));var a=n(0),i=n(31),o=n(233),r=n(815),c=n(760),d=n(84),l=n(775),s=n(943),u=n(13),v=n(16),O=n(3),b=n(38),j=n(118),m=n(96),f=n(7),p=n(810),h=n(919),E=n(12),S=function(e){var t=e.orderDetails,n=e.updateSetOrderDetails;Object(p.d)(t)&&Object(j.h)({orderDetails:t}),Object(p.O)(null===t||void 0===t?void 0:t.orderStatus)||null!==t&&void 0!==t&&t.isAnalyticsUpdated||(Object(j.h)({orderDetails:t}),n({isAnalyticsUpdated:!0}))},g=function(e){localStorage.getItem(O.ac.POST_PAYMENT_TYPE)===O.Pc.GIFT_CARD_PURCHASE&&(localStorage.setItem(O.ac.PAYMENT_STATUS,O.Bc.SUCCESS),Object(f.Bd)(e))},T=function(e){var t,n,a=null===JSON||void 0===JSON?void 0:JSON.parse(null===(t=sessionStorage)||void 0===t?void 0:t.getItem(null===O.ac||void 0===O.ac?void 0:O.ac.ORDER_TRACKING));if(a&&null!==Object&&void 0!==Object&&null!==(n=Object.keys(a))&&void 0!==n&&n.length){var i=e.dispatch,o=e.updateSetOrderDetails;null!==a&&void 0!==a&&a.postOrderDetails&&0===Object.keys(null===a||void 0===a?void 0:a.postOrderDetails).length&&x({dispatch:i,orderDetails:a,updateSetOrderDetails:o})}else I(e)},N=function(e){var t=e.dispatch,n=e.orderDetails,a=e.updateSetOrderDetails,i=n.displayDeliveryOrderTrackerPage;n.orderStatus;if(Object(p.k)(n)&&Object(p.Q)(n)&&!Object(p.O)(n)&&!i&&a({displayDeliveryOrderTrackerPage:!0,displayStagedOrAcceptedPage:!1}),null!==n&&void 0!==n&&n.orderId&&Object(p.A)(n))var o=setTimeout((function(){(null===n||void 0===n?void 0:n.dispatchDeliveryOrderTrackerTimer)&&clearTimeout(null===n||void 0===n?void 0:n.dispatchDeliveryOrderTrackerTimer),a({dispatchDeliveryOrderTrackerTimer:o}),x({dispatch:t,orderDetails:n,updateSetOrderDetails:a})}),Object(v.a)(u.z))},I=function(e){var t=e.dispatch,n=e.postOrderReducer,a=void 0===n?{}:n,i=e.orderReducer,o=void 0===i?{}:i,r=e.orderDetails,c=e.updateSetOrderDetails,d=Object(h.b)({postOrderReducer:a,orderReducer:o,orderDetails:r,isCheckOrderDetails:!1}),l=r.props,s=r.orderId,b=r.retryCountForGetOrderStatus;r&&s&&Object(p.Q)(r)?0===b||Object(p.O)(d)&&b<Object(v.a)(u.y)?x({dispatch:t,orderDetails:r,updateSetOrderDetails:c}):Object(p.O)(d)&&b>=Object(v.a)(u.y)&&(localStorage.setItem(O.Bc.STATUS_TEXT,O.Bc.FAILED),Object(f.Id)(l)):Object(f.Dd)(l)},x=function(e){var t=e.dispatch,n=e.orderDetails,a=e.updateSetOrderDetails,i=void 0===a?null:a;null!==n&&void 0!==n&&n.isExternalTrackOrder?D({dispatch:t,orderDetails:n,updateSetOrderDetails:i}):A({dispatch:t,orderDetails:n,updateSetOrderDetails:i})},D=function(e){var t=e.dispatch,n=e.orderDetails,a=e.updateSetOrderDetails,i=void 0===a?null:a,r={emailId:null===n||void 0===n?void 0:n.userEmail,phoneNo:null===n||void 0===n?void 0:n.userPhone,orderNo:null===n||void 0===n?void 0:n.posOrderId,tenantId:null===n||void 0===n?void 0:n.tenantId},c=(null===n||void 0===n?void 0:n.retryCountForGetOrderStatus)+1;t(Object(o.d)(r,(function(){return C({count:c,updateSetOrderDetails:i})})))},A=function(e){var t=e.dispatch,n=e.orderDetails,a=e.updateSetOrderDetails,i=void 0===a?null:a,o={orderId:null===n||void 0===n?void 0:n.orderId,tenantId:null===n||void 0===n?void 0:n.tenantId,customerId:null===n||void 0===n?void 0:n.customerId},r=(null===n||void 0===n?void 0:n.retryCountForGetOrderStatus)+1;t(Object(c.c)(o,(function(){return C({count:r,orderDetails:n,updateSetOrderDetails:i})})))},C=function(e){var t=e.count,n=e.orderDetails,a=e.updateSetOrderDetails;if(a)var i=setTimeout((function(){(null===n||void 0===n?void 0:n.dispatchGetOrderStatusTimer)&&clearTimeout(null===n||void 0===n?void 0:n.dispatchGetOrderStatusTimer),a({retryCountForGetOrderStatus:t,dispatchGetOrderStatusTimer:i})}),Object(v.a)(u.A))},_=function(e){e(Object(l.a)({object:Object(m.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))},y=function(e){e(Object(s.a)({object:Object(m.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"Support Help",include:"5"}}))},R=function(e){var t=null===e||void 0===e?void 0:e.orderDetails,n=t.service,a=t.store,i=t.tenantId,o=[{storeId:null===a||void 0===a?void 0:a.storeId,channel:b.b.channel,service:n}];null===e||void 0===e||e.dispatch(Object(d.d)({data:o,tenantId:i,isFavoritePage:!1}))},w=function(e){var t,n,a,i,d,l,s,u,v=e.dispatch,b=e.beforeUnload,j=void 0!==b&&b,m=e.orderDetails,f=void 0===m?{}:m,h=f.userStatus,E=void 0===h?{}:h,S=sessionStorage.getItem(O.dd.ORDER_TRACKING_CLICK_KFC_ACCOUNT);j&&(null===(t=window)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.pathname)===(null===O.Wc||void 0===O.Wc?void 0:O.Wc.ORDER_SUMMARY)||S||(v(Object(r.g)()),(null===(a=localStorage)||void 0===a?void 0:a.getItem(null===O.ac||void 0===O.ac?void 0:O.ac.PAYMENT_STATUS))!==(null===O.Bc||void 0===O.Bc?void 0:O.Bc.FAILED)&&(v(Object(c.d)()),v(Object(o.e)())),v(Object(o.a)({value:[]})),((null===(i=window)||void 0===i||null===(d=i.location)||void 0===d?void 0:d.pathname)!==(null===O.Wc||void 0===O.Wc?void 0:O.Wc.ORDER_SUMMARY)||null!==E&&void 0!==E&&E.loggedIn||(null===E||void 0===E||!E.loggedIn)&&(null===(l=window)||void 0===l||null===(s=l.location)||void 0===s?void 0:s.pathname)===(null===O.Wc||void 0===O.Wc?void 0:O.Wc.ORDER_SUMMARY)&&Object(p.F)(f))&&(null===(u=sessionStorage)||void 0===u||u.removeItem(null===O.ac||void 0===O.ac?void 0:O.ac.ORDER_TRACKING)))},L=function(e){var t=e.orderDetails,n=e.updateSetOrderDetails,a=t.props,o=t.service,r=t.displayStagedOrAcceptedPage,c=t.retryCountForGetDeliveryOrderTrackingStatus,d=t.orderAcceptedLoading,l=t.isBasketsCreated,s=t.customer,u=t.tenantId,v=t.userStatus;if(Object(p.Q)(t)&&!d){if(Object(p.H)(t))sessionStorage.setItem(O.dd.PICKUP_ORDER_CANCELLED,t.orderId),Object(f.Dd)(a);else if(Object(p.C)(t)){var j;null===(j=localStorage)||void 0===j||j.setItem(null===O.Bc||void 0===O.Bc?void 0:O.Bc.STATUS_TEXT,null===O.Bc||void 0===O.Bc?void 0:O.Bc.FAILED),Object(f.Id)(a)}else null!==t&&void 0!==t&&t.isExternalTrackOrder||l||function(e){var t=e.dispatch,n=e.orderDetails,a=e.cartReducer,o=e.userOrderState,r=e.appStateReducer,c=e.updateSetOrderDetails,d=n.service,l=n.status,s=(null===b.b||void 0===b.b?void 0:b.b.shouldGoogleSpotIgnoreOloFailure)||Object(p.N)(l)||Object(p.d)(n);if(Object(f.Mc)(d)&&s){var u,v=null===r||void 0===r?void 0:r.userStatus;Object(f.j)(s,!(null!==a&&void 0!==a&&a.isBasketLoading),null===a||void 0===a||null===(u=a.cartData)||void 0===u?void 0:u.id,null===v||void 0===v?void 0:v.localized,null===n||void 0===n?void 0:n.tenantId)&&(c({isBasketsCreated:!0}),Object(f.y)(t,i.f,null===n||void 0===n?void 0:n.tenantId,o))}}(e),r&&(!Object(p.O)(t)||Object(f.Ic)(o)&&!Object(p.P)(t))&&n({displayStagedOrAcceptedPage:!1}),!Object(f.Jc)(o)||Object(p.O)(t)||Object(p.s)(t)||n({retryCountForGetDeliveryOrderTrackingStatus:c+1});null!==v&&void 0!==v&&v.loggedIn||k({trackDetails:{customer:s,tenantId:u},orderDetails:t})}},M=function(e){var t,n,i=e.orderDetails,o=e.dispositionPaymentPage,r=e.userOrderStateDispatch,c={deliveryAddress:Object(f.Db)(null===i||void 0===i?void 0:i.deliveryAddress),store:null===i||void 0===i?void 0:i.store,type:null===i||void 0===i?void 0:i.service},d=(null===JSON||void 0===JSON?void 0:JSON.parse(null===(t=localStorage)||void 0===t?void 0:t.getItem(O.ac.DISPOSITION_NEW)))||{};d.orderDetails=c,null===(n=localStorage)||void 0===n||n.setItem(null===O.ac||void 0===O.ac?void 0:O.ac.DISPOSITION_NEW,null===JSON||void 0===JSON?void 0:JSON.stringify(d)),r({type:null===E.a||void 0===E.a?void 0:E.a.SET_DISPOSITION_NEW,value:{dispositionNew:Object(a.a)(Object(a.a)({},o),{},{orderDetails:c})}})},k=function(e){var t=e.trackDetails,n=e.orderDetails,i=e.redirectTo,o=e.props,r=t.customer,c=t.tenantId;if(null!==n&&void 0!==n&&n.id||null!==n&&void 0!==n&&n.orderId){var d=null!==n&&void 0!==n&&n.orderId?Object(a.a)(Object(a.a)({},n),{},{tenantId:c}):Object(a.a)(Object(a.a)({},Object(h.c)({postOrPastOrderDetails:Object(a.a)({},n),customer:r})),{},{tenantId:c});d.postOrderDetails={},d.dispatch=null,d.storesReducer=null,d.additionalChargeLines=null,d.additionalCharges=null,d.filteredFoodLines=null,d.foodLines=null,d.operatingTime=null,d.operatingTimeFromStoreReducer=null,d.props=null,sessionStorage.setItem(null===O.ac||void 0===O.ac?void 0:O.ac.ORDER_TRACKING,JSON.stringify(d)),i&&i(o)}else console.error(JSON.stringify(n)),Object(f.Id)(o)},P=function(e){var t=e.dispatch,n=e.orderDetails,a=e.updateSetOrderDetails,i=n.orderId,o=n.customerId,r=n.tenantId,d=(n.props,{orderId:i,tenantId:r,customerId:o,paramData:{reason:"default",channel:"web",isRefundable:!1}});t(Object(c.a)(d,(function(){var e;a({isShowPickupOrderCancelModal:!1,pickupCancelOrder:!1}),null===(e=sessionStorage)||void 0===e||e.removeItem(null===O.ac||void 0===O.ac?void 0:O.ac.ORDER_TRACKING),x({dispatch:t,orderDetails:n,updateSetOrderDetails:a})}),(function(){return a({isShowPickupOrderCancelModal:!1,pickupCancelOrder:!1})})))},F=function(e){var t=e.dispatch,n=e.orderDetails,a=e.updateSetOrderDetails,i=n.orderId,o=n.customerId,r={orderId:i,tenantId:n.tenantId,customerId:o,paramData:{name:n.selectedPickupOrderCollectionMethod,bayNumber:0,checkInSummary:""}},d=function(){return a({isShowPickupOrderCheckReadyToPrepareModal:!1,isPickupOrderUserConfirmedToCheckIn:!1})};t(Object(c.b)(r),d,d)},H=function(e){var t,n,a,i,o,r=e.orderReducer,c=e.paymentsContentReducer,d=e.orderDetails,l=e.updateSetOrderDetails,s=e.props;null!==r&&void 0!==r&&null!==(t=r.response)&&void 0!==t&&null!==(n=t.order)&&void 0!==n&&n.id&&(0===(null===r||void 0===r||null===(a=r.response)||void 0===a||null===(i=a.order)||void 0===i||null===(o=i.tenders)||void 0===o?void 0:o.length)?Object(f.vd)(s):Object(h.h)({orderReducer:r,paymentsContentReducer:c,orderDetails:d,updateSetOrderDetails:l}))}},864:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(0),i=n(28),o=n(4),r=n(54),c=n.n(r),d=n(133),l=n(7),s=n(764),u=n(50),v=n.p+"static/media/Single_Arrow_Edit.538cdcff.svg",O=n(60),b=n(12),j=n(37),m=n(104),f=n(42),p=n(31),h=n(5),E=function(e){var t=e.basketLineItemId,n=e.customizableFoodItemsList,a=e.SetCustomizableFoodItemsList,r=e.calculateTotalAmountHandler,c=e.isEditSelection,d=(e.handleClose,Object(j.b)()),E=f.a.RESET_MODGROUP_IDS_UPDATE,S=Object(o.useContext)(O.a),g=S.userOrderState,T=S.userOrderStateDispatch,N=b.a.MINI_PDP_DATA,I=b.a.FROMFLAGEDIT,x=b.a.EDIT_CLICKED,D=u.a.QUANTITY_ACTION,A=n[t],C=Object(j.c)((function(e){var t=e.menuReducer;return null===t||void 0===t?void 0:t.currentItemDetails})),_=Object(o.useState)(!1),y=Object(i.a)(_,2),R=y[0],w=y[1],L=Object(o.useState)(!1),M=Object(i.a)(L,2),k=(M[0],M[1]),P=function(e,i){A.quantity=i===D.Increase?(null===A||void 0===A?void 0:A.quantity)+1:(null===A||void 0===A?void 0:A.quantity)-1;var o=n;o[t]=A,a(o),r()};Object(o.useEffect)((function(){var e,t=!0;null===A||void 0===A||null===(e=A.modGrps)||void 0===e||e.map((function(e){t*=e.modifiers[0].isDefault})),k(t)}),[A.modGrps]),Object(o.useEffect)((function(){Object(l.Qb)(C,A,g,R,d,p.u),w(!1)}),[C,R]);return Object(h.jsxs)(h.Fragment,{children:[c?Object(h.jsx)("div",{className:"EditItemsCard",onClick:function(){return function(){var e,n;T({type:N,value:{id:null===A||void 0===A||null===(e=A.foodItems)||void 0===e?void 0:e.id,flag:I,foodLineId:t}}),T({type:E}),T({type:x,value:{cartEditClicked:!1}}),d(Object(m.c)({tenantId:null===A||void 0===A?void 0:A.tenantId,catalogName:null===A||void 0===A?void 0:A.catalog,itemId:null===A||void 0===A||null===(n=A.foodItems)||void 0===n?void 0:n.id})),w(!0)}()},children:Object(h.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"DisplayNameFont",children:null===A||void 0===A?void 0:A.displayName}),Object(h.jsx)("div",{className:"customizableProducts-Default",children:Object(l.Rb)(A.modGrps)})]}),Object(h.jsx)("img",{className:"arrow-icon","data-testid":"arrow-click-edit",src:v})]})}):Object(h.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"DisplayNameFont",children:null===A||void 0===A?void 0:A.displayName}),Object(h.jsx)("div",{className:"customizableProducts-Default",children:Object(l.Rb)(A.modGrps)})]}),Object(h.jsx)("div",{className:"PlusAndMinus",children:Object(h.jsx)(s.a,{itemCount:null===A||void 0===A?void 0:A.quantity,itemQuantity:1,"data-testid":"QuantityModifier_OnClick",updateItemQuantity:P,quantityAction:D,maxItemCountPerLineItem:null===A||void 0===A?void 0:A.maxItemCountPerLineItem,cartItemCount:1,hideChild:!0})})]}),Object(h.jsx)("div",{className:"LineSeparator"})]})},S="addNewProduct",g="updateCart",T=n(10),N=function(e){var t=e.addNewProductHandler,n=e.currencySymbol,a=(e.currencyConversionFactor,e.updateCartHandler),i=e.customizableFoodItemsList,o=e.SetCustomizableFoodItemsList,r=e.totalAmount,c=e.calculateTotalAmountHandler,d=e.isEditSelection,l=e.handleClose,s=S,u=g,v=Object.keys(i).length;return Object(h.jsxs)("div",{children:[Object.keys(i).map((function(e){return Object(h.jsx)(E,{"data-testid":"ModalTemplate_QuantityModifier",addNewProductHandler:t,basketLineItemId:e,customizableFoodItemsList:i,SetCustomizableFoodItemsList:o,calculateTotalAmountHandler:c,isEditSelection:d,handleClose:l})})),d?Object(h.jsx)("div",{className:"editSelectionsItem",children:Object(h.jsx)("button",{className:"button whiteButton blackBorder add-new-product","data-testid":"add-new-product-for-edit","aria-label":"Add new product",tabindex:"0",onClick:function(){return t()},children:Object(T.e)(s)})}):Object(h.jsxs)("div",{className:v<2?"FinalButton":"FinalDivButtons",children:[Object(h.jsx)("div",{className:"AddNew",children:Object(h.jsx)("span",{className:"addNewItem",onClick:t,children:Object(T.e)(s)})}),Object(h.jsx)("div",{className:"ButtonAndPopupLink",children:Object(h.jsxs)("button",{disabled:!1,className:"button activeBtn redButton Update-cart-button ","aria-label":"Update Cart",tabindex:"0",onClick:function(){return a()},children:[Object(h.jsx)("span",{className:"TextInButton",children:Object(T.e)(u)+" "}),Object(h.jsx)("span",{children:n+r})]})})]})]})},I=n(776),x=function(e){var t,n=e.filteredPreviousData,r=e.tenantData,s=e.dname,u=e.cardId,v=e.categoryId,O=e.itemCount,b=e.availability,m=e.imageName,f=e.itemFoodlineId,E=e.customizable,S=e.product,g=void 0===S?{}:S,T=e.isFavouriteMenu,x=void 0!==T&&T,D=e.cartData,A=e.clickHandler,C=e.handleClose,_=e.foodId,y=e.isEditSelection,R=e.headerText,w=e.pricewithouttax,L=Object(j.b)(),M=(null!==(t=Object(l.vb)(Object(j.c)((function(e){return e.menuReducer}))))&&void 0!==t?t:{}).flatResponse,k=(M=void 0===M?{}:M).productMapById,P=void 0===k?{}:k,F=r.tenantId,H=Object(o.useState)({}),U=Object(i.a)(H,2),B=U[0],Y=U[1],V=Object(o.useState)(0),G=Object(i.a)(V,2),W=G[0],K=G[1],z=r.currencyConversionFactor,J=r.currencySymbol,X=r.componentOptions,q=(null!==X&&void 0!==X?X:{}).web,Q=(q=void 0===q?{}:q).global,Z=(Q=void 0===Q?{}:Q).showPriceWithTax,$=void 0!==Z&&Z,ee={id:"CustomizedModal",role:"dialog",modalTitleId:"SELECT QUANTITY",show:!0,classNames:"CustomizedModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:C,modalTitle:R},te=Object(o.useState)(-1),ne=Object(i.a)(te,2),ae=ne[0],ie=ne[1],oe=Object(o.useState)([]),re=Object(i.a)(oe,2),ce=re[0],de=re[1],le=function(){ie(-1),C&&C()},se=function(){0===ce.length&&0===ae?le():ce&&null!==ce&&void 0!==ce&&ce.length&&ae<=ce.length&&(!function(){var e,t;L(Object(p.w)({params:{basketId:null===D||void 0===D?void 0:D.id,basketLineItemId:null===(e=ce[ae])||void 0===e?void 0:e.basketLineItemId},tenantId:F},{quantity:null===(t=ce[ae])||void 0===t?void 0:t.quantity}))}(),ie(ae+1))};Object(o.useEffect)((function(){se()}),[ce]),Object(o.useEffect)((function(){if(-1===ae){var e,t=Object(a.a)({},B);null===D||void 0===D||null===(e=D.foodLines)||void 0===e||e.forEach((function(e){var n,a;if(null!==e&&void 0!==e&&null!==(n=e.item)&&void 0!==n&&n.customizable&&(null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.id)===_){var i,o,c=Object(l.pc)(null===e||void 0===e?void 0:e.amount,null===e||void 0===e?void 0:e.taxAmount,null===e||void 0===e?void 0:e.quantity);t[null===e||void 0===e?void 0:e.id]={tenantId:F,basketLineItemId:null===e||void 0===e?void 0:e.id,quantity:null===e||void 0===e?void 0:e.quantity,unitPrice:null===e||void 0===e?void 0:e.unitPrice,unitPriceWithoutTax:c,displayName:null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.displayName,modGrps:null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.modGrps,maxItemCountPerLineItem:null===r||void 0===r?void 0:r.maxItemCountPerLineItem,previousQty:null===e||void 0===e?void 0:e.quantity,foodItems:null===e||void 0===e?void 0:e.item,catalog:null===D||void 0===D?void 0:D.catalog,categorySelected:v}}})),Y(t),ie(0)}else ae===ce.length?(le(),L(Object(p.t)(new Date))):se()}),[null===D||void 0===D?void 0:D.foodLines]),Object(o.useEffect)((function(){ue()}),[B]);var ue=function(){var e=0;Object.values(B).forEach((function(t){var n=$?t.unitPrice:t.unitPriceWithoutTax;e+=t.quantity*n})),K((e/z).toFixed(2))},ve=Object(h.jsx)(d.a,Object(a.a)(Object(a.a)({},ee),{},{children:Object(h.jsx)(N,Object(a.a)(Object(a.a)({},e),{},{"data-testid":"ModalTemplate",filteredPreviousData:n,addNewProductHandler:function(e){x?A(e,g,{productName:s,productImage:m,productPrice:Object(l.Yb)(b[0],w,z,$)}):A(e,u,E,v,O,{productName:s,productImage:m,productPrice:Object(l.Yb)(b[0],w,z,$)},f),C&&C()},currencySymbol:J,currencyConversionFactor:z,updateCartHandler:function(){if(null!==D&&void 0!==D&&D.id&&F){var e,t=Object.values(B),n=t.filter((function(e){return(null===e||void 0===e?void 0:e.previousQty)!==(null===e||void 0===e?void 0:e.quantity)&&e}));de(n);var a=null===t||void 0===t?void 0:t[0],i=null!==a&&void 0!==a?a:{},o=i.foodItems,r=i.unitPrice,c=i.quantity,d="".concat(Object(l.Rb)(null===o||void 0===o?void 0:o.modGrps)),s=null!==(e=null===P||void 0===P?void 0:P[null===o||void 0===o?void 0:o.id])&&void 0!==e?e:{},u=s.categoryId,v=void 0===u?"NA":u,O=s.categoryName,b=void 0===O?"NA":O;Object(I.a)({item_name:Object(l.Nb)(null===o||void 0===o?void 0:o.name),item_id:Object(l.Nb)(null===o||void 0===o?void 0:o.id),item_category:b,price:Object(l.Nb)(r/z),item_variant:Object(l.Nb)(null===d||void 0===d?void 0:d.trim()),item_list_name:b,item_list_id:v,index:1,quantity:c})}},customizableFoodItemsList:B,SetCustomizableFoodItemsList:Y,totalAmount:W,calculateTotalAmountHandler:ue,isEditSelection:y,handleClose:C}))}));return c.a.createPortal(ve,document.getElementById("modal-popups"))}},866:function(e,t,n){"use strict";var a=n(0),i=n(32),o=n(28),r=n(4),c=n(37),d=n(44),l=n(872),s=n(761),u=n(104),v=n(12),O=n(251),b=n(60),j=n(937),m=n(31),f=n(7),p=n(231),h=n(3),E=n(50),S=n(5),g={dots:!1,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:h.v},T=function(e,t){return null===e||void 0===e?void 0:e.map((function(e){return t(e)}))},N=function(e,t,n){var a;return{foodName:null===t||void 0===t||null===(a=t.productName[0])||void 0===a?void 0:a.value,foodItemId:e,cartPrice:null===t||void 0===t?void 0:t.productPrice,modifiers:[],quantity:1,foodLineId:n}};t.a=Object(d.j)((function(e){var t,n,d,h=e.productList,I=void 0===h?[]:h,x=e.cardType,D=void 0===x?"":x,A=e.tenantData,C=void 0===A?{}:A,_=e.categoryId,y=e.catalogs,R=e.storeClosedData,w=e.setShowTopScrollBtn,L=E.a.QUANTITY_ACTION,M=v.a.ADD_TO_CART_CLICK,k=v.a.PLP_PDP_DETAILS,P=v.a.MINI_PDP_DATA,F=v.a.FROMFLAGPLP,H=((null===(t=e.tenantData)||void 0===t?void 0:t.componentOptions)||{}).PlpProductCard,U=void 0===H?{}:H,B=p.a.RESET_MODGROUP_IDS_UPDATE,Y=Object(r.useState)(1),V=Object(o.a)(Y,2),G=V[0],W=V[1],K=Object(c.b)(),z=Object(c.c)((function(e){return e.cartReducer})),J=(null!==(d=Object(c.c)((function(e){return e.menuReducer})))&&void 0!==d?d:{}).flatResponse,X=(J=void 0===J?{}:J).productMapById,q=void 0===X?{}:X,Q=Object(f.zc)(z).cartData,Z=void 0===Q?{}:Q,$=Object(c.c)((function(e){var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),ee=Object(r.useState)(e.selectedCat),te=Object(o.a)(ee,2),ne=te[0],ae=te[1],ie=Object(r.useState)(!1),oe=Object(o.a)(ie,2),re=oe[0],ce=oe[1],de=Object(r.useContext)(b.a),le=de.userOrderState,se=de.userOrderStateDispatch,ue=Object(r.useState)(null),ve=Object(o.a)(ue,2),Oe=ve[0],be=ve[1],je=Object(r.useState)([]),me=Object(o.a)(je,2),fe=me[0],pe=me[1],he=Object(O.a)(void 0,void 0,void 0,void 0,se,K,void 0).showCartAlert;Object(r.useEffect)((function(){ce(!1)}));var Ee=Object(O.a)({cartId:null===Z||void 0===Z?void 0:Z.id},null===C||void 0===C?void 0:C.tenantId,void 0,q,void 0,K,void 0).addToCartAnalyticsOnly,Se=function(e,t,n,a,i,o,r){if(e&&e.stopPropagation(),be(t),$.localized){if(n)ae(a),se({type:P,value:{id:t,flag:F,foodLineId:""}}),se({type:B}),K(Object(u.c)({tenantId:C.tenantId,catalogName:y,itemId:t}));else if(0===i){var c;K(Object(m.a)({params:{basketId:null===z||void 0===z||null===(c=z.cartData)||void 0===c?void 0:c.id},tenantId:C.tenantId},[{Id:t,categoryId:_,quantity:i+1,modGrps:[]}])),K(Object(m.t)(new Date)),Ee(N(t,o,r),L.Increase)}else if(i>0){var d;K(Object(m.w)({params:{basketId:null===z||void 0===z||null===(d=z.cartData)||void 0===d?void 0:d.id,basketLineItemId:r},tenantId:C.tenantId},{quantity:i+1})),K(Object(m.t)(new Date)),Ee(N(t,o,r),L.Increase)}}else ce(!0),se({type:M,value:{addToCart:!0,productItemId:t,categoryId:_,oldProduct:o,customizable:n,catalogs:y,fromPdpPage:!1}})};Object(r.useEffect)((function(){return function(){var e;(null===z||void 0===z||null===(e=z.cartData)||void 0===e?void 0:e.id)&&(null===fe||void 0===fe?void 0:fe.length)&&Se.apply(void 0,Object(i.a)(fe))}}),[null===z||void 0===z||null===(n=z.cartData)||void 0===n?void 0:n.id,fe,Se]);var ge=function(e,t,n,a,i,o,r){var c;!$.localized||null!==z&&void 0!==z&&null!==(c=z.cartData)&&void 0!==c&&c.id?Se(e,t,n,a,i,o,r):(Object(f.y)(K,m.f,C.tenantId,le,null===z||void 0===z?void 0:z.qrCodeScanTime),pe([e,t,n,a,i,o,r]))},Te=Object(c.c)((function(e){var t=e.menuReducer;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(r.useEffect)((function(){Te&&ne&&le.minipdpData.itemId===Te.id&&K(Object(m.u)({showProductListingModal:!0,categorySelected:ne}))}),[Te]);var Ne=function(){he(!0)},Ie=Object(a.a)(Object(a.a)({},g),{},{beforeChange:function(e,t){W(Math.round(t+1))},variableWidth:!1}),xe=function(t,n,a,i,o){t.preventDefault(),t.stopPropagation();var r={productId:n,customizable:a,categoryId:i,catalogName:y,productInfo:o,isFromPlp:!0};se({type:k,value:r}),localStorage.setItem("ProductDetails",JSON.stringify(r)),e.history.push({pathname:"/pdp/".concat(i,"/").concat(n)})},De=function(e,t,n){K(Object(u.a)({tenantId:e,customerId:n},t))},Ae=function(e,t,n){K(Object(u.b)({tenantId:e,customerId:t,itemId:n}))},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(o.a)(e.items,1),n=t[0],i=Object(f.jd)(n.additionalProperties);return Object(S.jsx)(l.b,Object(a.a)(Object(a.a)({item:n,activeId:Oe,cardId:n.id,cardType:D,configureOptions:U,tenantData:C,servingCount:i.servings,button:e.button,categoryId:_,clickHandler:ge,customizable:n.customizable,onCardClickHandler:xe,userParams:$,openAlertModal:Ne,storeClosedData:R,addFavourite:De,removeFavourite:Ae,setShowTopScrollBtn:w,"data-testid":"menu-card-component"},i),n),n.id)};return Object(S.jsxs)("div",{className:"product-container",children:[re&&Object(S.jsx)(j.a,{}),"carousal"===D?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"individual-card-counter",children:[G,"/",I.length]}),Object(S.jsx)(s.b,{settings:Ie,children:T(I,Ce)})]}):T(I,Ce)]})}))},867:function(e,t,n){"use strict";n.d(t,"b",(function(){return P}));var a=n(8),i=n(0),o=n(28),r=n(2),c=n.n(r),d=n(4),l=n.n(d),s=n(890),u=n.n(s),v=n(227),O=n(766),b=n(225),j=n(60),m=n(12),f=n(759),p=n(269),h=n(270),E=n(228),S=n(755),g=n(37),T=n(84),N=n(20),I=n(7),x=n(44),D=n(67),A=n(45),C=n(69),_=n(10),y=n(31),R=n(38),w=n(773),L=n(3),M=n(5),k=function(e,t,n){return-1===(null===e||void 0===e?void 0:e.pathname.indexOf(t))&&-1===(null===e||void 0===e?void 0:e.pathname.indexOf(n))},P=function(e){return"ASAP"!==e&&"-"!==e?e:Object(N.B)(Object(N.h)(),A.a.HHMM,A.a.LT)},F=function(e,t){var n={};return"-"!==e&&"ASAP"!==e?n={isForNow:!1,futureDateTime:t}:"ASAP"===e&&(n={isForNow:!0,futureDateTime:0}),n},H=function(e,t,n){var a=JSON.parse(localStorage.getItem("dispositionNew"));return e&&a?Object(I.rb)(a.type):t?L.eb.PICKUP:Object(I.rb)(n)};function U(e,t,n){var a;e?e.find((function(e){return(null===e||void 0===e?void 0:e.timestr)===t}))||n(null===(a=e[0])||void 0===a?void 0:a.timestr):n("-")}t.a=Object(x.j)((function(e){var t,n,r,s,x,Y,V,G,W,K,z,J=Object(d.useRef)(null),X=Object(d.useRef)(null),q=e.formContent,Q=e.location,Z=e.onStoreSelectFinish,$=q.orderTypeTitle,ee=void 0===$?"":$,te=q.dateTitle,ne=void 0===te?"":te,ae=q.timeTitle,ie=void 0===ae?"":ae,oe=q.editTitle,re=void 0===oe?"":oe,ce=q.restaurantTitle,de=void 0===ce?"":ce,le=q.yourLocationTitle,se=void 0===le?"":le,ue=q.scheduleDateTitle,ve=void 0===ue?"":ue,Oe=q.buttonText,be=void 0===Oe?"":Oe,je=m.a.SEARCH_ORDER_DATA,me=m.a.SCHEDULE_ORDER_DATA,fe=m.a.DISPOSITION_DATA,pe=m.a.SCHEDULE_ORDER_TIME_DATA,he=m.a.CLOSED,Ee=m.a.SCHEDULE_ORDER_TIME_PRESERVE_TIME,Se=m.a.MENU_URL,ge=m.a.PDP_URL,Te=m.a.SELECTED_TILE_DATA,Ne=m.a.DISPOSITION_METHOD,Ie=m.a.SET_DISPOSITION,xe=m.a.USER_LOCALIZED,De=m.a.SHOW_CLEAR_CART_ALERT,Ae=m.a.CLEAR_CART_CONFIRM_CANCEL_MODAL,Ce=m.a.clearCartChangeFlag,_e=m.a.orderTypeAlertTitle,ye=m.a.searchStoreAlertTitle,Re=m.a.CURRENT_STORE_INFO,we=m.a.SET_FORCERELOAD,Le=f.a.contentData,Me=f.a.timingsSampleData,ke=Object(g.c)((function(e){return e.profileReducer})),Pe=Object(d.useContext)(j.a),Fe=Pe.userOrderState,He=Pe.userOrderStateDispatch,Ue=Fe.dispositionStateData,Be=void 0===Ue?{}:Ue,Ye=Fe.scheduleOrderData,Ve=void 0===Ye?{}:Ye,Ge=Ve.changeFlow,We=void 0!==Ge&&Ge,Ke=Ve.isAddressFlow,ze=void 0!==Ke&&Ke,Je=Ve&&Object(I.Qc)(Ve.storeInfo)?Ve.storeInfo:JSON.parse(localStorage.getItem("storeInfo")),Xe=Be.dispositionType,qe=void 0===Xe?"":Xe,Qe=qe||localStorage.getItem("dispositionType"),Ze=(Ve&&Ve.storeInfo&&Ve.storeInfo.name&&Ve.storeInfo.name[0]||{value:""}).value,$e=void 0===Ze?"":Ze,et=(Ve&&(null===(t=Ve.selectedDateTimeInfo)||void 0===t||null===(n=t.date)||void 0===n?void 0:n.length)>0?Ve.selectedDateTimeInfo:JSON.parse(localStorage.getItem("dateTimeOrder"))||{date:""}).date,tt=void 0===et?"":et,nt=Ve&&(null===(r=Ve.selectContentData)||void 0===r||null===(s=r.savedTime)||void 0===s?void 0:s.length)>0?null===(x=Ve.selectContentData)||void 0===x?void 0:x.savedTime:localStorage.getItem("savedTimeOrder"),at=(null===(Y=Ve.storeInfo)||void 0===Y||null===(V=Y.summary)||void 0===V?void 0:V.timings)||Me,it=at.futureDates,ot=at.scheduled,rt=at.asap,ct=Object(I.Pc)(Fe.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):Fe.dispositionNew,dt=ot.unavailibilities,lt=ot&&ot.periods.length&&ot.periods[0],st=lt.interval,ut=void 0===st?0:st,vt=lt.startEndTime,Ot=void 0===vt?{}:vt,bt=Ot.from,jt=Ot.to,mt=Object(g.c)((function(e){return e.appStateReducer.userStatus})),ft=Object(g.b)(),pt=Object(g.c)((function(e){return e.tenantReducer})),ht=Object(g.c)((function(e){return e.storesReducer})),Et=Object(g.c)((function(e){return e.cartReducer})).cartData,St=ht.storesAvilableTimeSlots,gt=ht.storesTimeSlots,Tt=Object(d.useState)(!1),Nt=Object(o.a)(Tt,2),It=Nt[0],xt=Nt[1],Dt=Le.errorMessageInactive,At=void 0===Dt?"":Dt,Ct=Le.errorMessageClosed,_t=void 0===Ct?"":Ct,yt=Le.SWITCH_TO_TAKEAWAY,Rt=Le.DELIVERY_NA_WARNING_MESSAGE,wt=Le.DELIVERY_PICKUP_NA_MESSAGE,Lt=Le.scheduleOrderHeaderText,Mt=Le.changeScheduleOrderHeaderText,kt=Object(d.useState)({error:!1,errormessage:""}),Pt=Object(o.a)(kt,2),Ft=Pt[0],Ht=Pt[1],Ut=Object(d.useState)({from:bt,to:jt,interval:ut}),Bt=Object(o.a)(Ut,2),Yt=Bt[0],Vt=Bt[1],Gt=function(){var e;return We?(null===(e=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===e?void 0:e.type.toUpperCase())===A.a.TYPE_DELIVERY:!ze&&(null===Qe||void 0===Qe?void 0:Qe.toUpperCase())===A.a.TYPE_DELIVERY},Wt=new d.useState(ot&&ot.date?new Date(ot.date.toString()):new Date),Kt=Object(o.a)(Wt,2),zt=Kt[0],Jt=Kt[1],Xt=new d.useState(rt&&rt.isAvailable?"ASAP":Object(N.B)(null===Ot||void 0===Ot?void 0:Ot.from,"hh:mm","LT")),qt=Object(o.a)(Xt,2),Qt=qt[0],Zt=qt[1],$t=Object(d.useState)([]),en=Object(o.a)($t,2),tn=en[0],nn=en[1],an=Object(d.useState)(!1),on=Object(o.a)(an,2),rn=on[0],cn=on[1],dn=Object(d.useState)(!1),ln=Object(o.a)(dn,2),sn=ln[0],un=ln[1],vn=Object(d.useState)(Object(I.Uc)(window.innerWidth)),On=Object(o.a)(vn,2),bn=On[0],jn=On[1],mn=function(){jn(Object(I.Uc)(window.innerWidth))};Object(d.useEffect)((function(){window.addEventListener("resize",mn)}),[bn]),Object(d.useEffect)((function(){if(1===it.length&&"INDIA"===(null===pt||void 0===pt?void 0:pt.country)){var e={storeid:Ve&&Ve.storeInfo&&Ve.storeInfo.id,channel:R.b.channel,service:Object(I.sb)(_n()).toString().toLowerCase(),date:""};ft(Object(T.c)({data:e,tenantId:pt.tenantId}))}var t=Object(S.f)(bt,jt,ut,rt&&rt.isAvailable,1===it.length&&"INDIA"===(null===pt||void 0===pt?void 0:pt.country),dt);return nn(t),function(){ft(Object(T.a)())}}),[]);var fn=function(e){var t;if("INDIA"!==(null===pt||void 0===pt?void 0:pt.country)){var n=Object(N.f)(e,"YYYY-MM-DD");if(ot.date===n){var a=Object(S.f)(bt,jt,ut,rt&&rt.isAvailable,1===it.length&&"INDIA"===(null===pt||void 0===pt?void 0:pt.country),dt);return nn(a),Zt(a[0].timestr),Vt({from:bt,to:jt,interval:ut}),Jt(e),Ht(Object(i.a)(Object(i.a)({},Ft),{},{error:!1,errormessage:""})),cn(!1),void un(!1)}var o={storeid:Ve&&Ve.storeInfo&&Ve.storeInfo.id,channel:R.b.channel,service:Object(I.sb)(_n()).toString().toLowerCase(),date:n};if(ft(Object(T.c)({data:o,tenantId:pt.tenantId})),Jt(e),(null===St||void 0===St||null===(t=St.periods)||void 0===t?void 0:t.length)>0){var r=St.periods[0],c=r.startEndTime,d=r.interval,l=c.from,s=c.to,u=Object(S.f)(l,s,d,rt&&rt.isAvailable,1===it.length&&"INDIA"===(null===pt||void 0===pt?void 0:pt.country),dt);Vt({from:l,to:s,interval:d}),nn(u)}Ht(Object(i.a)(Object(i.a)({},Ft),{},{error:!1,errormessage:""}))}},pn=function(e){var t=new Date,n=new Date(e.split("T")[0]);return n.getDate()===t.getDate()&&n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()},hn=function(e){var t;Zt("ASAP"===e?"ASAP":null!==(t=e)&&void 0!==t&&t.timestr?null===t||void 0===t?void 0:t.timestr:t);var n=Object(S.c)(bt,null!==e&&void 0!==e&&e.selectedDay?e:{timestr:e,selectedDay:pn(tt)?"Today":"Tomorrow"});Jt(n),cn(!1),un(!1),Ht(Object(i.a)(Object(i.a)({},Ft),{},{error:!1,errormessage:""}))};Object(d.useEffect)((function(){var e=nt;tt&&fn(new Date(tt)),function(e,t,n,a,i,o){if(e&&t){var r=Object(N.B)(t,"h:mm A","HH:mm");new Date(a).setHours(Number(null===r||void 0===r?void 0:r.split(":")[0]),Number(null===r||void 0===r?void 0:r.split(":")[1]),0)<(new Date).setHours(Number(null===n||void 0===n?void 0:n.split(":")[0]),Number(null===n||void 0===n?void 0:n.split(":")[1]),0)?o(i):o(t)}}(We,e,bt,tt,nt,hn),function(e,t,n,a,i){if(1!==e.length){var o,r={storeid:null===t||void 0===t||null===(o=t.storeInfo)||void 0===o?void 0:o.id,channel:R.b.channel,service:Object(I.sb)(n()).toString().toLowerCase(),date:""};a(Object(T.c)({data:r,tenantId:null===i||void 0===i?void 0:i.tenantId}))}}(it,Ve,_n,ft,pt)}),[]),Object(d.useEffect)((function(){var e=Object(I.mc)(We,Object(_.e)(Mt),Object(_.e)(Lt));if(Object(I.Qc)(gt)&&It)if(gt&&gt.status&&gt.status.currentStatus===he)Ht(Object(i.a)(Object(i.a)({},Ft),{},{error:!0,errormessage:Object(_.e)(_t)})),Object(I.ub)(e,Object(_.e)(_t));else{var t=new Date;if(new Date(zt).setHours(0,0,0,0)===t.setHours(0,0,0,0)){var n=Object(N.h)().add(rt.promiseTime,"minutes").format("LT");Object(N.b)(n,Qt,"h:mm A")?(Ht(Object(i.a)(Object(i.a)({},Ft),{},{error:!0,errormessage:Object(_.e)(At)})),Object(I.ub)(e,Object(_.e)(At))):k(Q,Se,ge)?En():Sn()}else k(Q,Se,ge)?En():Sn()}}),[gt,ke]);var En=function(){He({type:Te,value:{selectedData:{}}}),localStorage.setItem("tenantReducer",JSON.stringify(pt)),localStorage.setItem("selectedTile",JSON.stringify({})),Sn(),setTimeout((function(){e.history.push({pathname:"".concat(Se)})}),500)},Sn=function(){var e=Object(a.a)(c.a.mark((function e(){var t,n,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(He({type:me,value:{showScheduleOrder:!1,selectedStoreInfo:Ve&&Ve.storeInfo,changeFlow:!0}}),He({type:Ne,value:{dispositionType:Qe}}),localStorage.setItem("dispositionType",_n()),localStorage.setItem("storeInfo",Ve&&Ve.storeInfo?JSON.stringify(Ve.storeInfo):JSON.stringify({})),localStorage.setItem("currentStoreInfo",Ve&&Ve.storeInfo?JSON.stringify(Ve.storeInfo):JSON.stringify({})),He({type:Re,value:Object(I.zc)(null===Ve||void 0===Ve?void 0:Ve.storeInfo)}),He({type:je,value:{showSearchStore:!1}}),t="",n="","ASAP"===Qt||"-"===Qt?(t="ASAP",n="ASAP"):(t=Qt,n=Qt),He({type:we,value:{forceReload:!0}}),a={time:t,interval:Yt.interval,date:zt,selectedTime:Qt},null!==ct&&ct.type===_n()&&ct.store.id===Je.id&&ct.deliveryAddress===Ve.deliveryAddress){e.next=17;break}return e.next=14,Object(I.s)(Je,Object(I.sb)(Qe),ke.customerId,a,null===Ve||void 0===Ve?void 0:Ve.deliveryAddress,null===Ve||void 0===Ve?void 0:Ve.deliveryAddressLine);case 14:o=e.sent,ft(Object(y.l)("")),ft(Object(y.f)({data:o,tenantId:pt.tenantId}));case 17:ft(Object(D.a)(Object(i.a)(Object(i.a)({},mt),{},{localized:!0}))),He({type:Ie,value:{oldvalue:ct,newValue:{type:_n(),store:Je,date:a.date,time:a.time,interval:a.interval,selectedTime:a.selectedTime,deliveryAddress:null===Ve||void 0===Ve?void 0:Ve.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(ct)),localStorage.setItem("dispositionNew",JSON.stringify({type:_n(),store:Je,date:a.date,time:a.time,interval:a.interval,selectedTime:a.selectedTime,deliveryAddress:null===Ve||void 0===Ve?void 0:Ve.deliveryAddress})),Object(I.Sd)(),He({type:pe,value:{selectedDateTime:a}}),He({type:Ee,value:{selectContentTime:n}}),localStorage.setItem("dateTimeOrder",JSON.stringify(a)),localStorage.setItem("savedTimeOrder",n);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){var e={startEndTime:{from:"",to:""},interval:""};if(2===Object.keys(St||{}).length){var t,n,a,i,o=Object(I.xc)(null===(t=St[0])||void 0===t?void 0:t.periods[0],e),r=o.startEndTime,c=o.interval,d=Object(I.xc)(null===(n=St[1])||void 0===n?void 0:n.periods[0],e).startEndTime,l=r.from,s=d.to,u=Object(S.f)(l,s,c,rt&&rt.isAvailable,1===it.length&&new Date(null===(a=St[0])||void 0===a?void 0:a.date).setHours(0,0,0,0)<new Date(null===it||void 0===it?void 0:it[0]).setHours(0,0,0,0)&&"INDIA"===(null===pt||void 0===pt?void 0:pt.country),dt);if(Vt({from:l,to:s,interval:c}),nn(u),U(u,nt,hn),!St.find((function(e){return e.date===tt.split("T")[0]})))Jt(new Date(null===(i=St[0])||void 0===i?void 0:i.date))}else if(Object.keys(St||{}).length){var v,O,b,j=Object(I.xc)(null===(v=St[0])||void 0===v?void 0:v.periods[0],e),m=j.startEndTime,f=j.interval,p=m.from,h=m.to,E=Object(S.f)(p,h,f,rt&&rt.isAvailable,"INDIA"===(null===pt||void 0===pt?void 0:pt.country)&&1===it.length&&new Date(null===(O=St[0])||void 0===O?void 0:O.date).setHours(0,0,0,0)<new Date(null===it||void 0===it?void 0:it[0]).setHours(0,0,0,0),dt);if(Vt({from:p,to:h,interval:f}),nn(E),U(E,nt,hn),!St.find((function(e){return e.date===tt.split("T")[0]})))Jt(new Date(null===(b=St[0])||void 0===b?void 0:b.date))}}),[JSON.stringify(St)]);var gn=function(e){var t,n;null!==J&&void 0!==J&&null!==(t=J.current)&&void 0!==t&&t.contains(e.target)||null!==X&&void 0!==X&&null!==(n=X.current)&&void 0!==n&&n.contains(e.target)||(cn(!1),un(!1))};Object(d.useEffect)((function(){return document.addEventListener("mousedown",gn),function(){document.removeEventListener("mousedown",gn)}}),[]);var Tn=function(){He({type:je,value:{showSearchStore:!0}}),He({type:me,value:{showDisposition:!1}}),He({type:Ne,value:{dispositionType:"Pickup"}})},Nn=null===Ve||void 0===Ve||null===(G=Ve.storeInfo)||void 0===G||null===(W=G.availableServicesPerChannel)||void 0===W||null===(K=W.find((function(e){return"web"===e.channel})))||void 0===K?void 0:K.services,In=null===Nn||void 0===Nn?void 0:Nn.includes("delivery"),xn=(null===Nn||void 0===Nn||Nn.includes("pickup"),Object(I.S)(Gt(),!In)),Dn=function(){var e=Object(_.e)(wt),t=!1;return In&&(e=Object(_.e)(Rt),t=!0),{showTakeWayButton:t,message:e}},An=Dn().message;Object(d.useEffect)((function(){Object(w.j)(We,An)}),[An]);var Cn=function(){var e=Dn(),t=e.message,n=e.showTakeWayButton;return Object(M.jsxs)("div",{className:"alert-delivery-popup w-100 ".concat(n?"":"alert-without-action-button"),children:[Object(M.jsx)(C.a,{srcFile:E.a,className:"location-alert-icon"}),Object(M.jsx)("div",{className:"location-error-message",children:t}),Object(M.jsx)("div",{className:"location-error-button-section",children:n&&Object(M.jsx)(v.a,{className:"location-warning-button","data-testid":"click-handle-away",onClickHandler:Tn,children:Object(_.e)(yt)})})]})},_n=function(){var e=JSON.parse(localStorage.getItem("dispositionNew"));return We&&e?e.type:ze?"Pickup":Qe},yn=We?null===(z=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===z?void 0:z.deliveryAddress:Ve.deliveryAddress;return Object(M.jsxs)("div",{className:"scheduleOrder-form",children:[Object(M.jsx)("h3",{className:"order-type",children:Object(_.e)(ee)}),Object(M.jsxs)("div",{className:"ordertype-input-div",children:[Object(M.jsx)(O.a,{value:H(We,ze,Qe),className:"w-100"}),Object(M.jsx)("div",{className:"edit-input",children:Object(M.jsx)(b.a,{"aria-label":"Edit order type",onClickHandler:function(){var e;if(Et&&(null===Et||void 0===Et||null===(e=Et.foodLines)||void 0===e?void 0:e.length)>0){var t={flag:Ce,onConfirm:_e};Object(I.od)(He,t,De,Ae)}else He({type:fe,value:{showDisposition:!0}});He({type:me,value:{showScheduleOrder:!1}}),He({type:je,value:{showSearchStore:!1}})},"data-testid":"edit-disposition-test",children:Object(_.e)(re)})})]}),Ft&&Ft.error&&Object(M.jsxs)("div",{className:"error-container",children:[Object(M.jsx)("span",{className:"error-img"}),Ft.errormessage]}),bn&&xn&&Object(M.jsx)(Cn,{}),Object(M.jsx)("h3",{className:"order-type",children:Gt()?Object(_.e)(se):Object(_.e)(de)}),Object(M.jsxs)("div",{className:"ordertype-input-div",children:[Object(M.jsx)(O.a,{value:Gt()?yn:$e||"",className:"w-100"}),Object(M.jsx)("div",{className:"edit-input",children:Gt()?Object(M.jsx)(b.a,{"aria-label":"Edit KFC restaurant",onClickHandler:function(){var e;if(He({type:Ne,value:{dispositionType:We?JSON.parse(localStorage.getItem("dispositionNew")).type:Qe}}),Et&&(null===Et||void 0===Et||null===(e=Et.foodLines)||void 0===e?void 0:e.length)>0){var t={flag:Ce,onConfirm:ye};Object(I.od)(He,t,De,Ae)}else He({type:je,value:{showSearchStore:!0}});He({type:me,value:{showScheduleOrder:!1}})},"data-testid":"edit-location-test",children:Object(_.e)(re)}):Object(M.jsx)(b.a,{"aria-label":"Edit KFC restaurant",onClickHandler:function(){var e;if((null===Et||void 0===Et||null===(e=Et.foodLines)||void 0===e?void 0:e.length)>0){var t={flag:Ce,onConfirm:ye};Object(I.od)(He,t,De,Ae)}else{var n=Object(I.yc)(JSON.parse(localStorage.getItem("seachedLocations")));if(ze)He({type:je,value:{showSearchStore:!0,searchedPlaceNonLocalized:Ve.storeInfo.name[0].value}});else if(n){var a=n[n.length-1];He({type:je,value:{showSearchStore:!0,searchedPlaceNonLocalized:a}})}}He({type:me,value:{showScheduleOrder:!1,changeFlow:Boolean(We)}}),He({type:Ne,value:{dispositionType:_n()}})},"data-testid":"edit-store-test",children:Object(_.e)(re)})})]}),!bn&&xn&&Object(M.jsx)(Cn,{}),Object(M.jsx)("h3",{className:"order-type",children:Object(_.e)(ve)}),Object(M.jsxs)("div",{className:"schedule-date-time",children:[Object(M.jsxs)("div",{className:"schedule-date",children:[Object(M.jsx)("div",{className:"dateTitleDatePicker",children:Object(_.e)(ne)}),it&&it.length>0&&ot&&ot.date&&"INDIA"!==(null===pt||void 0===pt?void 0:pt.country)?Object(M.jsxs)(l.a.Fragment,{children:[Object(M.jsxs)("div",{ref:J,onClick:function(){return un(!sn)},"data-testid":"click-date-picker-open",className:"date-pick",children:[Object(M.jsx)(u.a,{selected:zt,showPopperArrow:!1,onChange:function(e){return fn(e)},minDate:new Date(ot.date.toString()),maxDate:new Date(it[it.length-1]),dateFormat:"MMMM d, yyyy",className:"custom-class",open:sn,readOnly:!0}),Object(M.jsx)("img",{src:h.a,className:"date-icon",id:"datePickerIcon"})]}),Object(M.jsx)("span",{className:"dropdown-img"})]}):Object(M.jsx)(l.a.Fragment,{children:Object(M.jsx)("div",{className:"time-input time-input-container",children:Object(N.f)(zt,"YYYYMMDD")===Object(N.d)("YYYYMMDD")?Object(_.e)("today"):Object(_.e)("tomorrow")})})]}),Object(M.jsxs)("div",{className:"schedule-time",children:[Object(M.jsx)("div",{className:"dateTitleDatePicker","aria-level":"1",role:"heading",tabIndex:"0",children:Object(_.e)(ie)}),Object(M.jsxs)("div",{className:B(tn),"data-testid":"time-input-handler",role:"listbox",tabIndex:"0",onKeyPress:function(){return 0!==ot.periods.length&&cn(!rn)},onClick:function(){return 0!==ot.periods.length&&cn(!rn)},children:[Object(M.jsx)("div",{className:"time-input asap-default",children:Qt}),Object(M.jsx)("img",{src:p.a,alt:" ",className:"downarrow-time-list"})]}),rn&&Object(M.jsx)("div",{ref:X,className:"schedule-time-list-container",children:Object(M.jsx)("ul",{children:!(null===tn||void 0===tn||!tn.length)&&tn.map((function(e){return Object(M.jsx)("li",{tabIndex:"0",onClick:function(){return hn(e)},onKeyPress:function(){return hn(e)},children:e.timestr})}))})})]})]}),Object(M.jsx)("div",{className:"text-center schedule-btn-div",children:Object(M.jsx)(v.a,{className:"button blackButton confirm-schedule-btn","aria-label":Object(_.e)(be),onClickHandler:function(e){Z(e,Qe),xt(!0);var t=P(Qt),n=Object(N.q)(Object(N.f)(zt,"YYYY-MM-DD")+" "+t,"YYYY-MM-DD hh:mm A"),a={storeid:Ve&&Ve.storeInfo&&Ve.storeInfo.id,channel:R.b.channel,service:Object(I.sb)(_n()).toString().toLowerCase(),futureDateTimeInEpochFormat:n,asap:Qt===L.h};ft(Object(T.k)({data:a,tenantId:pt.tenantId})),null!==Et&&void 0!==Et&&Et.id&&ft(Object(T.m)({params:{basketId:null===Et||void 0===Et?void 0:Et.id},tenantId:pt.tenantId,postBody:F(Qt,n)})),He({type:xe,value:{isLocalized:!0}})},"data-testid":"confirm-button-handler",disabled:0===ot.periods.length,children:Object(_.e)(be)})})]})}));var B=function(e){return"time-input-container time-inputbox ".concat(null!==e&&void 0!==e&&e.length?"":"disable-time-dropdown")}},872:function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var a=n(0),i=n(8),o=n(28),r=n(2),c=n.n(r),d=n(4),l=n(37),s=n(140),u=n(268),v=n(266),O=n(267),b=n(175),j=n(7),m=n(758),f=n(50),p=n(251),h=n(10),E=n(31),S=n(227),g=n(69),T=n(229),N=n(764),I=n(799),x=n(864),D=n(3),A=n(224),C=n(104),_=n(60),y=n(12),R=n(42),w=n(5),L=function(e,t,n,a,i){return Object(j.mc)(e||t||n||a||i,A.a.ribbonRedOutlined,null)};var M=function(e){var t,n,a,i=e.getCardTypeName,r=e.cardType,c=e.allowClickOnProductCard,s=e.discount,u=e.specials,v=e.exclusive,O=e.timer,p=e.cardId,M=e.customizable,k=e.getProductImageClassName,P=e.tenantData,F=e.imageName,H=e.onCardClickHandler,U=e.categoryId,B=e.dname,Y=e.availability,V=void 0===Y?[]:Y,G=e.newitem,W=e.topseller,K=e.customlabelfield,z=e.getSpecificRibbonBanner,J=e.userParams,X=e.favouriteItems,q=e.item,Q=e.classFavouriteIconActive,Z=e.getCardName,$=e.favouriteButtonClickHandler,ee=e.itemCount,te=e.classFavouriteIconInActive,ne=e.getMenuProductHeader,ae=e.veg,ie=e.servingCount,oe=e.getVegNonvegClassName,re=e.menuProductPriceClassName,ce=e.checkForBasePriceInMenu,de=e.baseprice,le=e.cardCat,se=e.displayPrice,ue=e.getPriceClassName,ve=e.menuProductDescriptionClassName,Oe=e.longDescription,be=e.updateItemQuantity,je=e.configureOptions,me=e.storeClosedData,fe=e.classesCardButton,pe=e.classEnableAddToCart,he=e.enableAddToCartButton,Ee=e.checkLoading,Se=e.menuCardBtnText,ge=e.clickHandler,Te=e.itemFoodlineId,Ne=e.openCostomizedModal,Ie=e.setOpenCostomizedModal,xe=e.filteredPreviousData,De=e.cartData,Ae=e.CARD_TYPE,Ce=e.setShowTopScrollBtn,_e=(e.FoodId,e.pricewithouttax),ye=Object(l.b)(),Re=R.a.RESET_MODGROUP_IDS_UPDATE,we=y.a.MINI_PDP_DATA,Le=y.a.FROMFLAGEDIT,Me=y.a.EDIT_CLICKED,ke=Object(d.useContext)(_.a),Pe=(ke.userOrderState,ke.userOrderStateDispatch),Fe=Object(d.useState)(!1),He=Object(o.a)(Fe,2),Ue=He[0],Be=He[1],Ye=Object(d.useState)(Object(j.Uc)(window.innerWidth)),Ve=Object(o.a)(Ye,2),Ge=Ve[0],We=Ve[1],Ke=m.a.ITEM_QUANTITY,ze=f.a.QUANTITY_ACTION,Je=Object(j.mc)(null===J||void 0===J?void 0:J.loggedIn,D.Sd,""),Xe=je.allowAddToCartButton,qe=void 0===Xe||Xe,Qe=(null!==(a=null===P||void 0===P?void 0:P.componentOptions)&&void 0!==a?a:{}).web,Ze=(Qe=void 0===Qe?{}:Qe).global,$e=(Ze=void 0===Ze?{}:Ze).showPriceWithTax,et=void 0!==$e&&$e,tt=A.a.Non_veg_dot_Icon,nt=A.a.Veg_dot_Icon,at=A.a.Product_Card_Icon,it=(A.a.ribbonRedOutlined,A.a.TimerIcon),ot=A.a.heartIcon_inactive,rt=A.a.heartIcon_active,ct=A.a.heartIcon_active_red,dt=A.a.heartIcon_inactive_red;Object(d.useEffect)((function(){window.addEventListener(D.Tc,lt)}),[Ge]);var lt=function(){We(Object(j.Uc)(window.innerWidth))},st=function(){return Object(w.jsxs)("div",{className:re(r),children:[Object(j.S)(ce(de,le),se(de,null===P||void 0===P?void 0:P.currencyConversionFactor)),Object(w.jsxs)("span",{className:ue(de,le),children:[b.MENU_PLP_CONSTANT.MENU_CARD.CURRENCY,Object(j.Yb)(V[0],_e,null===P||void 0===P?void 0:P.currencyConversionFactor,et).toFixed(2)]})]})},ut=function(){return Object(w.jsxs)("div",{className:oe(r),children:[Object(j.S)(Ge,Object(w.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(j.mc)(!ae,tt,nt)})),Object(j.S)(!Ge,Object(j.mc)(!ae,Object(h.e)(b.MENU_PLP_CONSTANT.MENU_CARD.NON_VEG),Object(h.e)(b.MENU_PLP_CONSTANT.MENU_CARD.VEG))),Object(j.S)(ie,Object(w.jsx)("div",{className:"Dot"})),b.MENU_PLP_CONSTANT.MENU_CARD.SERVES,ie]})},vt=function(){if(null!==J&&void 0!==J&&J.loggedIn)return Object(w.jsxs)("picture",{children:[Object(w.jsx)("source",{media:"(max-width: 1023px)",srcSet:Object(j.mc)("small-menu-product-card"===Z,Object(j.mc)(Array.isArray(X)&&X.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===q||void 0===q?void 0:q.id)})),Q(r),te(r)),Object(j.mc)(Array.isArray(X)&&X.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===q||void 0===q?void 0:q.id)})),ct,dt)),alt:"",className:"menu-product-save ".concat(Je),"data-testid":"fav-item-source",onClick:function(){return $()}}),Object(w.jsx)("source",{media:"(min-width: 1023px)",srcSet:Object(j.mc)(Array.isArray(X)&&X.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===q||void 0===q?void 0:q.id)})),rt,ot),alt:"",className:"menu-product-save ".concat(Je),"data-testid":"fav-item-largeScreen",onClick:function(){return $()}}),Object(w.jsx)("img",{src:Object(j.S)(Array.isArray(X),null===X||void 0===X?void 0:X.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===q||void 0===q?void 0:q.id)})))?rt:ot,alt:"",className:"menu-product-save ".concat(Je),"data-testid":"save-product-".concat(p),onClick:function(){return $()}})]})},Ot=function(){return Object(w.jsx)(g.a,{"data-testid":"product-image",className:k(r),defaultPath:Object(j.Eb)(null,P,!0),srcFile:Object(j.Eb)(F,P),onClick:function(e){return Object(j.he)(c,H,[e,p,M,U,{productName:B,productImage:F,productPrice:Object(j.Yb)(V[0],_e,null===P||void 0===P?void 0:P.currencyConversionFactor,et)}])},alt:""})};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:i(r,c,s,u,v,O),"data-testid":"click-allow-on-product-".concat(p),id:p,children:[Object(j.Sc)()&&M&&Object(w.jsx)("div",{className:"position-absolute p-2 m-1 bg-dark text-white rounded-pill",children:"Customizable"}),r!==Ae.SMALL&&Ot(),Object(w.jsx)(T.a,{src:Object(j.mc)(u,at,L(K,s,v,G,W)),className:Object(j.mc)(u,"specials-product-ribbon",Object(j.mc)(Object(j.U)(v,K),"exclusive-product-ribbon","discount-product-ribbon"))}),Object(w.jsx)("span",{className:Object(j.mc)(u,"specials-ribbon-text","discount-ribbon-text"),children:O?Object(w.jsxs)("div",{children:[Object(w.jsx)(T.a,{src:it,className:"product-timer"}),Object(w.jsx)("span",{className:"product-timer-text",children:Object(h.e)(b.MENU_PLP_CONSTANT.MENU_CARD.TIMER)})]}):z(u,s,v,G,W,K)}),Object(j.S)(!Ge,vt()),Object(w.jsxs)("div",{className:"menu-card-content","data-testid":"menu-card-content-pdp-nav",onClick:function(e){return c&&H(e,p,M,U,{productName:B,productImage:F,productPrice:Object(j.Yb)(V[0],_e,null===P||void 0===P?void 0:P.currencyConversionFactor,et)})},children:[Object(w.jsx)("div",{className:ne(r,s,u,v,{timer:O,newitem:G,topseller:W,customlabelfield:K}),children:null===B||void 0===B?void 0:B[0].value}),Ge?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"description-and-image",children:[Object(w.jsx)("div",{className:ve(r),id:"longDescription",children:Oe[0].value}),r===Ae.SMALL&&Ot()]}),Object(w.jsxs)("div",{className:"PriceVegNonveg",children:[st(),ut(),Object(w.jsx)("div",{className:"hearticonDiv",children:vt()})]})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(j.mc)(!ae,tt,nt)}),ut(),st(),Object(w.jsx)("div",{className:ve(r),id:"longDescription",children:Oe[0].value})]})]}),Object(w.jsxs)("div",{className:"quantityAddtocart ".concat(ee?"cardwithQuantity "+Je:"cardwithNoquantity"),children:[!!ee&&function(e,t,n,a){return Object(w.jsx)(N.a,{itemCount:e,itemQuantity:Ke,updateItemQuantity:t,quantityAction:ze,item:void 0,itemName:n,maxItemCountPerLineItem:a,cartItemCount:1,hideChild:!0})}(ee,be,null===B||void 0===B?void 0:B[0].value,null===P||void 0===P?void 0:P.maxItemCountPerLineItem),qe&&me&&Object(w.jsx)("div",{className:fe(ee,Je),children:ee<1?Object(w.jsxs)(S.a,{tabIndex:"0",className:pe(he,r,Ee,me),"data-testid":"add-to-cart-".concat(p),disabled:Object(I.k)(me),onClickHandler:function(e){var t;null!==(t=Se(me))&&void 0!==t&&t.enabled&&ee<=0&&ge(e,p,M,U,ee,{productName:B,productImage:F,productPrice:Object(j.Xb)(V[0],null===P||void 0===P?void 0:P.currencyConversionFactor)},Te),e.preventDefault(),e.stopPropagation()},"aria-label":(null===(t=Se(me))||void 0===t?void 0:t.btnText)+(null===B||void 0===B?void 0:B[0].value),children:[null===(n=Se(me))||void 0===n?void 0:n.btnText,Object(j.z)(me.isStoreClosed)]}):M&&Object(w.jsx)("span",{className:"edit-selection","data-testid":"edit-selection",onClick:function(){1===ee?(Pe({type:we,value:{id:null===q||void 0===q?void 0:q.mdmId,flag:Le,foodLineId:Te}}),Pe({type:Re}),Pe({type:Me,value:{cartEditClicked:!1}}),ye(Object(C.c)({tenantId:null===P||void 0===P?void 0:P.tenantId,catalogName:null===De||void 0===De?void 0:De.catalog,itemId:null===q||void 0===q?void 0:q.mdmId})),ye(Object(E.u)({showProductListingModal:!0,categorySelected:U}))):(Be(!0),Ie(!0))},children:Object(h.e)(b.MENU_PLP_CONSTANT.EDIT_SELECTIONS)})})]})]}),Object(w.jsx)("div",{children:Ne&&function(){var t;return Object(w.jsx)(x.a,{handleClose:function(){Ie(!1),Be(!1)},filteredPreviousData:xe,updateItemQuantity:be,tenantData:P,dname:B,clickHandler:ge,cardId:p,categoryId:U,itemCount:ee,availability:V,pricewithouttax:_e,imageName:F,itemFoodlineId:Te,customizable:M,setOpenCostomizedModal:Ie,openCostomizedModal:Ne,cartData:De,setShowTopScrollBtn:Ce,foodId:null===(t=e.item)||void 0===t?void 0:t.mdmId,isEditSelection:Ue,headerText:Object(j.mc)(Ue,Object(h.e)(b.MENU_PLP_CONSTANT.EDIT_QUANTITY),Object(h.e)(b.MENU_PLP_CONSTANT.SELECT_QUANTITY))})}()})]})},k=b.MENU_PLP_CONSTANT.CARD_TYPE,P=function(e,t,n,a,i,o){return e===k.LARGE?t?"menu-product-card product-card-active":"menu-product-card":e===k.MEDIUM?t?"medium-menu-product-card product-card-active":"medium-menu-product-card":e===k.SMALL?function(e,t,n,a,i){return e&&(t||n||a||i)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||n||a||i)?"small-menu-product-card product-card-active":!e&&(t||n||a||i)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card"}(t,n,a,i,o):e===k.CAROUSAL?"carousal-menu-product-card":void 0},F=function(e){return e===k.LARGE?"menu-product-image":e===k.MEDIUM?"medium-menu-product-image":e===k.SMALL?"small-menu-product-image":e===k.CAROUSAL?"carousal-menu-product-image":void 0},H=function(e,t,n,a,i){var o=i.timer,r=i.newitem,c=i.topseller,d=i.customlabelfield;return e===k.LARGE?"menu-product-header":e===k.MEDIUM?"medium-menu-product-header":e===k.SMALL?t||n||a||o||r||c||d?"small-menu-product-header-shift":"small-menu-product-header":e===k.CAROUSAL?"carousal-menu-product-header":void 0},U=function(e){return e===k.LARGE?"menu-vegOrNonVeg":e===k.MEDIUM?"medium-menu-vegOrNonVeg":e===k.SMALL?"small-menu-vegOrNonVeg":e===k.CAROUSAL?"carousal-menu-vegOrNonVeg":void 0},B=function(e){return e===k.LARGE?"menu-product-price":e===k.MEDIUM?"medium-menu-product-price":e===k.SMALL?"small-menu-product-price":e===k.CAROUSAL?"carousal-menu-product-price":""},Y=function(e,t){return e&&"recommended"!==t?"availableprice-withbaseprice":""},V=function(e){return e===k.LARGE?"menu-product-description":e===k.MEDIUM?"medium-menu-product-description":e===k.SMALL?"small-menu-product-description":e===k.CAROUSAL?"carousal-menu-product-description":""},G=function(e,t){return e?"cardButton "+t:"cardButtonOnly cardButtonOnly-in "+t},W=function(e){var t=m.a.ADD_TO_CART,n=Object(h.e)(t),a="",i=!0;return null!==e&&void 0!==e&&e.isStoreNone?(n="Store Closed",a="no-store-selected",i=!1):null!==e&&void 0!==e&&e.isStoreClosed&&(n="Store Closed",a="store-closed",i=!1),{btnText:n,className:a,enabled:i}},K=function(e,t,n,a){return e?"".concat(function(e,t){var n,a="button activeBtn";switch(a+=t?" blackButton":" redButton",e){case k.LARGE:n="menu-cart-button";break;case k.MEDIUM:n="medium-menu-cart-button";break;case k.SMALL:n="small-menu-cart-button";break;case k.CAROUSAL:n="carousal-menu-cart-button";break;default:n=""}return"".concat(a," ").concat(n)}(t,n)," ").concat(W(a).className):"button btn-black medium-menu-cart-button"},z=function(e,t,n,a,i,o){return o?Object(w.jsx)("span",{"data-testid":"exclusive-id",children:o}):e||(t||(n?Object(w.jsx)("span",{"data-testid":"exclusive-id",children:Object(h.e)(b.MENU_PLP_CONSTANT.MENU_CARD.EXCLUSIVE_DEAL)}):a?Object(w.jsx)("span",{"data-testid":"new-id",children:Object(h.e)(b.MENU_PLP_CONSTANT.MENU_CARD.NEW)}):Object(j.mc)(i,Object(w.jsx)("span",{"data-testid":"topseller-id",children:Object(h.e)(b.MENU_PLP_CONSTANT.MENU_CARD.TOP_SELLER)}),null)))},J=function(e){return e===k.CAROUSAL?u.a:v.a},X=function(e){return e===k.CAROUSAL?s.a:O.a},q=function(e,t){return Boolean(e)&&"recommended"!==t},Q=function(e,t){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("span",{className:"price-display",children:"old price"}),Object(w.jsxs)("span",{className:"base-price-menu",children:[b.MENU_PLP_CONSTANT.MENU_CARD.CURRENCY,(parseFloat(e)/t).toFixed(2)]})]})};t.b=function(e){var t,n=e.cardId,r=e.cardType,s=e.discount,u=e.specials,v=e.exclusive,O=e.timer,b=e.availability,m=void 0===b?[]:b,h=e.tenantData,S=e.customizable,g=e.categoryId,T=e.activeId,N=(e.openAlertModal,e.addFavourite),I=e.removeFavourite,x=e.item,D=e.isHidden,A=e.cardFor,C=e.setShowTopScrollBtn,_=e.userParams,y=f.a.QUANTITY_ACTION,R=Object(l.b)(),L=null===h||void 0===h?void 0:h.tenantId,Z=h.componentOptions,$=(void 0===Z?{}:Z).PlpProductCard,ee=(void 0===$?{}:$).allowClickOnProductCard,te=void 0!==ee&&ee,ne=Object(l.c)((function(e){return e.cartReducer})),ae=Object(l.c)((function(e){var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),ie=Object(j.zc)(ne),oe=ie.cartData,re=void 0===oe?{}:oe,ce=ie.isAddItemLoading,de=void 0!==ce&&ce,le=Object(d.useState)(0),se=Object(o.a)(le,2),ue=se[0],ve=se[1],Oe=Object(d.useState)(null),be=Object(o.a)(Oe,2),je=be[0],me=be[1],fe=Object(d.useState)(0),pe=Object(o.a)(fe,2),he=pe[0],Ee=pe[1],Se=null===ae||void 0===ae?void 0:ae.id,ge=Object(l.c)((function(e){var t;return Object(j.Dc)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),Te=Object(d.useState)(!0),Ne=Object(o.a)(Te,2),Ie=Ne[0],xe=Ne[1],De=Object(d.useState)("product"),Ae=Object(o.a)(De,2),Ce=Ae[0],_e=Ae[1],ye=(null!==(t=Object(l.c)((function(e){return e.menuReducer})))&&void 0!==t?t:{}).flatResponse,Re=(ye=void 0===ye?{}:ye).productMapById,we=void 0===Re?{}:Re,Le=Object(d.useState)(""),Me=Object(o.a)(Le,2),ke=Me[0],Pe=Me[1],Fe=Object(d.useState)(0),He=Object(o.a)(Fe,2),Ue=He[0],Be=He[1],Ye=Object(d.useState)([]),Ve=Object(o.a)(Ye,2),Ge=Ve[0],We=Ve[1],Ke=Object(d.useState)(!1),ze=Object(o.a)(Ke,2),Je=ze[0],Xe=ze[1],qe=Object(d.useState)(""),Qe=Object(o.a)(qe,2),Ze=Qe[0],$e=Qe[1];Object(d.useEffect)((function(){A&&_e(A)}),[A]),Object(d.useEffect)((function(){var e=Object(j.Qc)(re)?Object(j.Lb)(n,re):{},t=Object(j.mc)(Object(j.Qc)(e),e.count,0),a=Object(j.mc)(Object(j.Qc)(e),e.matchedItemFoodLineId,""),i=Object(j.mc)(Object(j.Qc)(e),e.entriesCount,0),o=Object(j.mc)(Object(j.Qc)(e),e.itemUnitPrice,"");ve(t),me(a),Ee(i),Be(o)}),[re,n]);var et=Object(d.useCallback)((function(){Pe(P(r,te,s,u,v,O))}));Object(d.useEffect)((function(){et()}),[et]);var tt=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a,i){var o,r,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(j.Ac)(null===(o=a[0])||void 0===o?void 0:o.price),d={mdmId:n.mdmId,id:n.id,name:n.name,imageName:n.imageName,description:n.longDescription,quantity:1,isCustomized:n.customizable,price:r/(null===h||void 0===h?void 0:h.currencyConversionFactor),additionalProperties:n.additionalProperties},e.next=4,N(t,d,i);case 4:return e.next=6,R(Object(E.u)({showProductListingModal:!1,categorySelected:g}));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){xe(!0)}),[ue]);var nt=function(e){if(null!==re&&void 0!==re&&re.id){var t=null===re||void 0===re?void 0:re.foodLines.filter((function(t){var n;return(null===t||void 0===t||null===(n=t.item)||void 0===n?void 0:n.id)===e}));We(t)}$e(e),Xe(!0)},at=Object(j.S)(de,T===n);return!D&&Object(w.jsx)(M,Object(a.a)(Object(a.a)({},e),{},{getCardTypeName:P,"data-testid":"MenuPlpTestId",allowClickOnProductCard:te,getProductImageClassName:F,getSpecificRibbonBanner:z,favouriteItems:ge,classFavouriteIconActive:J,getCardName:ke,favouriteButtonClickHandler:function(){Object(j.S)(Array.isArray(ge),null===ge||void 0===ge?void 0:ge.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===x||void 0===x?void 0:x.id)})))?I(L,Se,x.id):tt(L,x,m,Se)},itemCount:ue,classFavouriteIconInActive:X,getMenuProductHeader:H,getVegNonvegClassName:U,menuProductPriceClassName:B,checkForBasePriceInMenu:q,cardCat:Ce,displayPrice:Q,getPriceClassName:Y,menuProductDescriptionClassName:V,updateItemQuantity:function(e,t){if(_.localized){var n=Number((Ue/(null===h||void 0===h?void 0:h.currencyConversionFactor)).toFixed(2)),a={foodName:null===x||void 0===x?void 0:x.name,foodItemId:null===x||void 0===x?void 0:x.mdmId,cartPrice:n,modifiers:[],quantity:ue,foodLineId:je},i=Object(p.a)({cartId:null===re||void 0===re?void 0:re.id},null===h||void 0===h?void 0:h.tenantId,void 0,we,void 0,R,void 0).itemQuantityHandler;t===y.Increase?S&&ue>=1?nt(null===a||void 0===a?void 0:a.foodItemId):(!S&&xe(!1),i(a,y.Increase)):he>1?nt(null===a||void 0===a?void 0:a.foodItemId):(xe(!1),i(a,y.Decrease))}},classesCardButton:G,classEnableAddToCart:K,enableAddToCartButton:Ie,checkLoading:at,menuCardBtnText:W,itemFoodlineId:je,openCostomizedModal:Je,filteredPreviousData:Ge,setOpenCostomizedModal:Xe,cartData:re,CARD_TYPE:k,setShowTopScrollBtn:C,FoodId:Ze}))}},883:function(e,t,n){"use strict";t.a={PRODUCT_LISTING_DATA:"productListingData",SEARCHOURMENU:"searchMenu",GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"}},915:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));t.c={questionForUs:"questionForUs",loveToHearFromYou:"loveToHearFromYou",wantToKnow:"wantToKnow",wantToKnowPlaceholder:"wantToKnowPlaceholder",letUsKnow:"letUsKnow",contactInfoTitle:"contactInfoTitle",firstNamePlaceholder:"firstNamePlaceholder",lastNamePlaceHolder:"lastNamePlaceHolder",phonePlaceholder:"phonePlaceholder",emailPlaceholder:"emailPlaceholder",cancelButtonText:"cancelButtonText",submitButtonText:"submitButtonText",recaptchaLabel:"recaptchaLabel",haveQuestion:"haveQuestion",enterQuestionPlaceholder:"enterQuestionPlaceholder",refineItemsHeader:"refineItemsHeader",searchResultHeader:"searchResultHeader",selectATopic:"selectATopic",pleaseSelect:"pleaseSelect",popoverDoneButton:"popoverDoneButton",feedbackSuccess:"feedbackSuccess",feedbackSuccessMessage:"feedbackSuccessMessage",feedbackSuccessOk:"feedbackSuccessOk",feedbackHelpText:"feedbackHelpText",firstNameHelpText:"firstNameHelpText",lastNameHelpText:"lastNameHelpText",phoneHelpText:"phoneHelpText",emailHelpText:"emailHelpText",mandatorynote:"mandatorynote",Australia:"Australia"};var a={MEDIA_ENQUIRY:"Media Enquiry",POSTCODE:"postcode",ORDER_NUMBER:"ordernumber",SORTVISIT:"sortvisit",ORDER_DATE:"orderdate",VISITEDDATE:"visiteddate",DETAILSAREA:"detailsArea",PHONENUMBER:"phonenumber",EMAIL:"emailaddress",HELPDD:"helpDDOptions",ENQUIRYDD:"enquiryDDOptions",SPECIFICDD:"specificDDOptions",ADDRESSNAME:"addressName",FULLNAME:"fullname",ENQUIRY_DETAILS:"enquirydetails",PUBLICATION_DETAILS:"publicationdetails",PHONE:"phone",EMAILID:"email",MESSAGE:"message",CONFIRMATION:"confirmation",THANKSMESSAGE:"thanksMessage",NO:"No",SUCCESSRESPONSE:201,DDSELECTONE:"- Select One -",APPENQUIRY:"KFC App Enquiry"},i={FIRSTNAME:"firstName",CALLNATURE:"callNature",CATEGORY:"category",SUBCODE:"subcode",DESCRIPTION:"description",PHONE:"phone",EMAIL:"email",STOREID:"storeID",TYPEOFVISIT:"typeOfVisit",ORDER_NUMBER:"orderNumber",VISITDATE:"visitDate",LANGUAGE:"language"}},919:function(e,t,n){"use strict";n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return j})),n.d(t,"m",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"d",(function(){return E})),n.d(t,"l",(function(){return S})),n.d(t,"h",(function(){return g})),n.d(t,"k",(function(){return T})),n.d(t,"c",(function(){return N}));var a=n(0),i=n(3),o=n(7),r=n(20),c=n(810),d={tenantId:null,currencyCode:null,currencySymbol:null,addHope:null,carryBag:null,currencyConversionFactor:null,pastOrderDateformat:"",pastOrderTimeFormat:"",storeSearch:null,driveTime:null,buffertimepmpickup:null,buffertimepmdelivery:null,operatingTime:null,userStatus:null,helpContantData:null,allStoresDetails:null,currentStoresDetails:{},operatingTimeFromStoreReducer:"",pickupOrderAvailableCollectionPoints:[],savedAddresses:null,paymentType:null,additionalChargeLines:null,customer:null,customerId:null,deliveryAddress:null,deliveryDetails:null,deliveryPartner:null,foodLines:null,orderId:null,displayOrderId:null,fulfillmentDateTime:null,orderDateOn:null,orderTime:null,displayOrderTime:null,displayFormatOrderTime:null,displayTodayDate:null,posOrderId:null,userEmail:null,userPhone:null,service:null,status:null,orderStatus:null,orderStatusChangedAt:null,sameOrderStatusMaintainLast30Mins:null,store:null,storeName:null,phoneNumber:"",phoneNumberFormat:null,storeTimeZoneIANA:null,isContactless:!1,filteredFoodLines:null,orderedItemDetails:null,orderingDateTime:null,orderingDate:"",orderingTime:"",fullAddressDetails:"",instruction:"",addressLines:"",taxLines:[],additionalCharges:[],subTotal:0,discountTotal:0,total:null,inclusiveTaxTotal:"",tenders:null,paymentReferences:null,taxTotal:null,orderAcceptedLoading:!1,requestedTimeStamp:null,requestedDateTime:null,orderDateTimeInEpoch:null,oldOrderId:null,postOrderDetails:{},deliveryOrEstimatedOrCollectAtTime:null,storeOperatingTime:null,isExternalTrackOrder:!1,dispatch:null,isMobileView:Object(o.Uc)(window.innerWidth),discountLines:null,dispatchDeliveryOrderTrackerTimer:null,dispatchGetOrderStatusTimer:null,displayStagedOrAcceptedPage:!0,displayDeliveryOrderTrackerPage:!1,retryCountForGetOrderStatus:0,retryCountForGetDeliveryOrderTrackingStatus:0,isAnalyticsUpdated:!1,isDeliveryOrderSentPOSCompleted:!1,orderSummaryInfoDetailsShowInAccordion:!1,orderSummaryInfoDetailsOpenAccordion:!1,isOpenOrderSummaryDirectionMap:!1,isOpenOrderSummarySaveYourOrderCheckoutFaster:!1,isOpenSaveDeliveryAddressModal:!1,savedAddressSucess:!1,saveFavoriteSummarySucess:!1,orderSummarySaveYourOrderCompleted:!1,orderSummarySaveOrderDetails:{value:"",errorMessage:"",error:!1},isBasketsCreated:!1,isGetStoreStatus:!1,isShowPickupOrderCancelModal:!1,pickupCancelOrder:!1,isShowPickupOrderCheckReadyToPrepareModal:!1,isPickupOrderUserConfirmedToCheckIn:!1,isShowPickupOrderStoreClosedModal:!1,isShowPickupOrderAlreadyCheckInModal:!1,selectedPickupOrderCollectionMethod:null,showStoreDirectinPanelInOrderSummaryInfoDetails:!1,showStoreHoursPanelInOrderSummaryInfoDetails:!1,item:[],addHopeDataExistsId:"",carryBagDataExistsId:"",addHopeDataPrice:"",carryBagDataPrice:"",pickupClosedInfoModal:!1,pickupClosingSoonModal:!1,showCombinedDiscount:!0},l=function(e){switch(Object(o.jc)()){case i.H.IN:return"0"===(null===e||void 0===e?void 0:e.posOrderId)?"":null===e||void 0===e?void 0:e.posOrderId;case i.H.AU:return 0===(null===e||void 0===e?void 0:e.referenceNumber)?"":null===e||void 0===e?void 0:e.referenceNumber}return null===e||void 0===e?void 0:e.id},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object(o.S)(null===e||void 0===e?void 0:e.length,null===t||void 0===t?void 0:t.length)?null===e||void 0===e?void 0:e.find((function(e){var a,o,r,c,d,l,s,u,v,O,b,j,m,f,p,h,E,S,g;return(null===n||void 0===n?void 0:n.length)>0&&(null===i.Cc||void 0===i.Cc||null===(a=i.Cc.CREDIT_CARD)||void 0===a?void 0:a.toLowerCase())===(null===t||void 0===t||null===(o=t[0])||void 0===o||null===(r=o.type)||void 0===r?void 0:r.toLowerCase())?(null===e||void 0===e||null===(c=e.fields)||void 0===c||null===(d=c.title)||void 0===d?void 0:d.toLowerCase())===(null===n||void 0===n||null===(l=n[0])||void 0===l||null===(s=l.paymentInstrumentType)||void 0===s?void 0:s.toLowerCase())||(null===e||void 0===e||null===(u=e.fields)||void 0===u||null===(v=u.orderServName)||void 0===v?void 0:v.toLowerCase())===(null===n||void 0===n||null===(O=n[0])||void 0===O||null===(b=O.paymentInstrumentType)||void 0===b?void 0:b.toLowerCase()):(null===e||void 0===e||null===(j=e.fields)||void 0===j||null===(m=j.title)||void 0===m?void 0:m.toLowerCase())===(null===t||void 0===t||null===(f=t[0])||void 0===f||null===(p=f.type)||void 0===p?void 0:p.toLowerCase())||(null===e||void 0===e||null===(h=e.fields)||void 0===h||null===(E=h.orderServName)||void 0===E?void 0:E.toLowerCase())===(null===t||void 0===t||null===(S=t[0])||void 0===S||null===(g=S.type)||void 0===g?void 0:g.toLowerCase())})):{}},u=function(e){var t=e.orderReducer,n=e.postOrderReducer;return v(n)||O(t)},v=function(e){var t,n;return(null===e||void 0===e?void 0:e.orderAccepted)&&(null===Object||void 0===Object||null===(t=Object.keys(null===e||void 0===e?void 0:e.orderAccepted))||void 0===t?void 0:t.length)>0&&Object(o.gd)(null===e||void 0===e||null===(n=e.orderAccepted)||void 0===n?void 0:n.id)},O=function(e){var t,n,a;return(null===e||void 0===e||null===(t=e.pastOrderResponse)||void 0===t?void 0:t.length)>0&&(null===e||void 0===e||null===(n=e.pastOrderResponse)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.id)},b=function(e){var t;return function(e){var t,n,a,i,o;return(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.order)&&(null===Object||void 0===Object||null===(n=Object.keys(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.order))||void 0===n?void 0:n.length)&&(null===e||void 0===e||null===(i=e.response)||void 0===i||null===(o=i.order)||void 0===o?void 0:o.id)}(e)?null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.order:null},j=function(e){var t,n=e.postOrderReducer,a=void 0===n?{}:n,i=e.orderReducer,o=void 0===i?{}:i,r=e.orderDetails,c=void 0===r?{}:r,d=e.isCheckOrderDetails,l=void 0===d||d,s=function(e){return v(e)?null===e||void 0===e?void 0:e.orderAccepted:null}(a);null===s&&(s=function(e){var t;return O(e)?null===e||void 0===e||null===(t=e.pastOrderResponse)||void 0===t?void 0:t[0]:null}(o),null===s&&(s=b(o),l&&null===s&&(s=null!==c&&void 0!==c&&c.postOrderDetails&&null!==(t=Object.keys(null===c||void 0===c?void 0:c.postOrderDetails))&&void 0!==t&&t.length?null===c||void 0===c?void 0:c.postOrderDetails:{})));return s||{}},m=function(e){var t,n,a=e.props,i=e.dispatch,o=e.tenantReducer,r=void 0===o?{}:o,c=e.isExternalTrackOrder,d=void 0!==c&&c,l=e.dispositionPaymentPage,s=e.updateSetOrderDetails,u=r.tenantId,v=r.currencyCode,O=r.currencySymbol,b=r.addHope,j=r.carryBag,m=r.currencyConversionFactor,f=r.pastOrderDateformat,p=r.pastOrderTimeFormat,h=r.storeSearch;s({props:a,dispatch:i,tenantId:u,currencyCode:v,currencySymbol:O,addHope:b,carryBag:j,currencyConversionFactor:m,pastOrderDateformat:f,pastOrderTimeFormat:p,isExternalTrackOrder:d,storeSearch:void 0===h?{}:h,driveTime:r.driveTime,buffertimepmpickup:r.buffertimepmpickup,buffertimepmdelivery:r.buffertimepmdelivery,operatingTime:null===l||void 0===l||null===(t=l.store)||void 0===t||null===(n=t.summary)||void 0===n?void 0:n.timings})},f=function(e){var t=e.helpReducer;(0,e.updateSetOrderDetails)({helpContantData:Object(o.Kb)((null===t||void 0===t?void 0:t.helpResponse)||null)})},p=function(e){var t=e.appStateReducer;(0,e.updateSetOrderDetails)({userStatus:null===t||void 0===t?void 0:t.userStatus})},h=function(e){var t=e.profileReducer,n=e.orderDetails;(0,e.updateSetOrderDetails)({favouriteOrders:null===t||void 0===t?void 0:t.favouriteOrders,savedAddresses:null===t||void 0===t?void 0:t.savedAddresses,orderSummarySaveYourOrderCompleted:E(n,null===t||void 0===t?void 0:t.favouriteOrders)})},E=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=n||(null===e||void 0===e?void 0:e.favouriteOrders);return(null===e||void 0===e||null===(t=e.userStatus)||void 0===t?void 0:t.loggedIn)&&-1!==(null===a||void 0===a?void 0:a.findIndex((function(t){return(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.orderId)})))},S=function(e){var t,n,a,i,o,r,c,d,l=e.storesReducer,s=void 0===l?{}:l,u=e.updateSetOrderDetails,v=null!==s&&void 0!==s&&null!==(t=s.storesWithStatus)&&void 0!==t&&t.length?null===s||void 0===s||null===(n=s.storesWithStatus)||void 0===n?void 0:n[0]:{};u({allStoresDetails:null!==s&&void 0!==s&&null!==(a=s.allStores)&&void 0!==a&&a.length?null===s||void 0===s?void 0:s.allStores:[],currentStoresDetails:v,operatingTimeFromStoreReducer:null!==(i=Object.keys(v))&&void 0!==i&&i.length?null===v||void 0===v||null===(o=v.summary)||void 0===o||null===(r=o.timings)||void 0===r?void 0:r.operatingHours:"",pickupOrderAvailableCollectionPoints:null!==(c=Object.keys(v))&&void 0!==c&&c.length?null===v||void 0===v||null===(d=v.summary)||void 0===d?void 0:d.availableCollectionPoints:null})},g=function(e){var t,n=e.orderReducer,i=void 0===n?{}:n,o=e.paymentsContentReducer,r=void 0===o?{}:o,c=e.orderDetails,d=e.updateSetOrderDetails,l=null===i||void 0===i||null===(t=i.response)||void 0===t?void 0:t.order;d(Object(a.a)({},N({orderReducerCreateOrderResponse:l,paymentsContentReducer:r,orderDetails:c})))},T=function(e){var t,n=e.postOrderReducer,i=void 0===n?{}:n,r=e.orderReducer,d=void 0===r?{}:r,l=e.paymentsContentReducer,u=void 0===l?{}:l,v=e.isCheckOrderDetails,O=void 0===v||v,b=e.orderDetails,m=e.updateSetOrderDetails,f=j({postOrderReducer:i,orderReducer:d,isCheckOrderDetails:O}),p=b.orderStatus,h=b.service,E=b.retryCountForGetDeliveryOrderTrackingStatus,S=b.tenders,g=b.paymentReferences;(Object(c.c)(f)!==p?m(Object(a.a)({},N({postOrPastOrderDetails:f,paymentsContentReducer:u,orderDetails:b}))):Object(o.Jc)(h)&&!Object(c.s)(f)&&m({deliveryPartner:null===f||void 0===f?void 0:f.deliveryPartner,deliveryDetails:null===f||void 0===f?void 0:f.deliveryDetails,retryCountForGetDeliveryOrderTrackingStatus:E+1,fullAddressDetails:A(null===f||void 0===f?void 0:f.deliveryAddress)}),S!==(null===f||void 0===f?void 0:f.tenders)||g!==(null===f||void 0===f?void 0:f.paymentReferences))&&m({tenders:null===f||void 0===f?void 0:f.tenders,paymentReferences:null===f||void 0===f?void 0:f.paymentReferences,paymentType:s(null===u||void 0===u||null===(t=u.tendersContent)||void 0===t?void 0:t.items,null===f||void 0===f?void 0:f.tenders,null===f||void 0===f?void 0:f.paymentReferences)})},N=function(e){var t,n=e.postOrPastOrderDetails,a=void 0===n?{}:n,i=e.orderReducerCreateOrderResponse,r=void 0===i?{}:i,c=e.paymentsContentReducer,d=void 0===c?{}:c,l=e.orderDetails,u=Object(o.fd)(a)?a:r,v=D({orderDetailsFromReducer:u,orderDetails:l});return v.postOrderDetails=a,v.paymentType=s(null===d||void 0===d||null===(t=d.tendersContent)||void 0===t?void 0:t.items,null===u||void 0===u?void 0:u.tenders,null===u||void 0===u?void 0:u.paymentReferences),v},I=function(e){var t=e.storeTimeZoneIANA,n=e.estimatedDeliveryTime,a=e.orderTime,o=e.format,c=void 0===o?null===i.O||void 0===i.O?void 0:i.O.H_MM_A:o;return t?Object(r.t)(n||a,t,c):Object(r.s)(n||a,c)},x=function(e){var t=e.storeTimeZoneIANA,n=e.fulfillmentDateTime,a=e.pastOrderDateformat;return t?Object(r.t)(n,t,a):Object(r.s)(n,a)},D=function(e){var t,n,a,d,s,u,v,O,b,j,m,f,p,h,E,S,g,T,N=e.orderDetailsFromReducer,D=e.orderDetails,C=void 0===D?{}:D,_={additionalChargeLines:null===N||void 0===N?void 0:N.additionalChargeLines,customerId:null===N||void 0===N||null===(t=N.customer)||void 0===t?void 0:t.id,customer:null===N||void 0===N?void 0:N.customer,deliveryAddress:null===N||void 0===N?void 0:N.deliveryAddress,deliveryDetails:null===N||void 0===N?void 0:N.deliveryDetails,deliveryPartner:null===N||void 0===N?void 0:N.deliveryPartner,foodLines:null===N||void 0===N?void 0:N.foodLines,orderId:null===N||void 0===N?void 0:N.id,displayOrderId:l(N),fulfillmentDateTime:null===N||void 0===N?void 0:N.fulfillmentDateTime,fulfillmentDateTimeFormatted:Object(r.t)(null===N||void 0===N?void 0:N.fulfillmentDateTime,null===N||void 0===N||null===(n=N.store)||void 0===n?void 0:n.timeZoneIANA),orderTime:Object(r.z)(null===N||void 0===N?void 0:N.fulfillmentDateTime),displayOrderTime:Object(o.nc)(null===N||void 0===N?void 0:N.fulfillmentDateTime),displayFormatOrderTime:Object(r.f)(Object(r.z)(null===N||void 0===N?void 0:N.fulfillmentDateTime),null===C||void 0===C?void 0:C.pastOrderTimeFormat),displayTodayDate:Object(r.f)(new Date,null===C||void 0===C?void 0:C.pastOrderDateformat),posOrderId:null===N||void 0===N?void 0:N.posOrderId,userEmail:null===N||void 0===N||null===(a=N.customer)||void 0===a?void 0:a.email,userPhone:(null===N||void 0===N||null===(d=N.customer)||void 0===d?void 0:d.phoneNumber)||(null===N||void 0===N||null===(s=N.customer)||void 0===s?void 0:s.phone),service:null===N||void 0===N?void 0:N.service,status:null===N||void 0===N?void 0:N.status,orderStatus:Object(c.c)(N),orderStatusChangedAt:Object(c.b)({orderDetails:C,orderDetailsFromReducer:N}),sameOrderStatusMaintainLast30Mins:Object(c.h)({orderDetails:C,orderDetailsFromReducer:N}),store:null===N||void 0===N?void 0:N.store,storeName:null===N||void 0===N||null===(u=N.store)||void 0===u?void 0:u.name,phoneNumber:null===N||void 0===N||null===(v=N.store)||void 0===v?void 0:v.phoneNumber,phoneNumberFormat:Object(o.M)(null===N||void 0===N||null===(O=N.store)||void 0===O?void 0:O.phoneNumber),storeTimeZoneIANA:null===N||void 0===N||null===(b=N.store)||void 0===b?void 0:b.timeZoneIANA,storeOperatingTime:null===N||void 0===N||null===(j=N.store)||void 0===j?void 0:j.timings,deliveryOrEstimatedOrCollectAtMonthDate:I({estimatedDeliveryTime:null===N||void 0===N||null===(m=N.deliveryDetails)||void 0===m?void 0:m.estimatedDeliveryTime,orderTime:null===N||void 0===N?void 0:N.fulfillmentDateTime,storeTimeZoneIANA:null===N||void 0===N||null===(f=N.store)||void 0===f?void 0:f.timeZoneIANA,format:i.O.MMMM_D}),deliveryOrEstimatedOrCollectAtTime:I({estimatedDeliveryTime:null===N||void 0===N||null===(p=N.deliveryDetails)||void 0===p?void 0:p.estimatedDeliveryTime,orderTime:null===N||void 0===N?void 0:N.fulfillmentDateTime,storeTimeZoneIANA:null===N||void 0===N||null===(h=N.store)||void 0===h?void 0:h.timeZoneIANA}),orderDateOn:x({fulfillmentDateTime:null===N||void 0===N?void 0:N.fulfillmentDateTime,storeTimeZoneIANA:null===N||void 0===N||null===(E=N.store)||void 0===E?void 0:E.timeZoneIANA,pastOrderDateformat:null===C||void 0===C?void 0:C.pastOrderDateformat}),isContactless:null===N||void 0===N?void 0:N.isContactless,filteredFoodLines:Object(o.yb)(null===N||void 0===N?void 0:N.foodLines,null===C||void 0===C?void 0:C.addHope,null===C||void 0===C?void 0:C.carryBag),orderedItemDetails:null===N||void 0===N?void 0:N.orderedItemDetails,orderingDateTime:null===N||void 0===N?void 0:N.orderingDateTime,orderingDateTimeFormatted:Object(r.t)(null===N||void 0===N?void 0:N.orderingDateTime,null===N||void 0===N||null===(S=N.store)||void 0===S?void 0:S.timeZoneIANA),orderingDate:Object(o.mb)(null===N||void 0===N?void 0:N.orderingDateTime),orderingTime:Object(o.nc)(null===N||void 0===N?void 0:N.orderingDateTime),fullAddressDetails:A(null===N||void 0===N?void 0:N.deliveryAddress),instruction:null===N||void 0===N?void 0:N.instruction,addressLines:null===N||void 0===N||null===(g=N.store)||void 0===g||null===(T=g.address)||void 0===T?void 0:T.addressLines,taxLines:null===N||void 0===N?void 0:N.taxLines,additionalCharges:null===N||void 0===N?void 0:N.additionalChargeLines,subTotal:null===N||void 0===N?void 0:N.subTotal,discountLines:null===N||void 0===N?void 0:N.discountLines,discountTotal:null===N||void 0===N?void 0:N.discountTotal,total:(null===N||void 0===N?void 0:N.total)||(null===N||void 0===N?void 0:N.amount),inclusiveTaxTotal:null===N||void 0===N?void 0:N.inclusiveTaxTotal,tenders:null===N||void 0===N?void 0:N.tenders,paymentReferences:null===N||void 0===N?void 0:N.paymentReferences,taxTotal:null===N||void 0===N?void 0:N.taxTotal,orderAcceptedLoading:(null===N||void 0===N?void 0:N.orderAcceptedLoading)||!1,requestedTimeStamp:null===N||void 0===N?void 0:N.requestedTimeStamp,requestedDateTime:null===N||void 0===N?void 0:N.requestedDateTime,orderDateTimeInEpoch:null===N||void 0===N?void 0:N.orderDateTimeInEpoch,isOrderSavedAsFavorite:!1,favoriteOrderName:null};return null!==(null===C||void 0===C?void 0:C.orderId)&&null!==(null===N||void 0===N?void 0:N.id)&&(null===C||void 0===C?void 0:C.orderId)!==(null===N||void 0===N?void 0:N.id)&&(_.oldOrderId=null===N||void 0===N?void 0:N.id),_},A=function(e){if(Object(o.fd)(e)){var t=e.addressLines,n=e.city,a=e.state,i=e.country,r=e.pinCode,c=Object(o.Cc)(r),d=Object(o.Cc)(n),l=Object(o.Cc)(a),s=Object(o.Cc)(i),u=null===t||void 0===t?void 0:t.filter((function(e){return e})).join(", ");return"".concat(u).concat(d).concat(l).concat(c).concat(s)}return null}},921:function(e,t,n){"use strict";n.d(t,"n",(function(){return b})),n.d(t,"c",(function(){return j})),n.d(t,"h",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"o",(function(){return E})),n.d(t,"p",(function(){return S})),n.d(t,"q",(function(){return g})),n.d(t,"e",(function(){return T})),n.d(t,"b",(function(){return N})),n.d(t,"g",(function(){return I})),n.d(t,"a",(function(){return x})),n.d(t,"f",(function(){return D})),n.d(t,"m",(function(){return A})),n.d(t,"i",(function(){return C})),n.d(t,"j",(function(){return _}));var a=n(8),i=n(2),o=n.n(i),r=(n(236),n(24)),c=n(281),d=n(14),l=(n(10),n(18),n(757),n(789),n(779)),s=(n(20),n(7)),u=n(3),v=n(11),O=n(845),b=(n(5),l.a.HH_MM,l.a.H_MM_A,u.bb.DELIVERY,u.Wc.MENU_PAGE,u.Wc.HELP,v.a.DELIVERY_FEE,v.a.RESTAURANT_HANDLING_CHARGE,v.a.HOURS_TEXT,function(){var e=Object(a.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.registerEvent("signOutSuccess",{"%event%":"signOutSuccess","%userID%":t||"NA"},s.lb);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),j=function(){for(var e=[],t=1;t<=31;t++)e.push(t);return e},m=["January","February","March","April","May","June","July","August","September","October","November","December"],f=function(){for(var e=(new Date).getFullYear(),t=[],n=e-15;n>=e-122;n--)t.push(n);return t},p=function(e){var t=u.Cb.test(e.key);return t||e.preventDefault(),t},h=function(e){var t=u.uc.test(e.key);return t||e.preventDefault(),t},E=function(e){return/^(?=.*[a-zA-Z].*)([a-zA-Z-']{1,100})$/.test(String(e).toLowerCase())},S=function(e){var t=e.replace(/ /g,"");return/^0(4)\d{8}$/.test(t)},g=function(e){return/^(0[289][0-9]{2})|([1-7][0-9]{3})$/.test(String(e))},T=function(e){if(!e)return e;var t=e,n=t.length;return n<=4?t:n<=7?"".concat(t.slice(0,4)," ").concat(t.slice(4)):"".concat(t.slice(0,4)," ").concat(t.slice(4,7)," ").concat(t.slice(7,10))},N=function(e,t,n){var a,i=m.indexOf(t),o=!1,r=(new Date).getFullYear();if((!t&&e||t&&!e)&&(a={isValidDOB:!1,dobErrorMsg:"Day and Month are required to submit"}),t&&e||n){for(var c=new Date(null!==n&&void 0!==n?n:r,i,1);c.getMonth()===+i;)c.getDate()===+e&&(o=!0),c.setDate(c.getDate()+1);a={isValidDOB:o,dobErrorMsg:n?O.a.DATE_MONTH_YEAR_ERROR_TEXT:O.a.DATE_MONTH_ERROR_TEXT}}return a},I=function(e){var t=e.firstNameText,n=e.lastNameText,a=e.phoneNoText,i=e.postalCode,o=(e.dateOfBirth,e.isValidDOB);return!(!t||!E(t)||x(c.a,t))&&(!(!n||!E(n)||x(c.a,n))&&(!!S(a)&&(!(i&&!g(i))&&!!o)))},x=function(e,t){return e.some((function(e){return(null===e||void 0===e?void 0:e.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())}))},D=function(e,t,n){var a=e;return(null===e||void 0===e?void 0:e.length)>0&&(a=null===e||void 0===e?void 0:e.filter((function(e){return(null===e||void 0===e?void 0:e.name)!==t&&(null===e||void 0===e?void 0:e.name)!==n}))),a},A=function(e){var t,n=["order-history-global","addresses-global","favourite-orders-global"],a=null===(t=document)||void 0===t?void 0:t.getElementById("kfc-banner-image"),i=null===n||void 0===n?void 0:n.some((function(e){var t;return null===(t=document)||void 0===t?void 0:t.getElementById(e)}));e&&i&&a?a.style.display="none":a&&(a.style.display="flex")},C=function(){var e=Object(a.a)(o.a.mark((function e(t,n,a,i){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.registerEvent(null===d.a||void 0===d.a||null===(c=d.a.add_to_cart)||void 0===c?void 0:c.name,{data:{event:u.g.ADD_TO_CART,userType:n,ecommerce:{currency:a,value:i,items:t}}},s.lb);case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}(),_=function(){var e=Object(a.a)(o.a.mark((function e(t){var n,a,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:"",e.next=3,r.a.registerEvent(null===d.a||void 0===d.a||null===(n=d.a.reorder)||void 0===n?void 0:n.name,{data:{event:null===u.Sc||void 0===u.Sc?void 0:u.Sc.REORDER,userType:t,orderName:a}},s.lb);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},927:function(e,t,n){"use strict";n(4);var a=n(866),i=n(7),o=n(5);t.a=function(e){return Object(i.I)(e.subCategory).map((function(t,n){var i=t.categories,r=void 0===i?"":i,c=t.products,d=void 0===c?[]:c,l=t.id,s=void 0===l?"":l,u=t.dname;return Object(o.jsxs)("div",{id:s,children:[Object(o.jsxs)("div",{className:"large"===e.cardType?"large-subcategory-name":"medium"===e.cardType?"medium-subcategory-name":"carousal"===e.cardType?"carousal-subcategory-name":"small"===e.cardType?"small-subcategory-name":null,children:[Object(o.jsx)("div",{children:u[0].value}),r]}),Object(o.jsx)(a.a,{productList:d,cardType:e.cardType,tenantData:e.tenantData,categoryId:s,catalogs:e.catalogs,storeClosedData:e.storeClosedData})]},n)}))}},928:function(e,t,n){"use strict";var a=n(683);n.d(t,"a",(function(){return a.default}))},929:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var a=n(1);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:a.REORDER_STORE_STATUS,payload:{data:e,tenantId:t},successCallback:n,errorCallback:i}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:a.REORDER_FETCH_MENU,menuPayload:e,exclusionPayload:t,successCallback:n}}},935:function(e,t,n){"use strict";var a=n(4),i=n.n(a),o=n(69),r=n(5),c=function(e){var t=e.show,n=e.errorMsg,a=void 0===n?"":n,i=e.cssClass,c=void 0===i?"":i,d=e.errImage;return t?Object(r.jsxs)("div",{className:"inline-error-container ".concat(c),children:[Object(r.jsx)(o.a,{srcFile:d}),Object(r.jsx)("div",{className:"error-message",children:a})]}):null},d=i.a.memo(c);t.a=d},937:function(e,t,n){"use strict";var a=n(4),i=n.n(a),o=n(37),r=n(794),c=n(795),d=n(762),l=n(12),s=n(60),u=n(928),v=n(5),O=function(e){var t=l.a.DISPOSITION_DATA,n=void 0===t?"":t,o=Object(a.useContext)(s.a)||{},O=o.userOrderState,b=o.userOrderStateDispatch;Object(a.useEffect)((function(){b({type:n,value:{showDisposition:!0}})}),[]);var j=function(e,t){e.stopPropagation(),e.preventDefault(),Object(d.d)(t)};return Object(v.jsx)(i.a.Fragment,{children:Object(v.jsxs)("div",{id:"startorder-container","data-testid":"UserLocalizationComponent-component",children:[(null===O||void 0===O?void 0:O.dispositionStateData.showDisposition)&&Object(v.jsx)(r.a,{}),(null===O||void 0===O?void 0:O.searchStoreData.showSearchStore)&&Object(v.jsx)(c.a,{onStoreSelectFinish:j}),(null===O||void 0===O?void 0:O.scheduleOrderData.showScheduleOrder)&&Object(v.jsx)(u.a,{onStoreSelectFinish:j})]})})},b=n(7),j=n(883);t.a=function(){var e,t,n,a,i=j.a.DISPOSITION,r=null,c=null,d=Object(o.c)((function(e){return e.appStateReducer.userStatus})),l=Object(o.c)((function(e){return{homePageContent:e.contentReducer.response||null,tenantReducerContent:e.tenantReducer||null,marketPageContent:e.marketConfigReducer.response||null}}));if(l.marketPageContent&&l.tenantReducerContent&&l.homePageContent){var s=(l.marketPageContent.headerData||{}).tenant,u=void 0===s?[]:s;r=Object(b.Hb)(l.homePageContent)||null,c=Object(b.kc)(u)}return Object(v.jsx)(O,{contentData:{segmentedHomePageData:null!==(e=null===(t=r)||void 0===t?void 0:t[i])&&void 0!==e?e:{},dispositionData:c,contentDispositionData:null!==(n=null===(a=r)||void 0===a?void 0:a[i])&&void 0!==n?n:{}},userParams:d,tenantReducerData:l.tenantReducerContent})}},942:function(e,t,n){"use strict";n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return s})),n.d(t,"i",(function(){return u})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return f}));var a=n(0),i=n(7),o=n(915),r=n(3),c=n(89),d=function(e){return r.mc.test(String(e).toLowerCase())},l=function(e){return r.Db.test(String(e).toLowerCase())},s=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},u=function(e){return/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/.test(String(e))},v=function(e){if(void 0!==e){var t=e.getMonth()+1>9?e.getMonth()+1:"0"+(e.getMonth()+1),n=e.getDate()>9?e.getDate():"0"+e.getDate();return e.getFullYear()+"/"+t+"/"+n+" 00:00"}},O=function(e,t){var n=e.wantToKnowText,a=e.selectedLetUsKnow,o=e.firstNameText,r=e.lastNameText,c=e.phoneNoText,v=e.emailText;return!(0===(null===n||void 0===n?void 0:n.length)||(null===n||void 0===n?void 0:n.length)>200)&&(!!d(o)&&(!!d(r)&&(!!l("".concat(o).concat(r))&&(!!u(c)&&(!!s(v)&&(!!Object(i.Qc)(a)&&!!t))))))},b=function(e){var t=e.firstNameText,n=e.lastNameText,a=e.phoneNoText,i=e.emailText;return!!l(t)&&(!!l(n)&&(!!u(a)&&!!s(i)))},j=function(e,t,n){return{tenantId:t,payload:{data:[{key:"message",value:e.wantToKnowText},{key:"category",value:e.selectedLetUsKnow.key},{key:"firstName",value:e.firstNameText},{key:"lastName",value:e.lastNameText},{key:"email",value:e.emailText},{key:"phone",value:e.phoneNoText},{key:"language",value:"en-US"},{key:"captchaResponse",value:n}],attachments:[]}}},m=function(e,t){return{tenantId:t,payload:{data:[{key:o.b.FIRSTNAME,value:e.fullname},{key:o.b.CALLNATURE,value:e.helpDDOptions},{key:o.b.CATEGORY,value:e.enquiryDDOptions},{key:o.b.SUBCODE,value:e.specificDDOptions},{key:o.b.DESCRIPTION,value:e.detailsArea},{key:o.b.PHONE,value:e.phonenumber},{key:o.b.EMAIL,value:e.emailaddress},{key:o.b.STOREID,value:null!==e&&void 0!==e&&e.sugPinCode?null===e||void 0===e?void 0:e.sugPinCode:""},{key:o.b.TYPEOFVISIT,value:null!==e&&void 0!==e&&e.sortvisit?null===e||void 0===e?void 0:e.sortvisit:""},{key:o.b.ORDER_NUMBER,value:null!==e&&void 0!==e&&e.ordernumber?null===e||void 0===e?void 0:e.ordernumber:""},{key:o.b.VISITDATE,value:null!==e&&void 0!==e&&e.visitedDate?v(e.visitedDate):""},{key:o.b.LANGUAGE,value:"en-US"}],attachments:[]}}},f=function(e,t,n,i,o,d,l,s,u){var v,O=JSON.parse(localStorage.getItem(r.ud)),b=Object(c.a)(t.address_components,O),j=b.addressLines,m=void 0===j?[]:j,f=b.country,p=void 0===f?"":f,h=b.city,E=void 0===h?"":h,S=b.pinCode,g=void 0===S?"":S,T=b.state,N=void 0===T?"":T;e===r.Ab?(v=g,r.uc.test(String(v).toLowerCase())?(l(!1),s(!1),n(g)):l(!0),d(Object(a.a)(Object(a.a)({},u),{},{sugPinCode:g}))):(n(null===m||void 0===m?void 0:m[1]),d()),i((function(e){return Object(a.a)(Object(a.a)({},e),{},{country:p,addressLines:m,city:E,state:N,pinCode:g})})),setTimeout((function(){o()}),800)}},943:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(1);function i(e){return{type:a.GET_HELP_CONTENT,payload:e}}}}]);