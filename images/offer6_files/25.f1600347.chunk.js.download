(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[25],{1060:function(e,t,r){"use strict";r.d(t,"a",(function(){return O})),r.d(t,"b",(function(){return f})),r.d(t,"d",(function(){return p})),r.d(t,"l",(function(){return b})),r.d(t,"g",(function(){return y})),r.d(t,"f",(function(){return D})),r.d(t,"k",(function(){return R})),r.d(t,"i",(function(){return j})),r.d(t,"h",(function(){return E})),r.d(t,"j",(function(){return m})),r.d(t,"e",(function(){return H})),r.d(t,"c",(function(){return I}));var o=r(0),n=r(10),d=r(233),i=r(807),a=r(11),l=r(919),u=r(810),c=r(20),s=r(7),v=r(863),O={props:null,dispatch:null,customerId:null,tenantId:null,customer:null,userStatus:null,isMobileView:!1,favoriteItems:null,selectedOrderId:null,currencySymbol:null,currencyConversionFactor:null,addHope:null,carryBag:null,pastOrderDateformat:"",pastOrderTimeFormat:"",orderDetails:{},orderHistory:[],currentOrderHistory:[],completedOrderHistory:[],displayNumOfRecords:10,currentPage:1,totalNumOfPages:1,displayAllRecords:!1,showHaveQuestionSection:!0,showViewReceiptModal:!1,showFavoriteModal:!1,showReorderModal:!1,isDarkMode:!1,orderHistoryLoading:!0,userOrderStateDispatch:null,cartDataService:null},f=function(e){var t=e.dispatch,r=e.customerId,o=e.tenantId,n=Object(s.Vb)(12);t(Object(i.d)({customerId:r,tenantId:o},n))},p=function(e){var t=e.dispatch,r=e.tenantId,o=e.selectedOrderId;Object(s.gd)(o)&&t(Object(d.c)({orderId:o,tenantId:r}))},b=function(e){var t=e.props,r=e.dispatch,o=e.tenantReducer,n=e.profileReducer,d=e.updateSetOrderHistoryDetails,i=e.openReorderModal,a=e.userOrderStateDispatch,l=o.authoredContent,u=o.tenantId,c=o.currencySymbol,s=o.currencyConversionFactor,v=o.addHope,O=o.carryBag,f=o.pastOrderDateformat,p=void 0===f?"":f,b=o.pastOrderTimeFormat;d({props:t,dispatch:r,authoredContent:l,tenantId:u,currencySymbol:c,currencyConversionFactor:s,addHope:v,carryBag:O,pastOrderDateformat:p,pastOrderTimeFormat:void 0===b?"":b,customerId:null===n||void 0===n?void 0:n.customerId,customer:null===n||void 0===n?void 0:n.basic,favoriteItems:(null===n||void 0===n?void 0:n.favouriteItems)||[],openReorderModal:i,userOrderStateDispatch:a})},y=function(e){var t=e.cartReducer,r=e.updateSetOrderHistoryDetails,o=t.cartData;r({cartDataService:null===o||void 0===o?void 0:o.service})},D=function(e){var t=e.appStateReducer;(0,e.updateSetOrderHistoryDetails)({userStatus:null===t||void 0===t?void 0:t.userStatus})},R=function(e){var t=e.paymentsContentReducer;(0,e.updateSetOrderHistoryDetails)({paymentsContentReducer:t})},j=function(e){var t,r,n,d=e.orderHistoryReducer,i=e.orderHistoryDetails;(0,e.updateSetOrderHistoryDetails)({selectedOrderId:"",orderHistory:null!==d&&void 0!==d&&d.orderHistory&&Array.isArray(null===d||void 0===d?void 0:d.orderHistory)&&(null===d||void 0===d||null===(t=d.orderHistory)||void 0===t?void 0:t.length)>0?null===d||void 0===d||null===(r=d.orderHistory)||void 0===r||null===(n=r.sort((function(e,t){return(null===t||void 0===t?void 0:t.orderDateTimeInEpoch)-(null===e||void 0===e?void 0:e.orderDateTimeInEpoch)})))||void 0===n?void 0:n.map((function(t){var r=Object(l.c)({postOrPastOrderDetails:Object(o.a)(Object(o.a)({},t),{},{customer:null===i||void 0===i?void 0:i.customer}),orderDetails:i,paymentsContentReducer:null===i||void 0===i?void 0:i.paymentsContentReducer});return function(e){var t=e.profileReducer,r=e.orderDetails,o=t.favouriteOrders;if(Object(s.fd)(r)&&(null===o||void 0===o?void 0:o.length)>0){var n=null===o||void 0===o?void 0:o.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===r||void 0===r?void 0:r.orderId)}));Object(s.fd)(n)&&(r.isOrderSavedAsFavorite=!0,r.favoriteOrderName=null===n||void 0===n?void 0:n.name)}return r}(Object(o.a)({orderDetails:r},e))})):[]})},E=function(e){var t=e.orderHistoryDetails,r=e.updateSetOrderHistoryDetails,o=t.orderHistory;r({currentOrderHistory:null===o||void 0===o?void 0:o.filter((function(e){return!Object(u.F)(e)&&!Object(u.E)(e)})),completedOrderHistory:null===o||void 0===o?void 0:o.filter((function(e){return Object(u.F)(e)||Object(u.E)(e)}))})},m=function(e){var t=e.orderReducer,r=e.orderHistoryDetails;(0,e.updateSetOrderHistoryDetails)({orderDetails:Object(l.c)({postOrPastOrderDetails:null===t||void 0===t?void 0:t.response,orderDetails:r,paymentsContentReducer:null===r||void 0===r?void 0:r.paymentsContentReducer})})},H=function(e){var t=e.orderDetails,r=e.orderHistoryDetails,o=e.redirectTo,n=r.props;(null===t||void 0===t?void 0:t.orderId)&&Object(v.o)({trackDetails:r,orderDetails:t,redirectTo:o,props:n})},I=function(e){var t=e.orderHistoryDetails,r=e.orderDetails,o=r.orderDateOn,d=r.displayTodayDate,i=r.displayFormatOrderTime,l=r.fulfillmentDateTime,s=(r.occasionTime,t.isMobileView);if(Object(u.D)(r))return"".concat(Object(n.e)(Object(u.M)(r)||Object(u.L)(r)?null===a.a||void 0===a.a?void 0:a.a.REFUNDED:null===a.a||void 0===a.a?void 0:a.a.CANCELED),": ").concat(o);if(Object(c.x)(l)&&o===d){var v="".concat(o," ").concat(Object(n.e)(null===a.a||void 0===a.a?void 0:a.a.AT)," ");return o===d&&(v=Object(n.e)(null===a.a||void 0===a.a?void 0:a.a.SCHEDULE)+" ".concat(Object(n.e)(null===a.a||void 0===a.a?void 0:a.a.FOR)," ")+Object(n.e)(null===a.a||void 0===a.a?void 0:a.a.TODAY_AT)),"".concat(v," ").concat(i)}return"".concat(o," ").concat(s?" "+i:Object(n.e)(null===a.a||void 0===a.a?void 0:a.a.AT)+" "+i)}},425:function(e,t,r){"use strict";r.r(t);var o=r(28),n=r(0),d=r(4),i=r(37),a=r(233),l=r(807),u=r(134),c=r(60),s=r(3),v=r(7),O=r(1060),f=r(863),p=r(5);t.default=function(e){var t,r,b=Object(i.b)(),y=Object(d.useContext)(c.a),D=y.userOrderState,R=y.userOrderStateDispatch,j=Object(i.c)((function(e){return e})),E=j.tenantReducer,m=j.orderHistoryReducer,H=j.orderReducer,I=j.profileReducer,h=j.cartReducer,S=j.paymentsContentReducer,T=j.appStateReducer,C=Object(d.useState)(O.a),g=Object(o.a)(C,2),_=g[0],w=g[1],M=Object(d.useState)({height:0,width:0}),k=Object(o.a)(M,2),F=k[0],A=k[1],L=s.Pb.ORDER_HISTORY_ITEM,P=L.ITEM_IMAGE_HEIGHT_MOBILE,N=L.ITEM_IMAGE_WIDTH_MOBILE,V=L.ITEM_WIDTH_DESK_PRCNT,B=Object(d.useCallback)((function(e){w&&w((function(t){return Object(n.a)(Object(n.a)({},t),e)}))}),[]),W=function(){var e=Object(v.Uc)(window.innerWidth);B({isMobileView:e});var t=Object(v.mc)(e,{height:P,width:N},{height:Object(v.Wb)(window.innerWidth,V),width:Object(v.Wb)(window.innerWidth,V)});A(t)};return Object(d.useEffect)((function(){return window.scrollTo(0,0),window.addEventListener(s.Tc,W),W(),function(){b(Object(l.f)()),localStorage.removeItem(null===s.ac||void 0===s.ac?void 0:s.ac.LOAD_MORE_ORDER_HISTORY)}}),[]),Object(d.useEffect)((function(){Object(f.f)(b)}),[b]),Object(d.useEffect)((function(){var t;null!==E&&void 0!==E&&E.tenantId&&null!==I&&void 0!==I&&I.customerId&&Object(O.l)({props:e,dispatch:b,tenantReducer:E,profileReducer:I,updateSetOrderHistoryDetails:B,openReorderModal:null===D||void 0===D||null===(t=D.reorderFlag)||void 0===t?void 0:t.reorderModalOpen,userOrderStateDispatch:R})}),[null===E||void 0===E?void 0:E.tenantId,null===I||void 0===I?void 0:I.customerId,null===D||void 0===D||null===(t=D.reorderFlag)||void 0===t?void 0:t.reorderModalOpen]),Object(d.useEffect)((function(){null!==T&&void 0!==T&&T.userStatus&&Object(O.f)({appStateReducer:T,updateSetOrderHistoryDetails:B})}),[null===T||void 0===T?void 0:T.userStatus]),Object(d.useEffect)((function(){S&&Object(O.k)({paymentsContentReducer:S,updateSetOrderHistoryDetails:B})}),[S]),Object(d.useEffect)((function(){var e;null!==h&&void 0!==h&&h.cartData&&null!==h&&void 0!==h&&null!==(e=h.cartData)&&void 0!==e&&e.id&&Object(O.g)({cartReducer:h,updateSetOrderHistoryDetails:B})}),[null===h||void 0===h?void 0:h.cartData]),Object(d.useEffect)((function(){(null===_||void 0===_?void 0:_.tenantId)&&Object(O.b)(_)}),[null===_||void 0===_?void 0:_.tenantId]),Object(d.useEffect)((function(){(null===m||void 0===m?void 0:m.orderHistory)&&(null===I||void 0===I?void 0:I.customerId)&&(null===_||void 0===_||!_.showFavoriteModal)&&Object(O.i)({orderHistoryReducer:m,orderHistoryDetails:_,profileReducer:I,updateSetOrderHistoryDetails:B})}),[null===m||void 0===m?void 0:m.orderHistory,null===I||void 0===I?void 0:I.favouriteOrders]),Object(d.useEffect)((function(){B({orderHistoryLoading:null===m||void 0===m?void 0:m.orderHistoryLoading})}),[null===m||void 0===m?void 0:m.orderHistoryLoading]),Object(d.useEffect)((function(){Object(v.fd)(null===H||void 0===H?void 0:H.response)&&Object(O.j)({orderReducer:H,orderHistoryDetails:_,updateSetOrderHistoryDetails:B})}),[null===H||void 0===H?void 0:H.response]),Object(d.useEffect)((function(){var e;(null===_||void 0===_||null===(e=_.orderHistory)||void 0===e?void 0:e.length)>0&&Object(O.h)({orderHistoryDetails:_,updateSetOrderHistoryDetails:B})}),[null===_||void 0===_?void 0:_.orderHistory]),Object(d.useEffect)((function(){null!==_&&void 0!==_&&_.selectedOrderId?Object(O.d)(_):b(Object(a.e)())}),[null===_||void 0===_?void 0:_.selectedOrderId]),Object(d.useEffect)((function(){var e,t;(null===_||void 0===_||null===(e=_.completedOrderHistory)||void 0===e?void 0:e.length)>0&&B({totalNumOfPages:Math.ceil((null===_||void 0===_||null===(t=_.completedOrderHistory)||void 0===t?void 0:t.length)/(null===_||void 0===_?void 0:_.displayNumOfRecords))})}),[null===_||void 0===_?void 0:_.completedOrderHistory]),Object(v.mc)(F.height,(r={orderHistoryDetails:_,updateSetOrderHistoryDetails:B,imageOrderContainerSize:F},Object(p.jsx)(u.a,Object(n.a)(Object(n.a)({},r),{},{testId:"order_history_view",importPath:"ORDER_HISTORY_VIEW"}))),Object(p.jsx)(p.Fragment,{}))}},760:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return d})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a}));var o=r(1);function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:o.POST_ORDER_ACCEPTED,payload:e,successCallback:t,errorCallback:r}}function d(){return{type:o.RESET_POST_ORDER}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:o.CANCEL_POST_ORDER,payload:e,successCallback:t,errorCallback:r}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:o.CHECK_IN_REQUEST,payload:e,successCallback:t,errorCallback:r}}},807:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"f",(function(){return d})),r.d(t,"b",(function(){return i})),r.d(t,"d",(function(){return a})),r.d(t,"c",(function(){return l})),r.d(t,"e",(function(){return u}));var o=r(1);function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:o.SET_FAVOURITE_ORDER,payload:e,postBody:t,successCallback:r,errorCallback:n}}function d(){return{type:o.RESET_ORDER_HISTORY}}function i(e){var t=e.tenantId,r=e.customerId,n=e.itemId,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:o.DELETE_FAVOURITE_ORDER,payload:{tenantId:t,customerId:r,itemId:n},successCallback:d,errorCallback:i}}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:o.GET_ORDER_HISTORY,payload:e,postBody:t,successCallback:r,errorCallback:n}}function l(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:o.GET_ACTIVE_ORDER_HISTORY,payload:e,postBody:t,successCallback:r,errorCallback:n}}function u(){return{type:o.RESET_ACTIVE_ORDER_HISTORY}}}}]);