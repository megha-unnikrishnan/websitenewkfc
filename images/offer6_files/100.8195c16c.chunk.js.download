(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[100],{709:function(n,t,e){"use strict";e.r(t);var r=e(28),u=e(0),i=e(4),o=e(37),c=e(807),d=e(810),l=e(134),v=e(7),a=e(5);t.default=function(n){var t,e=Object(o.b)(),f=Object(o.c)((function(n){return n})),s=f.tenantReducer,O=f.orderHistoryReducer,E=f.profileReducer,R=Object(i.useState)({props:n,customerId:null,tenantId:null,postActiveOrderHistoryDetailsList:[],customer:null,dispatch:e}),b=Object(r.a)(R,2),D=b[0],_=b[1],A=Object(i.useCallback)((function(n){_&&_((function(t){return Object(u.a)(Object(u.a)({},t),n)}))}),[]);return Object(i.useEffect)((function(){return function(){return e(Object(c.e)())}}),[]),Object(i.useEffect)((function(){A({customerId:null===E||void 0===E?void 0:E.customerId,customer:null===E||void 0===E?void 0:E.basic,tenantId:null===s||void 0===s?void 0:s.tenantId})}),[null===E||void 0===E?void 0:E.customerId,null===s||void 0===s?void 0:s.tenantId]),Object(i.useEffect)((function(){var t,e,r;O&&null!==O&&void 0!==O&&O.activeOrderHistory&&(null===O||void 0===O||!O.activeOrderHistoryLoading)&&(null===O||void 0===O||null===(t=O.activeOrderHistory)||void 0===t?void 0:t.length)>0&&A({postActiveOrderHistoryDetailsList:null===O||void 0===O||null===(r=O.activeOrderHistory)||void 0===r?void 0:r.filter((function(n){return!Object(d.E)(n)}))});null!==O&&void 0!==O&&O.activeOrderHistoryLoading||0!==(null===O||void 0===O||null===(e=O.activeOrderHistory)||void 0===e?void 0:e.length)||Object(v.Dd)(n)}),[null===O||void 0===O?void 0:O.activeOrderHistory]),t={activeTrackerDetails:D},Object(a.jsx)(l.a,Object(u.a)(Object(u.a)({},t),{},{testId:"activeOrdersView",importPath:"ACTIVE_ORDERS_VIEW"}))}},807:function(n,t,e){"use strict";e.d(t,"a",(function(){return u})),e.d(t,"f",(function(){return i})),e.d(t,"b",(function(){return o})),e.d(t,"d",(function(){return c})),e.d(t,"c",(function(){return d})),e.d(t,"e",(function(){return l}));var r=e(1);function u(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:r.SET_FAVOURITE_ORDER,payload:n,postBody:t,successCallback:e,errorCallback:u}}function i(){return{type:r.RESET_ORDER_HISTORY}}function o(n){var t=n.tenantId,e=n.customerId,u=n.itemId,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:r.DELETE_FAVOURITE_ORDER,payload:{tenantId:t,customerId:e,itemId:u},successCallback:i,errorCallback:o}}function c(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:r.GET_ORDER_HISTORY,payload:n,postBody:t,successCallback:e,errorCallback:u}}function d(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:r.GET_ACTIVE_ORDER_HISTORY,payload:n,postBody:t,successCallback:e,errorCallback:u}}function l(){return{type:r.RESET_ACTIVE_ORDER_HISTORY}}},810:function(n,t,e){"use strict";e.d(t,"Q",(function(){return l})),e.d(t,"c",(function(){return v})),e.d(t,"b",(function(){return a})),e.d(t,"h",(function(){return f})),e.d(t,"P",(function(){return O})),e.d(t,"O",(function(){return R})),e.d(t,"N",(function(){return b})),e.d(t,"L",(function(){return A})),e.d(t,"M",(function(){return j})),e.d(t,"C",(function(){return C})),e.d(t,"j",(function(){return L})),e.d(t,"i",(function(){return P})),e.d(t,"G",(function(){return m})),e.d(t,"x",(function(){return F})),e.d(t,"r",(function(){return h})),e.d(t,"q",(function(){return U})),e.d(t,"n",(function(){return V})),e.d(t,"B",(function(){return J})),e.d(t,"y",(function(){return g})),e.d(t,"w",(function(){return Y})),e.d(t,"m",(function(){return M})),e.d(t,"z",(function(){return k})),e.d(t,"o",(function(){return W})),e.d(t,"l",(function(){return w})),e.d(t,"D",(function(){return K})),e.d(t,"s",(function(){return B})),e.d(t,"p",(function(){return x})),e.d(t,"t",(function(){return z})),e.d(t,"k",(function(){return Z})),e.d(t,"A",(function(){return X})),e.d(t,"u",(function(){return $})),e.d(t,"v",(function(){return nn})),e.d(t,"a",(function(){return tn})),e.d(t,"K",(function(){return en})),e.d(t,"I",(function(){return rn})),e.d(t,"H",(function(){return un})),e.d(t,"J",(function(){return on})),e.d(t,"d",(function(){return cn})),e.d(t,"f",(function(){return dn})),e.d(t,"e",(function(){return ln})),e.d(t,"g",(function(){return vn})),e.d(t,"F",(function(){return an})),e.d(t,"E",(function(){return fn}));var r=e(16),u=e(11),i=e(3),o=e(7),c=e(13),d=e(20),l=function(n){return Object(o.gd)(v(n))},v=function(n){switch(Object(o.jc)()){case i.H.IN:return null===n||void 0===n?void 0:n.status;case i.H.AU:if(Object(o.Wc)(null===n||void 0===n?void 0:n.service))return null===n||void 0===n?void 0:n.status;var t,e;if(Object(o.Jc)(null===n||void 0===n?void 0:n.service))return(F(n)||g(n))&&null!==(null===n||void 0===n?void 0:n.deliveryDetails)&&null!==(null===n||void 0===n||null===(t=n.deliveryDetails)||void 0===t?void 0:t.riderStatus)?null===n||void 0===n||null===(e=n.deliveryDetails)||void 0===e?void 0:e.riderStatus:null===n||void 0===n?void 0:n.status}return null===n||void 0===n?void 0:n.status},a=function(n){var t=n.orderDetailsFromReducer,e=n.orderDetails;return null!==t&&void 0!==t&&t.statusUpdatedDate?Object(d.z)(null===t||void 0===t?void 0:t.statusUpdatedDate):(null===e||void 0===e?void 0:e.orderStatus)!==v(t)?(new Date).getTime():null===e||void 0===e?void 0:e.orderStatusChangedAt},f=function(n){var t=n.orderDetailsFromReducer,e=n.orderDetails;return Math.ceil(Math.abs((new Date).getTime()-a({orderDetailsFromReducer:t,orderDetails:e}))/6e4)>30},s=function(n){return Object(o.gd)(n)?"object"===typeof n?Object.prototype.hasOwnProperty.call(n,"orderStatus")?Object(o.Pd)(null===n||void 0===n?void 0:n.orderStatus):Object.prototype.hasOwnProperty.call(n,"status")?Object(o.Pd)(null===n||void 0===n?void 0:n.status):"":Object(o.Pd)(n):""},O=function(n){return s(n)===i.Ac.STAGED},E=function(n){return s(n)===i.Ac.ACCEPTED},R=function(n){return O(n)||E(n)},b=function(n){return s(n)===i.Ac.SENT_TO_POS_COMPLETED},D=function(n){return s(n)===i.Ac.CHECKED_IN},_=function(n){return s(n)===i.Ac.CANCELLED||s(n)===i.Ac.CANCEL||s(n)===i.fb.DELIVERY_CANCELLED},A=function(n){return s(n)===i.Ac.REFUND},j=function(n){return s(n)===i.Ac.REFUND_SUCCESS},I=function(n){return s(n)===i.Ac.REFUND_FAILED},C=function(n){return function(n){return s(n)===i.Ac.PAYMENT_FAILED}(n)||function(n){return s(n)===i.Ac.SENT_TO_POS_FAILED}(n)},T=function(n){return s(n)===i.Ac.CREATED||s(n)===i.fb.DELIVERY_CREATED},S=function(n){return s(n)===i.Ac.ASSIGNED||s(n)===i.fb.DASHER_CONFIRMED},p=function(n){return s(n)===i.Ac.STORE_ARRIVAL||s(n)===i.fb.DASHER_ENROUTE_TO_PICKUP||s(n)===i.fb.RELEASE_ORDER_FOR_PREPARATION||s(n)===i.fb.DASHER_CONFIRMED_STORE_ARRIVAL},y=function(n){return s(n)===i.Ac.PICKED_UP||s(n)===i.Ac.CHECKED_IN||s(n)===i.fb.DASHER_PICKED_UP},N=function(n){return s(n)===i.Ac.OUT_FOR_DELIVERY||s(n)===i.fb.DASHER_ENROUTE_TO_DROPOFF},H=function(n){return s(n)===i.Ac.ARRIVED||s(n)===i.fb.DASHER_CONFIRMED_CONSUMER_ARRIVAL},L=function(n){return T(n)||S(n)},P=function(n){return T(n)||S(n)||p(n)},m=function(n){return y(n)||N(n)||H(n)},F=function(n){return Object(o.Jc)(null===n||void 0===n?void 0:n.service)&&b(n)},h=function(n){return Object(o.Jc)(null===n||void 0===n?void 0:n.service)&&(s(t=n)===i.Ac.DELIVERED||s(t)===i.fb.DASHER_DROPPED_OFF);var t},U=function(n){return Object(o.Jc)(null===n||void 0===n?void 0:n.service)&&T(n)},V=function(n){return Object(o.Jc)(null===n||void 0===n?void 0:n.service)&&S(n)},J=function(n){return Object(o.Jc)(null===n||void 0===n?void 0:n.service)&&p(n)},g=function(n){return Object(o.Jc)(null===n||void 0===n?void 0:n.service)&&y(n)},Y=function(n){return Object(o.Jc)(null===n||void 0===n?void 0:n.service)&&N(n)},M=function(n){return Object(o.Jc)(null===n||void 0===n?void 0:n.service)&&H(n)},k=function(n){return Object(o.Jc)(null===n||void 0===n?void 0:n.service)&&m(n)},W=function(n){return Object(o.Jc)(null===n||void 0===n?void 0:n.service)&&(S(n)||y(n)||N(n))},w=function(n){return Object(o.Jc)(null===n||void 0===n?void 0:n.service)&&H(n)},K=function(n){return _(n)||function(n){return j(n)||I(n)||A(n)}(n)},G=function(n){return Object(o.Jc)(null===n||void 0===n?void 0:n.service)&&_(n)},B=function(n){return h(n)||G(n)},x=function(n){return G(n)||q(n)||Q(n)},z=function(n){return h(n)||x(n)},q=function(n){return Object(o.Jc)(null===n||void 0===n?void 0:n.service)&&j(n)},Q=function(n){return Object(o.Jc)(null===n||void 0===n?void 0:n.service)&&I(n)},Z=function(n){return Object(o.Jc)(null===n||void 0===n?void 0:n.service)&&(F(n)||function(n){return U(n)||V(n)||J(n)}(n)||k(n)||z(n))},X=function(n){return Z(n)&&!h(n)&&!G(n)&&!q(n)&&!Q(n)},$=function(n){return k(n)||h(n)||G(n)},nn=function(n){return k(n)||G(n)},tn=function(n){return F(n)?null===u.a||void 0===u.a?void 0:u.a.ORDER_RECEIVED:U(n)?null!==n&&void 0!==n&&n.sameOrderStatusMaintainLast30Mins?null===u.a||void 0===u.a?void 0:u.a.WE_RE_READY_TO_MAKE_YOUR_ORDER:null===u.a||void 0===u.a?void 0:u.a.ORDER_READY:V(n)?null===u.a||void 0===u.a?void 0:u.a.WE_VE_FOUND_DELIVERY_DRIVER:J(n)?null===u.a||void 0===u.a?void 0:u.a.WE_RE_MAKING_YOUR_ORDER_FRESH:g(n)||Y(n)?null===u.a||void 0===u.a?void 0:u.a.ORDER_ON_THE_WAY:M(n)?null===u.a||void 0===u.a?void 0:u.a.DRIVER_ARRIVING:h(n)?null===u.a||void 0===u.a?void 0:u.a.ENJOY_MEAL:x(n)?null===u.a||void 0===u.a?void 0:u.a.CANCEL_ORDER:null===u.a||void 0===u.a?void 0:u.a.ORDER_ACCEPTED},en=function(n){return Object(o.Wc)(null===n||void 0===n?void 0:n.service)&&b(n)},rn=function(n){return Object(o.Wc)(null===n||void 0===n?void 0:n.service)&&D(n)},un=function(n){return Object(o.Wc)(null===n||void 0===n?void 0:n.service)&&(_(n)||j(n)||I(n))},on=function(n){return Object(o.jc)()===i.H.AU?Object(o.Wc)(null===n||void 0===n?void 0:n.service)&&(rn(n)||un(n)):Object(o.Wc)(null===n||void 0===n?void 0:n.service)&&(en(n)||un(n))},cn=function(n){return Object(o.Ic)(null===n||void 0===n?void 0:n.service)&&E(n)},dn=function(n){return Object(o.Ic)(null===n||void 0===n?void 0:n.service)&&D(n)},ln=function(n){return Object(o.Ic)(null===n||void 0===n?void 0:n.service)&&_(n)},vn=function(n){return Object(o.jc)()===i.H.AU?Object(o.Ic)(null===n||void 0===n?void 0:n.service)&&(dn(n)||ln(n)):Object(o.Ic)(null===n||void 0===n?void 0:n.service)&&(function(n){return Object(o.Ic)(null===n||void 0===n?void 0:n.service)&&b(n)}(n)||ln(n))},an=function(n){return function(n){return Z(n)&&z(n)}(n)||on(n)||vn(n)},fn=function(n){var t,e=0;return e=Object(o.Ic)(null===n||void 0===n?void 0:n.service)?void 0===Object(r.a)(c.n)||isNaN(Object(r.a)(c.n))?0:Object(r.a)(c.n):void 0===Object(r.a)(c.R)||isNaN(Object(r.a)(c.R))?0:Object(r.a)(c.R),Object(d.j)(null===n||void 0===n||null===(t=n.store)||void 0===t?void 0:t.timeZoneIANA)>(null===n||void 0===n?void 0:n.fulfillmentDateTime)+60*e}}}]);