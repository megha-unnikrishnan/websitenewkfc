(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[8],{679:function(e,t,a){"use strict";a.r(t),a.d(t,"SearchStoreModule",(function(){return et}));var n=a(0),i=a(28),o=a(13),r=a(16),c=a(10),s=a(849),l=a(84),d=a(99),u=a(38),v=a(7),O=a(60),b=a(4),j=a.n(b),m=a(37),p=a(677),f=a(12),h=a(45),S=a(234),g=a(8),T=a(2),E=a.n(T),x=a(225),I=a(69),N=a(241),D=a(237),C=a(238),A=a(177),_=a.n(A),y=a(242),R=a(243),w=a(228),k=a(49),L=a(771),H=a(226),M=a(232),F=a(5),P=function(e){return!0===e.includes(",")?e.replace(",",", "):e},U=function(e){var t,a,n=e.onMapClickHandler,i=e.startOrderFormSavedAddress,o=h.a.SAVED_ADDRESS,r=h.a.START_ORDER_TEXT,s=Object(m.c)((function(e){return e.profileReducer})).savedAddresses,l=null===(t=s.filter((function(e){return e.isPrimary}))[0])||void 0===t||null===(a=t.addressLines)||void 0===a?void 0:a.join(" ");return Object(F.jsx)(j.a.Fragment,{children:Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:"savedAddress-store-count",children:[Object(F.jsx)("span",{className:"saved-address-count-title",children:"".concat(Object(c.e)(o)).concat(s.length>1?"es  ":""," (").concat(s.length,")")}),Object(F.jsx)("div",{"data-testid":"saved-map-link",onClick:function(e){return n(e,"",l)},children:Object(F.jsxs)(x.a,{className:"map-link",children:[Object(F.jsx)("span",{children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:M.a,alt:"map",className:"map-img"})}),"Map"]})})]}),s.map((function(e){return Object(F.jsx)("div",{className:"savedAddress-module-card",children:Object(F.jsxs)("div",{className:"inside-card",children:[Object(F.jsxs)("div",{className:"address-section",children:[Object(F.jsxs)("div",{className:"address-type",children:[e.name," : "]}),Object(F.jsxs)("div",{className:"address",children:[(null===e||void 0===e?void 0:e.addressLines[1])&&Object(F.jsxs)("span",{children:[" ",P(null===e||void 0===e?void 0:e.addressLines[1]),", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(F.jsxs)("span",{children:[" ",P(null===e||void 0===e?void 0:e.addressLines[0]),", "]}),(null===e||void 0===e?void 0:e.city)&&Object(F.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(F.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.state," - "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(F.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(F.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.country," "]})]})]}),Object(F.jsx)("div",{children:Object(F.jsx)(k.a,{className:"button redButton search-store-card-btn",onClickHandler:function(t){return function(e,t){var a,n=t.location,o={userLat:n.latitude,userLong:n.longitude},r=(null===t||void 0===t||null===(a=t.addressLines)||void 0===a?void 0:a.reduce((function(e,t){return e+" "+t})))+", "+(null===t||void 0===t?void 0:t.city)+", "+(null===t||void 0===t?void 0:t.state)+", "+(null===t||void 0===t?void 0:t.country);i(r,o)}(0,e)},"data-testid":"savedaddress-click-test",children:Object(c.e)(r)})})]})})}))]})})},B=a(88),Y=function(e){var t=e.errorMsgToShow,a=e.onClearTextHandler,n=e.dispositionType,i=e.onRetryClickHandler,o=e.onMapClickHandler,r=e.showMap,s=Object(b.useContext)(O.a).userOrderStateDispatch,l=f.a.DISPOSITION_METHOD,d=h.a.DELIVERY_UNAVAILABLE_WITH_CTA,u=h.a.TAKE_AWAY,v=h.a.TYPE_TAKE_WAY,m=h.a.RETRY_TEXT,p=h.a.CTA1_SEARCH_DIFF_ADDRESS,S=h.a.CTA2_ORDER_TAKEAWAY,g=h.a.CTA2_VIEW_MAP_BUTTON_TEXT,T=Object(B.a)({"error-alert-location-popup":!0,"error-alert-location-popup-with-map-view":r});return Object(F.jsx)(j.a.Fragment,{children:Object(F.jsxs)("div",{"data-testid":"alert-locationid",className:"Delivery"===n?T:"error-alert-location-popup error-adjust",children:[Object(F.jsx)(I.a,{srcFile:w.a,className:"location-alert-icon"}),t!==d&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{className:"location-error-address",children:Object(c.e)(t)}),Object(F.jsxs)("div",{className:"location-error-button-section",children:[Object(F.jsx)(k.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:function(e){return function(e){e.preventDefault(),a()}(e)},children:Object(c.e)(p)}),n.toLowerCase()!==u.toLowerCase()&&Object(F.jsx)(k.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:function(e){return function(e){e.preventDefault(),s({type:l,value:{dispositionType:v}})}(e)},children:Object(c.e)(S)})]})]}),t===d&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{className:"location-error-address",children:Object(c.e)(t)}),Object(F.jsxs)("div",{className:"location-error-button-section",children:[Object(F.jsx)(k.a,{"data-testid":"btn-onRetryClick",className:"button whiteButton blackBorder location-warning-button mr retrybtn",onClickHandler:function(e){return i(e)},children:Object(c.e)(m)}),n!==u&&Object(F.jsx)(k.a,{"data-testid":"btn-onMapClick",className:"button whiteButton blackBorder location-warning-button ml retrybtn",onClickHandler:function(e){return o(e)},children:Object(c.e)(g)})]})]})]})})},W=a(3),V=h.a.MIN_SEARCH_CHARACTER_LIMIT,z=h.a.SUUGESTED_ITEMS_TEXT,K=h.a.ALLOWED_SUGGESTION_LIST,G=h.a.ALREADY_SERACHED_LOCATIONS,J=h.a.COUNTRY_CODE,X=h.a.SUGGESTION_ACTIVE_COLOR,Q=h.a.SUGGESTION_ACTIVE_OPACITY,Z=h.a.BRAND_BLACK,q=(h.a.COLOR_BLACK,h.a.CONFIRM_BUTTON_TEXT),$=h.a.LOCATION_WARNING_MESSAGE,ee=h.a.RETRY_TEXT,te=h.a.USE_THIS_ADDRESS_TEXT,ae=h.a.DELIVERY_UNAVAILABLE,ne=h.a.DELIVERY_UNAVAILABLE_WITH_CTA,ie=h.a.NOTAVAILABLE,oe=h.a.CTA1_SEARCH_DIFF_ADDRESS,re=h.a.TAKE_AWAY,ce=h.a.CTA2_ORDER_TAKEAWAY,se=function(e,t){t()},le=function(e){var t,a,n=e.eligibleStoreData,i=e.suggestedAddress,o=e.setNegativeScenarioAlert,r=e.getNegativeView,s=null===n||void 0===n?void 0:n.filter((function(e){var t,a,n;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.menu)||void 0===a||null===(n=a.catalogs)||void 0===n?void 0:n.length)>0})),l=s.filter((function(e){var t,a,n,i,o,r,c="CLOSED"===e.summary.status.currentStatus,s=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a||null===(n=a.message)||void 0===n?void 0:n.indexOf("EMERGENCY_SHUTDOWN")),l=-1!==(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(o=i.status)||void 0===o||null===(r=o.message)||void 0===r?void 0:r.indexOf("TECHNICAL_SHUTDOWN"));return c&&(s||l)})),d=Object(H.a)("delivery",s);return Object(v.xc)(d,Object(v.xc)(!(null!==(t=i[0])&&void 0!==t&&t.description),(null===l||void 0===l?void 0:l.length)===s.length))?(Object(v.S)((null===l||void 0===l?void 0:l.length)===(null===s||void 0===s?void 0:s.length),null===s||void 0===s?void 0:s.length)?d=ae:null!==(a=i[0])&&void 0!==a&&a.description||(d=ne),o(d),Object(v.ub)(Object(c.e)(S.a.contentData.deliveryHeaderText),Object(c.e)(d)),r(d)):void 0},de=function(e,t,a){return Object(F.jsx)(k.a,{className:"button blackButton blackBorder delivery-confirm-button delivery-confirm-button-in","data-testid":"btn-confirm",disabled:!e||t,onClick:a,"data-loading":t,children:Object(c.e)(q)})},ue=function(e){var t,a=e.formContent,o=void 0===a?{}:a,r=e.userPositionHandler,s=e.singInClickhandler,l=e.eligibleStoreData,d=o.memberText,p=void 0===d?"":d,h=o.singInLink,T=void 0===h?{}:h,L=o.currentLocationText,M=void 0===L?"":L,P=o.addressBoxPlaceHolderForDelivery,B=void 0===P?"":P,q=W.ac.RETAIN_ADDRESS,ne=f.a.SCHEDULE_ORDER_DATA,ue=f.a.DISPOSITION_METHOD,je=Object(m.c)((function(e){return e.appStateReducer.userStatus})),me=Object(v.zc)(je).loggedIn,pe=Object(b.useContext)(O.a),fe=pe.userOrderState,he=pe.userOrderStateDispatch,Se=fe.searchStoreData,ge=void 0===Se?{}:Se,Te=fe.dispositionStateData,Ee=void 0===Te?{}:Te,xe=Object(b.useState)(""),Ie=Object(i.a)(xe,2),Ne=Ie[0],De=Ie[1],Ce=Object(b.useState)(!1),Ae=Object(i.a)(Ce,2),_e=Ae[0],ye=Ae[1],Re=Object(b.useState)(!1),we=Object(i.a)(Re,2),ke=we[0],Le=we[1],He=Object(b.useState)(!1),Me=Object(i.a)(He,2),Fe=Me[0],Pe=Me[1],Ue=Object(b.useState)({lat:28.7,lng:77.1}),Be=Object(i.a)(Ue,2),Ye=Be[0],We=Be[1],Ve=Object(b.useState)(!1),ze=Object(i.a)(Ve,2),Ke=ze[0],Ge=ze[1],Je=Object(b.useState)(!1),Xe=Object(i.a)(Je,2),Qe=Xe[0],Ze=Xe[1],qe=Object(b.useState)([]),$e=Object(i.a)(qe,2),et=$e[0],tt=$e[1],at=Object(b.useState)(""),nt=Object(i.a)(at,2),it=nt[0],ot=nt[1],rt=Object(b.useRef)(null),ct=Object(b.useState)(""),st=Object(i.a)(ct,2),lt=st[0],dt=st[1],ut=Object(b.useState)(""),vt=Object(i.a)(ut,2),Ot=vt[0],bt=vt[1],jt=Object(b.useState)(!1),mt=Object(i.a)(jt,2),pt=mt[0],ft=mt[1],ht=Object(b.useState)(!1),St=Object(i.a)(ht,2),gt=St[0],Tt=St[1],Et=Object(b.useState)(!1),xt=Object(i.a)(Et,2),It=xt[0],Nt=xt[1],Dt=Object(b.useState)(""),Ct=Object(i.a)(Dt,2),At=Ct[0],_t=Ct[1],yt=Object(b.useState)(!1),Rt=Object(i.a)(yt,2),wt=Rt[0],kt=Rt[1],Lt=Ee.dispositionType,Ht=void 0===Lt?localStorage.getItem("dispositionType"):Lt,Mt=Object(b.useState)({}),Ft=Object(i.a)(Mt,2),Pt=Ft[0],Ut=Ft[1],Bt=Object(m.c)((function(e){var t,a,n,i;return(null===(t=e.storesReducer)||void 0===t?void 0:t.isGoogleDistanceLoading)||(null===(a=e.storesReducer)||void 0===a?void 0:a.isStoreStatusLoading)||(null===(n=e.storesReducer)||void 0===n?void 0:n.isNearByStoresLoading)||(null===(i=e.storesReducer)||void 0===i?void 0:i.isStoreTimeSlotsLoading)}));Object(b.useEffect)((function(){Object(H.e)(Qe,Ot,S.a)}),[Qe,Ot]);var Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(F.jsx)(j.a.Fragment,{children:Object(F.jsx)(Y,{errorMsgToShow:Object(v.xc)(Ot,e),onClearTextHandler:Qt,onRetryClickHandler:Vt,onMapClickHandler:Wt,dispositionType:Ht,showMap:Fe})})},Wt=function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.preventDefault(),Object(H.i)(Fe,Ht),Pe(!0),bt(!1),t&&!Ne&&Kt(t)},Vt=function(e){rt.current.select(),ye(!1),Ge(!1),bt(!1),Ze(!1)},zt=function(){var e=Object(g.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=le({eligibleStoreData:l,suggestedAddress:et,setNegativeScenarioAlert:bt,getNegativeView:Yt}),!(Ne.length>0&&Qe&&n||!l[0]&&n)){e.next=3;break}return e.abrupt("return");case 3:null!==(a=et[0])&&void 0!==a&&a.description&&he({type:ne,value:{deliveryAddress:it,showScheduleOrder:!0,selectedStoreInfo:Object(v.zc)(l[0])}}),Ge(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kt=function(){var e=Object(g.a)(E.a.mark((function e(t,a,n){var i,o,c,s,l=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>3&&void 0!==l[3]&&l[3],kt(!1),_t(""),Object(v.S)(null===a,null===n)&&(null===(i=et[0])||void 0===i?void 0:i.description)&&Ze(!0),ft(!0),Ge(!0),e.next=9,Object(A.geocodeByAddress)(t);case 9:return c=e.sent,e.next=12,Object(A.getLatLng)(c[0]);case 12:s=e.sent,We(s),Gt(t),De(t),o||ye(!0),r({userLat:s.lat,userLong:s.lng}),Le(!1);case 19:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();Object(b.useEffect)((function(){var e,t=null===(e=localStorage)||void 0===e?void 0:e.getItem(q);Object(H.b)(t,tt,Kt)}),[]),Object(b.useEffect)((function(){var e=null===l||void 0===l?void 0:l.filter((function(e){var t,a;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.menu)||void 0===a?void 0:a.catalogs[0])!==ie})),t=null===e||void 0===e?void 0:e.filter((function(e){var t,a;return"CLOSED"!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)}));wt&&At&&t&&(null===t||void 0===t?void 0:t.length)>=1?(Nt(!1),he({type:ne,value:{deliveryAddress:At,showScheduleOrder:!0,selectedStoreInfo:t[0]}})):At&&Nt(!0)}),[l,At,wt]),Object(b.useEffect)((function(){}),[Ye]);Object(b.useEffect)((function(){(null===Ne||void 0===Ne?void 0:Ne.length)>2?ye(!Qe):(ye(!1),Ze(!1),bt(""));var e=Object(v.d)(Ne,V);Tt(e)}),[Ne]),Object(b.useEffect)((function(){ke&&(De(lt),Gt(lt),Le(!1))}),[ge]);var Gt=function(e){Object(v.md)(e,G)},Jt=function(){var e=Object(g.a)(E.a.mark((function e(){var t,a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.BindLocation();case 2:Object(H.m)(),tt([]),u.b.coordinates&&(t=u.b.coordinates,a=t.latitude,n=t.longitude,u.b.addFeedback("Check coordinates ".concat(JSON.stringify(u.b.coordinates))),u.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:a,userLong:n}))),u.b.addFeedback("Check address ".concat(u.b.address)),r({userLat:a,userLong:n}),dt(u.b.address),De(u.b.address),Kt(u.b.address),Le(!0),tt([{description:u.b.address}]));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xt=function(e){return t=e,Object(v.yc)(JSON.parse(localStorage.getItem(G))).includes(t);var t},Qt=function(){De(""),ye(!1),bt(""),tt(""),Nt(!1)},Zt=function(){var e=Object(g.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:We({lat:a.userLat,lng:a.userLong}),kt(!0),De(t),Ut(a),Gt(t),_t(t),r(a);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(F.jsxs)(j.a.Fragment,{children:[Object(F.jsxs)("div",{className:"delivery-module-form","data-testid":"delivery-component",children:[Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:"login-section",children:[Object(F.jsx)("span",{className:"delivery-member-signin",children:!me&&be(p,s,T)}),Object(F.jsx)("span",{children:Object(F.jsxs)(x.a,{onClickHandler:Jt,className:"delivery-location-link","data-testid":"use-my-location",children:[Object(F.jsx)(I.a,{"data-testid":"",srcFile:N.a,alt:" ",className:"location-img"}),Object(c.e)(M)]})})]}),Object(F.jsxs)("div",{className:"delivery-address-section",children:[Object(F.jsx)("div",{className:"search-delivery-address",children:Object(F.jsx)("div",{className:"input-delivery-address",children:Object(F.jsx)(_.a,{value:Ne,onChange:function(e){ft(!1),Ge(!1),De(e),function(e,t,a){(null===e||void 0===e?void 0:e.length)<3&&(t(""),a(!1))}(e,tt,Tt),kt(!1),_t(""),Nt(!1)},onSelect:Kt,searchOptions:{componentRestrictions:{country:J}},shouldFetchSuggestions:!0,onError:se,children:function(e){var t=e.getInputProps,a=e.suggestions,i=e.getSuggestionItemProps;e.loading;return Object(F.jsxs)("div",{children:[Object(F.jsx)(I.a,{"data-testid":"",srcFile:D.a,alt:" ",className:"google-location-img"}),Object(F.jsx)("input",Object(n.a)({"data-testid":"store-search-input","aria-label":"Enter your delivery address",className:"".concat(Object(v.mc)(Object(v.xc)(Qe,Ot),"store-search-input error-border mt-2","store-search-input mt-2"))},t({placeholder:Object(c.e)(B),ref:rt}))),Ne&&Object(F.jsx)("img",{src:y.a,className:"clearTextIcon",onClick:Qt}),Object(v.S)(Object(v.Ob)(a),gt)?Object(F.jsx)("div",{className:"suggestion-list",children:a.map((function(e,t){var o;if(null!==e&&void 0!==e&&null!==(o=e.types)&&void 0!==o&&o.some((function(e){return K.includes(e)}))){tt(a);var r=Object(v.mc)(e.active,{backgroundColor:X,opacity:Q},{backgroundColor:Z});return Object(F.jsxs)(j.a.Fragment,{children:[0===t&&Object(F.jsx)("div",{className:"suggestion-items suggest-text",children:Object(c.e)(z)}),Object(F.jsx)("div",{style:r,children:Object(F.jsx)("div",Object(n.a)(Object(n.a)({},i(e,{className:"suggestion-items"})),{},{children:Object(F.jsxs)("div",{className:"suggested-address-alignment-delivery",children:[Object(F.jsx)("div",{children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:Object(v.mc)(Xt(e.description),R.a,C.a),alt:"googleMapLocation",className:"suggetion-pin"})}),Object(F.jsx)("div",{className:"suggestion-description",children:e.description})]})}),t)})]})}}))}):null]})}})})}),Object(F.jsx)("form",{children:de(_e,Bt,(function(e){var t;if(e.preventDefault(),wt)return It&&ye(!1),void Zt(Ne,Pt);if(!(pt&&le({eligibleStoreData:l,suggestedAddress:et,setNegativeScenarioAlert:bt,getNegativeView:Yt})||(null===(t=et[0])||void 0===t||!t.description)&&le({eligibleStoreData:l,suggestedAddress:et,setNegativeScenarioAlert:bt,getNegativeView:Yt}))){if(bt(""),!Ke){var a,n,i=null===(a=et[0])||void 0===a?void 0:a.description;return ot(i),(null===(n=et[0])||void 0===n?void 0:n.description)&&Ze(!0),ye(!1),void Kt(i,null===et||void 0===et?void 0:et.placeId,et,!0)}l[0]&&(Ge(!1),he({type:ne,value:{deliveryAddress:Ne,showScheduleOrder:!0,selectedStoreInfo:l[0]}}))}}))})]})]}),It&&!Bt&&Object(F.jsxs)("div",{className:"error-popup-saved-address error-popup-saved-address-map-view1",children:[Object(F.jsx)(I.a,{srcFile:w.a,className:"location-alert-icon"}),Object(F.jsx)("div",{className:"location-error-address",children:Object(c.e)(ae)}),Object(F.jsxs)("div",{className:"location-error-button-section",children:[Object(F.jsx)(k.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:function(e){return Nt(!1)},children:Object(c.e)(oe)}),Object(F.jsx)(k.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:function(e){e.preventDefault(),he({type:ue,value:{dispositionType:re}})},children:Object(c.e)(ce)})]})]}),!Fe&&Object(F.jsx)("div",{className:"my-3 store-form-separation"}),Fe||me||Qe||Ot?null:Oe(Wt),!Qe&&me&&!Ot&&!Fe&&!It&&Object(F.jsx)(U,{userPositionHandler:r,startOrderFormSavedAddress:Zt,allowOrderNow:It,onMapClickHandler:Wt})]}),Ne.length>0&&Object(v.S)(Qe,!Ot)?Object(F.jsxs)("div",{"data-testid":"alert-locationid",className:"alert-location-popup",children:[Object(F.jsx)(I.a,{srcFile:w.a,className:"location-alert-icon"}),Object(F.jsx)("div",{className:"location-error-message",children:Object(c.e)($)}),Object(F.jsx)("div",{className:"location-error-address",children:Object(v.xc)(null===(t=et[0])||void 0===t?void 0:t.description,Ne)}),Object(F.jsxs)("div",{className:"location-error-button-section",children:[Object(F.jsx)(k.a,{className:"button whiteButton blackBorder location-warning-button mr",onClick:Vt,children:Object(c.e)(ee)}),Object(F.jsx)(k.a,{className:"button whiteButton blackBorder location-warning-button ml","data-testid":"use-this-address",onClick:zt,children:Object(c.e)(te)})]})]}):Ot&&Yt(),Fe?ve(Qe,Ye,(function(e){De(e)}),Ot):null]})};function ve(e,t,a,n){return Object(F.jsx)("div",{className:"delivery-map deliver-map-zoom ".concat(Object(v.mc)(e,"pointer-disabled","")),children:Object(F.jsx)("div",{"data-testid":"view-map-div",className:"view-map",children:Object(F.jsx)(L.a,{"data-testid":"map-comp",latLongValue:t,passAddress:a,locationAlertProp:e,negativeScenarioAlertProp:n,locationAlert:e})})})}function Oe(e){return Object(F.jsx)("div",{className:"map-button-form",children:Object(F.jsxs)("div",{className:"show-map-div","data-testid":"show-map-div",onClick:e,children:[Object(F.jsx)("span",{className:"delivery-map-text",children:Object(c.e)("pleaseEnterLocation")}),Object(F.jsxs)(x.a,{className:"map-link",children:[Object(F.jsx)("span",{children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:M.a,alt:" ",className:"map-img"})}),Object(c.e)("map")]})]})})}function be(e,t,a){return Object(F.jsxs)("div",{"data-id":W.M.HEADER_SIGN_IN_ATTR_DATA_ID,children:[Object(c.e)(e),Object(F.jsx)("span",{onClick:t,children:Object(F.jsx)(x.a,{targetType:a.targetType,href:a.linkUrl,className:"delivery-signin-link",children:Object(c.e)(a.linkText)})})]})}var je=a(133),me=function(e){var t=e.handleClose,a=e.handleGoBack,n=e.orderModeTypeItem,i=e.headerText,o=e.modalTitleId,r=void 0===o?"":o;return Object(F.jsx)(j.a.Fragment,{children:Object(F.jsx)(je.a,{"data-testid":"searchStoreCardModal",id:"searchStoreCard",role:"dialog",modalTitleId:r,show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:a,modalTitle:i,autoFocus:!0,children:n})})},pe=a(44),fe=a(235),he=a(31),Se=a(67),ge=a(769),Te=a(244),Ee=a(239),xe=a(755),Ie=a(759),Ne=function(e,t){var a,n;return"INDIA"===(null===t||void 0===t||null===(a=t.country)||void 0===a?void 0:a.toUpperCase())?"".concat((parseFloat(e)/1e3).toFixed(1)," ").concat(null===t||void 0===t||null===(n=t.storeSearch)||void 0===n?void 0:n.distanceMetrics):(parseFloat(e)/1600).toFixed(1)+" mi"},De=Object(pe.j)((function(e){var t,a,i=e.storeDistance,o=void 0===i?"":i,r=e.addresses,s=void 0===r?{}:r,l=e.isOpen,d=void 0!==l&&l,u=e.buttonData,j=void 0===u?{}:u,p=e.map,S=void 0===p?{}:p,T=e.storeName,N=void 0===T?"":T,D=e.currentMarket,C=e.storeInfo,A=void 0===C?{}:C,_=e.channels,y=void 0===_?[]:_,R=e.storeStatus,w=void 0===R?{}:R,L=e.onStoreSelectFinish,M=e.onClickMapHandler,P=e.isMapView,U=e.isMobile,B=e.isFavoriteStore,Y=e.addToFavoriteHandler,W=e.removeFromFavoriteHandler,V=e.loggedIn,z=e.centerIndex,K=e.storeLength,G=Object(v.zc)(null===j||void 0===j?void 0:j.scheduleOrderButtonData),J=G.buttonText,X=void 0===J?"":J,Q=(G.display,Object(v.zc)(null===j||void 0===j?void 0:j.orderNowButtonData)),Z=Q.buttonText,q=void 0===Z?"":Z,$=Q.display,ee=void 0!==$&&$,te=Object(b.useContext)(O.a),ae=te.userOrderState,ne=te.userOrderStateDispatch,ie=f.a.SCHEDULE_ORDER_DATA,oe=void 0===ie?"":ie,re=f.a.SEARCH_ORDER_DATA,ce=void 0===re?"":re,se=f.a.SELECTED_TILE_DATA,le=void 0===se?"":se,de=f.a.SCHEDULE_ORDER_TIME_DATA,ue=void 0===de?"":de,ve=f.a.MENU_URL,Oe=f.a.SET_DISPOSITION,be=f.a.USER_LOCALIZED,je=f.a.CURRENT_STORE_INFO,me=f.a.SCHEDULE_ORDER_TIME_PRESERVE_TIME,pe=f.a.SET_FORCERELOAD,De=h.a.STORE_STATUS_CLOSED,Ce=S.mapText,Ae=void 0===Ce?"":Ce,_e=Ie.a.timingsSampleData,ye=void 0===_e?{}:_e,Re=y&&Object(H.g)(y),we=Object(v.yc)(Re[0]).services,ke=void 0===we?[]:we,Le=(null!==w&&void 0!==w&&null!==(t=w.timings)&&void 0!==t&&t.operatingHours?w.timings:[]).operatingHours,He=void 0===Le?[]:Le,Me=Object(H.c)(d,He),Fe=Object(m.b)(),Pe=Object(m.c)((function(e){return e.profileReducer})),Ue=Object(m.c)((function(e){return e.tenantReducer})),Be=ae.dispositionStateData.dispositionType,Ye=void 0===Be?localStorage.getItem("dispositionType"):Be,We=Ue.componentOptions.ScheduledDeliveryComponent.allowScheduleOrder,Ve=Object(m.c)((function(e){return e.appStateReducer.userStatus})),ze=Object(v.Pc)(ae.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):ae.dispositionNew,Ke=function(t,a){var i=Object(v.mc)(t,t,null);ne({type:le,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(i)),ne({type:je,value:i}),Fe(Object(Se.a)(Object(n.a)(Object(n.a)({},Ve),{},{localized:!0}))),ne({type:ue,value:{selectedDateTime:a}}),ne({type:me,value:{selectContentTime:"ASAP"}}),ne({type:pe,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(Ue)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",Ye),localStorage.setItem("storeInfo",JSON.stringify(i)),localStorage.setItem("dateTimeOrder",JSON.stringify(a)),localStorage.setItem("savedTimeOrder","ASAP"),setTimeout((function(){!ae.fromPdpPage&&e.history.push({pathname:"".concat(ve)})}),500)},Ge=function(){var e=Object(g.a)(E.a.mark((function e(t,a){var n,i,o,r,c,s,l,d,u,O,b,j,m,p,f,h,S,g,T;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.stopPropagation(),Object(H.l)(),l=Object(v.U)(null===a||void 0===a||null===(n=a.summary)||void 0===n?void 0:n.timings,ye),d=l.futureDates,u=l.scheduled,O=l.asap,b=Object(v.S)(null===u||void 0===u||null===(i=u.periods)||void 0===i?void 0:i.length,u.periods[0]),j=b.interval,m=void 0===j?0:j,p=b.startEndTime,h=(f=void 0===p?{}:p).from,S=f.to,Object(xe.f)(h,S,m,null===O||void 0===O?void 0:O.isAvailable,1===d.length&&"INDIA"===(null===Ue||void 0===Ue?void 0:Ue.country)),g={time:"ASAP",interval:null===(o=a.summary.timings.scheduled.periods[0])||void 0===o?void 0:o.interval,date:new Date,selectedTime:"ASAP"},null!==ze&&ze.type===Ye&&ze.store.id===a.id&&ze.deliveryAddress===(null===ae||void 0===ae||null===(r=ae.scheduleOrderData)||void 0===r?void 0:r.deliveryAddress)){e.next=14;break}return e.next=11,Object(v.s)(a,Object(v.sb)(Ye),Pe.customerId,g);case 11:T=e.sent,Fe(Object(he.l)("")),Fe(Object(he.f)({data:T,tenantId:Ue.tenantId}));case 14:localStorage.setItem("renderComp",!0),ne({type:Oe,value:{oldvalue:ze,newValue:{type:Ye,store:a,date:g.date,time:g.time,interval:g.interval,selectedTime:g.selectedTime,deliveryAddress:null===ae||void 0===ae||null===(c=ae.scheduleOrderData)||void 0===c?void 0:c.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(ze)),localStorage.setItem("dispositionNew",JSON.stringify({type:Ye,store:a,date:g.date,time:g.time,selectedTime:g.selectedTime,interval:g.interval,deliveryAddress:null===ae||void 0===ae||null===(s=ae.scheduleOrderData)||void 0===s?void 0:s.deliveryAddress})),Object(v.Sd)(),L(t,Ye),ne({type:ce,value:{showSearchStore:!1}}),ne({type:be,value:{isLocalized:!0}}),Ke(a,g);case 23:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Je=function(e,t){var a,n;console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),e.preventDefault(),e.stopPropagation(),ne({type:be,value:{isLocalized:!0}}),ne({type:oe,value:{showScheduleOrder:!0,selectedStoreInfo:t}}),ne({type:ce,value:{showSearchStore:!1}});var i=Object(v.U)(null===t||void 0===t||null===(a=t.summary)||void 0===a?void 0:a.timings,ye),o=i.futureDates,r=i.scheduled,c=i.asap,s=Object(v.S)(null===r||void 0===r||null===(n=r.periods)||void 0===n?void 0:n.length,r.periods[0]),l=s.interval,d=void 0===l?0:l,u=s.startEndTime,O=void 0===u?{}:u,b=O.from,j=O.to;Object(xe.f)(b,j,d,null===c||void 0===c?void 0:c.isAvailable,1===o.length&&"INDIA"===(null===Ue||void 0===Ue?void 0:Ue.country)),Object(H.k)(),function(e){var t=Object(v.mc)(e,e,null);ne({type:le,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),ne({type:je,value:t})}(t)},Xe=Object(ge.a)(A),Qe=Object(F.jsxs)("div",{className:"store-card ".concat(Object(v.S)(P,!U)?"store-card-map-view":"store-card-mobile-view"),style:function(){if(P&&U)return{margin:"0",position:"absolute","max-height":"325px",bottom:"0"}}(),"data-testid":"store-card",id:"map-store-card",children:[Object(F.jsxs)("div",{className:"d-flex",children:[Object(F.jsxs)("div",{className:"store-dist-container ".concat(P&&"map-view"),children:[Object(F.jsx)("div",{className:"store-name-container",children:Object(F.jsx)("span",{className:"card-store-name",children:N})}),Object(F.jsx)("span",{className:"store-distance",children:Ne(o,Ue)})]}),P&&Object(F.jsx)("span",{className:"store-index",children:"".concat(z+1," of ").concat(K)})]}),Object(F.jsxs)("div",{className:"card-content",children:[Object(F.jsx)("div",{className:"order-items",children:(a=ke,!!Object(v.Qc)(a)&&a.map((function(e,t){var a=h.a.PICK_UP,n=h.a.TAKE_AWAY;return Object(F.jsxs)("div",{className:"store-order-options",children:[Object(F.jsx)("span",{children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:fe.a,alt:"tick",className:"tick-image"})}),Object(F.jsx)("span",{children:e===a?Object(c.e)(n):e})]},t)})))}),Object(F.jsxs)("div",{className:"w-100",children:[Object(F.jsx)("span",{className:"store-address",children:Object(v.Db)(s)}),!P&&Object(F.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:function(){return M()},children:Object(F.jsx)(x.a,{className:"card-map-link",children:Ae})})]}),Object(F.jsxs)("div",{className:"info-timing ".concat(!d&&"info-timingClosed"),children:[d?"":Object(F.jsx)("span",{children:Object(c.e)(De)}),Object(F.jsx)("span",{className:"".concat(!d&&"list-circle"),children:Me})]}),Object(F.jsx)("div",{className:"facilities",children:Xe&&Xe.map((function(e){return Object(F.jsx)(I.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)}))})]}),Object(F.jsxs)("div",{className:"w-100 d-flex mt-2",children:[V?B?Object(F.jsx)(I.a,{"data-testid":"favorite-img",srcFile:Ee.a,alt:"favorite",className:"favorite-img",onClick:function(){return W()}}):Object(F.jsx)(I.a,{"data-testid":"unfavorite-img",srcFile:Te.a,alt:"favorite",className:"favorite-img",onClick:function(){return Y()}}):"",We&&Object(F.jsx)(k.a,{"data-testid":"schedule-order",className:"button whiteButton blackBorder search-store-card-btn schedule-order-btn ".concat(Object(v.S)(P,!U)?"cardMapView":null),onClickHandler:function(e){return Je(e,A)},children:X}),ee&&d&&Object(F.jsx)(k.a,{"data-testid":"order-now",className:"button redButton search-store-card-btn ".concat(P&&!U?"cardMapView":null),onClickHandler:function(e){return Ge(e,A)},children:q})]})]});return D!==h.a.COUNTRY_CODE_INDIA||d?Qe:null})),Ce=a(20),Ae=h.a.BROWSE_MENU,_e=h.a.PICK_UP,ye=h.a.TAKE_AWAY,Re=h.a.STORE_STATUS_CLOSED_CAPS,we=h.a.STORE_STATUS_CLOSED,ke=h.a.INDIA,Le=function(e){return e===_e?ye:e},He=function(e,t){if(e&&t)return{"max-height":"325px",margin:"0",position:"absolute",bottom:"0"}},Me=Object(pe.j)((function(e){var t,a,i,o,r,s,l,d,u,j,p,h,S,g,T,E,N,D=e.key,C=void 0===D?"":D,A=e.storeName,_=void 0===A?"":A,y=e.storeDistance,R=void 0===y?"":y,w=e.orderTypes,L=void 0===w?[]:w,M=e.addresses,P=void 0===M?{}:M,U=e.storeStatus,B=void 0===U?{}:U,Y=e.onClickMapHandler,W=e.isMapView,V=e.isMobile,z=e.isFavoriteStore,K=e.addToFavoriteHandler,G=e.removeFromFavoriteHandler,J=e.map,X=e.loggedIn,Q=e.storeInfo,Z=void 0===Q?{}:Q,q=e.centerIndex,$=e.storeLength,ee=e.onStoreSelectFinish,te=(null===(t=B.timings)||void 0===t||null===(a=t.operatingHours[0])||void 0===a||null===(i=a.availableHours)||void 0===i?void 0:i.from)||"",ae=null===B||void 0===B||null===(o=B.timings)||void 0===o||null===(r=o.scheduled)||void 0===r?void 0:r.unavailibilities,ne=Object(v.zc)(J).mapText,ie=void 0===ne?"":ne,oe=f.a.MENU_URL,re=f.a.SEARCH_ORDER_DATA,ce=f.a.CURRENT_STORE_INFO,se=f.a.DISPOSITION_DATA,le=f.a.USER_LOCALIZED,de=f.a.SCHEDULE_ORDER_DATA,ue=void 0===de?"":de,ve=f.a.SELECTED_TILE_DATA,Oe=void 0===ve?"":ve,be=Object(b.useContext)(O.a),je=be.userOrderState,me=be.userOrderStateDispatch,pe=Object(m.c)((function(e){return e.appStateReducer.userStatus})),he=Object(m.c)((function(e){return e.tenantReducer})),Ie=Object(m.b)(),De=Object(v.zc)(null===Z||void 0===Z||null===(s=Z.summary)||void 0===s?void 0:s.timings),_e=De.futureDates,ye=De.scheduled,Me=De.asap,Fe=Object(v.zc)(ye).unavailibilities,Pe=Object(v.zc)((null===ye||void 0===ye||null===(l=ye.periods)||void 0===l?void 0:l.length)&&(null===ye||void 0===ye?void 0:ye.periods[0])),Ue=Pe.interval,Be=void 0===Ue?0:Ue,Ye=Pe.startEndTime,We=void 0===Ye?{}:Ye,Ve=Object(v.zc)(We),ze=Ve.from,Ke=Ve.to,Ge=je.dispositionStateData.dispositionType,Je=void 0===Ge?localStorage.getItem("dispositionType"):Ge,Xe=Object(v.Pc)(je.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):je.dispositionNew,Qe=function(){var e;return Object(xe.f)(ze,Ke,Be,null===Me||void 0===Me?void 0:Me.isAvailable,1===_e.length&&(null===he||void 0===he||null===(e=he.country)||void 0===e?void 0:e.toUpperCase())===ke,Fe)},Ze=function(e,t){var a,n;e.preventDefault(),e.stopPropagation(),console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),me({type:le,value:{isLocalized:!0}}),me({type:re,value:{showSearchStore:!1}}),me({type:ue,value:{showScheduleOrder:!0,selectedStoreInfo:t}});var i=null===t||void 0===t||null===(a=t.summary)||void 0===a?void 0:a.timings,o=i.futureDates,r=i.scheduled,c=i.asap,s=(null===r||void 0===r||null===(n=r.periods)||void 0===n?void 0:n.length)&&(null===r||void 0===r?void 0:r.periods[0]),l=s.interval,d=void 0===l?0:l,u=s.startEndTime,v=void 0===u?{}:u,O=v.from,b=v.to;Object(xe.f)(O,b,d,null===c||void 0===c?void 0:c.isAvailable,1===o.length&&"INDIA"===(null===he||void 0===he?void 0:he.country)),Object(H.k)(),function(e){var t=e||null;me({type:Oe,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),me({type:ce,value:t})}(t),ee(e,Je)},qe=Object(ge.a)(Z);return Object(F.jsxs)("div",{className:"store-card ".concat(W&&!V?"store-card-map-view":"store-card-mobile-view"),style:He(W,V),"data-testid":"closed-card",id:"map-store-card",children:[Object(F.jsxs)("div",{className:"d-flex",children:[Object(F.jsxs)("div",{className:"store-dist-container ".concat(W&&"map-view"),children:[Object(F.jsx)("div",{className:"store-name-container",children:Object(F.jsx)("span",{className:"card-store-name",children:_})}),Object(F.jsx)("span",{className:"store-distance",children:Ne(R,he)})]}),W&&Object(F.jsx)("span",{className:"store-index",children:"".concat(q+1," of ").concat($)})]}),Object(F.jsxs)("div",{className:"card-content",children:[Object(F.jsx)("div",{className:"order-items",children:(N=L,N.map((function(e,t){return Object(F.jsxs)("div",{className:"store-order-options",children:[Object(F.jsx)("span",{children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:fe.a,alt:"tick",className:"tick-image"})}),Object(F.jsx)("span",{children:Le(e)})]},t)})))}),Object(F.jsxs)("div",{className:"w-100",children:[Object(F.jsx)("span",{className:"store-address",children:function(){var e;return"".concat(null===(e=P.addressLines)||void 0===e?void 0:e.join(" ")," ").concat(P.city," ").concat(P.state," ").concat(P.country," ").concat(P.pinCode)}()}),!W&&Object(F.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:function(){return Y()},children:Object(F.jsx)(x.a,{className:"card-map-link",children:ie})})]}),Object(F.jsx)("div",{className:"info-timingClosed",children:Object(F.jsxs)("ul",{children:[Object(F.jsx)("li",{children:Object(v.U)((null===(d=B.status)||void 0===d?void 0:d.currentStatus)===Re,0===(null===B||void 0===B||null===(u=B.timings)||void 0===u||null===(j=u.scheduled)||void 0===j||null===(p=j.periods)||void 0===p?void 0:p.length))?Object(F.jsx)("span",{className:"closed-text",children:we}):""}),Object(F.jsx)("li",{children:(null===ae||void 0===ae?void 0:ae.length)>0&&Object(Ce.B)(null===(h=ae[0])||void 0===h?void 0:h.to,"HH MM","HH:MM")<=Object(Ce.B)(Ke,"HH MM","HH:MM")?"Open Today ".concat((null===(S=ae[0])||void 0===S?void 0:S.to)&&Object(Ce.B)(null===(g=ae[0])||void 0===g?void 0:g.to,"hh mm","hh:mm a")):"Open ".concat((null===(T=B.timings)||void 0===T||null===(E=T.scheduled)||void 0===E||E.date,Qe().length?"Today":"Tomorrow")," ").concat(te&&Object(Ce.B)(te,"hh mm","hh:mm a"))})]})}),Object(F.jsx)("div",{className:"facilities",children:qe&&qe.map((function(e){return Object(F.jsx)(I.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)}))}),Object(F.jsxs)("div",{className:"w-100 d-flex mt-2",children:[X&&(z?Object(F.jsx)(I.a,{"data-testid":"favorite-img",srcFile:Ee.a,alt:"favorite",className:"favorite-img",onClick:function(){return G()}}):Object(F.jsx)(I.a,{"data-testid":"unfavorite-img",srcFile:Te.a,alt:"favorite",className:"favorite-img",onClick:function(){return K()}})),Qe().length>0?Object(F.jsx)(k.a,{className:"button whiteButton blackBorder search-store-card-btn schedule-order-btn","data-testid":"schedule-order-closed-store",onClickHandler:function(e){return Ze(e,Z)},children:Object(c.e)("scheduleOrder")}):Object(F.jsx)(k.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn","data-testid":"browser-menu-closed-store",onClickHandler:function(){Object(v.Td)(Z,me,Xe,Je),Ie(Object(Se.a)(Object(n.a)(Object(n.a)({},pe),{},{localized:!0}))),Object(v.Sd)(),me({type:se,value:{showDisposition:!1}}),me({type:re,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(oe)})},children:Object(c.e)(Ae)})]})]})]},C)})),Fe=a(255),Pe=a.p+"static/media/successSign.9ca85326.svg",Ue=a(1265),Be=a(1262),Ye=a(43),We=function(e){return!0===e?"store-count-title fav-store savedKFC":"store-count-title active-tab fav-store savedKFC"},Ve=function(e,t){return e&&t?"store-count-title active-tab savedKFC":e&&!t?"store-count-title savedKFC":e?void 0:"store-count-title  guest-color"},ze=function(e){var t,a,n;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.menu)||void 0===a||null===(n=a.catalogs)||void 0===n?void 0:n.length)>0},Ke=function(e){return e?Fe.a:M.a},Ge=function(e){var t=document.querySelector(".searchStore-module-form .store-count a.store-location-link");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()},Je=function(e,t,a){return!0===e?t():a()},Xe=Object(pe.j)((function(e){var t,a,o=e.formContent,r=void 0===o?{}:o,s=e.storeData,d=void 0===s?[]:s,p=e.eligibleStoreData,T=void 0===p?[]:p,M=e.favoriteStoreData,P=void 0===M?[]:M,U=e.userPositionHandler,B=e.singInClickhandler,V=e.currentMarket,z=e.storeCardLimit,K=void 0===z?1/0:z,G=e.onStoreSelectFinish,J=e.handleGoBack,X=e.noStoresList,Q=e.favoriteStoreHandler,Z=r.memberText,q=void 0===Z?"":Z,$=r.singInLink,ee=void 0===$?{}:$,te=r.currentLocationText,ae=void 0===te?"":te,ne=r.addressBoxPlaceHolderForSearchStore,ie=void 0===ne?"":ne,oe=r.mapText,re=void 0===oe?"":oe,ce=h.a.MIN_SEARCH_CHARACTER_LIMIT,se=h.a.SUUGESTED_ITEMS_TEXT,le=h.a.ALLOWED_SUGGESTION_LIST,de=h.a.ALREADY_SERACHED_LOCATIONS,ue=h.a.COUNTRY_CODE,ve=h.a.SUGGESTION_ACTIVE_COLOR,Oe=h.a.SUGGESTION_ACTIVE_OPACITY,be=h.a.BRAND_BLACK,je=h.a.STORE_STATUS_OPEN,me=h.a.LIST_TEXT,pe=h.a.TYPE_TAKE_WAY,fe=h.a.STORE_STATUS_CLOSED_CAPS,he=h.a.BROWSE_MENU,Se=h.a.CTA1_SEARCH_DIFF_ADDRESS,ge=h.a.DINEIN_UNAVAILABLE,Te=h.a.CTA2_ORDER_TAKEAWAY,Ee=h.a.TAKEAWAY_UNAVAILABLE_WITH_CTA,Ie=h.a.DINE_IN_SERVICE,Ne=h.a.DINE_IN,Ce=h.a.TYPE_DELIVERY,Ae=h.a.TAKE_AWAY,_e=f.a.DISPOSITION_METHOD,ye=f.a.MENU_URL,Re=f.a.SEARCH_ORDER_DATA,we=f.a.CURRENT_STORE_INFO,ke=f.a.DISPOSITION_DATA,Le=f.a.INDIA,He=j.a.useContext(O.a).userOrderState,Fe=He.searchStoreData,We=void 0===Fe?{}:Fe,Xe=He.dispositionStateData,qe=void 0===Xe?{}:Xe,$e=He.scheduleOrderData,et=void 0===$e?{}:$e,tt=qe.dispositionType,at=void 0===tt?localStorage.getItem("dispositionType"):tt,nt=j.a.useState(""),it=Object(i.a)(nt,2),ot=it[0],rt=it[1],ct=Object(b.useState)({}),st=Object(i.a)(ct,2),lt=st[0],dt=st[1],ut=Object(b.useState)({}),vt=Object(i.a)(ut,2),Ot=vt[0],bt=vt[1],jt=Object(b.useState)(!1),mt=Object(i.a)(jt,2),pt=mt[0],ft=mt[1],ht=Object(b.useState)(!1),St=Object(i.a)(ht,2),gt=St[0],Tt=St[1],Et=j.a.useState([]),xt=Object(i.a)(Et,2),It=xt[0],Nt=xt[1],Dt=j.a.useState(!1),Ct=Object(i.a)(Dt,2),At=Ct[0],_t=Ct[1],yt=Object(b.useState)(null),Rt=Object(i.a)(yt,2),wt=Rt[0],kt=Rt[1],Lt=Object(b.useState)(Object(v.Uc)(window.innerWidth)),Ht=Object(i.a)(Lt,2),Mt=Ht[0],Ft=Ht[1],Pt=0,Ut=Object(b.useState)(0),Bt=Object(i.a)(Ut,2),Yt=Bt[0],Wt=Bt[1],Vt=Object(b.useState)(""),zt=Object(i.a)(Vt,2),Kt=zt[0],Gt=zt[1],Jt=j.a.useState(!1),Xt=Object(i.a)(Jt,2),Qt=Xt[0],Zt=Xt[1],qt=j.a.useState([]),$t=Object(i.a)(qt,2),ea=$t[0],ta=$t[1],aa=j.a.useState([]),na=Object(i.a)(aa,2),ia=na[0],oa=na[1],ra=Object(b.useContext)(O.a).userOrderStateDispatch,ca=0,sa=Object(m.b)(),la=Object(m.c)((function(e){return e.tenantReducer})),da=(la||{}).tenantId,ua=void 0===da?{}:da,va=0,Oa=j.a.useState(!1),ba=Object(i.a)(Oa,2),ja=ba[0],ma=ba[1],pa=j.a.useState(!1),fa=Object(i.a)(pa,2),ha=fa[0],Sa=fa[1],ga=Object(m.c)((function(e){return e.appStateReducer})),Ta=Object(m.c)((function(e){return Object(v.zc)(e.LoaderReducer)})).isLoading,Ea=ga.userStatus,xa=(void 0===Ea?{}:Ea).loggedIn,Ia=void 0!==xa&&xa,Na=j.a.useState([]),Da=Object(i.a)(Na,2),Ca=Da[0],Aa=Da[1],_a=j.a.useState(!0),ya=Object(i.a)(_a,2),Ra=ya[0],wa=ya[1],ka=Ye.a.getInstance().customerId,La=Object(b.useState)(325),Ha=Object(i.a)(La,2),Ma=Ha[0],Fa=Ha[1],Pa=Object(b.useState)(!1),Ua=Object(i.a)(Pa,2),Ba=Ua[0],Ya=Ua[1],Wa=function(){var e=Object(v.Uc)(window.innerWidth);Ft(e)};Object(b.useEffect)((function(){return window.addEventListener("resize",Wa),function(){window.removeEventListener("resize",Wa)}}),[Mt]),Object(b.useEffect)((function(){return window.addEventListener("keydown",Ge),function(){window.removeEventListener("keydown",Ge)}}));var Va=null===(t=document.getElementById("map-store-card"))||void 0===t?void 0:t.clientHeight;Object(b.useEffect)((function(){Va&&Ma!==Va&&Fa(Va)}),[Va]);var za=function(){var e=Object(g.a)(E.a.mark((function e(t){var a,n,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.geocodeByAddress)(t);case 2:return a=e.sent,e.next=5,Object(A.getLatLng)(a[0]);case 5:n=e.sent,dt(n),bt(n),Pt=0,Ja(t),rt(t),U({userLat:n.lat,userLong:n.lng}),_t(!1),i=Boolean(Object(v.S)(Object(v.xc)(ot,t),Object(v.S)(0===Pt,0===ca))),Zt(i);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ka=function(){localStorage.setItem("currentStoreInfo",JSON.stringify(null)),ra({type:we,value:null}),ra({type:ke,value:{showDisposition:!1}}),ra({type:Re,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(ye)})},Ga=function(e,t,a){return Object(F.jsx)("div",{className:"store-card",children:at.toUpperCase()===pe?Object(F.jsxs)("div",{className:"no-store",children:[Object(F.jsx)("div",{className:"no-store-icon",children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:w.a,alt:"no store"})}),Object(F.jsx)("div",{className:"no-store-text",children:e()}),Object(F.jsx)(k.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn",onClickHandler:Za,children:Object(c.e)(a)})]}):Object(F.jsxs)("div",{className:"no-store",children:[Object(F.jsx)("div",{className:"no-store-icon",children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:w.a,alt:"no store"})}),Object(F.jsx)("div",{className:"no-store-text",children:e()}),Object(F.jsx)(k.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn dine-in-error-btn",onClickHandler:Za,children:Object(c.e)(a)}),Object(F.jsx)(k.a,{"data-testid":"orderTakeaway-click-btn",className:"button whiteButton blackBorder location-warning-button ml dine-in-error-btn",onClick:function(e){return function(e){e.preventDefault(),ra({type:_e,value:{dispositionType:Ae}}),za(ot)}(e)},children:Object(c.e)(Te)})]})})};Object(b.useEffect)((function(){if(null!==et&&void 0!==et&&et.changeFlow||null===We||void 0===We||!We.searchedPlaceNonLocalized){if(localStorage.getItem("searchStoreByAttribute")){var e=localStorage.getItem("searchStoreByAttribute");rt(e),za(e)}}else za(We.searchedPlaceNonLocalized)}),[]);Object(b.useEffect)((function(){if(ot){var e=T.filter(ze);if(e.length>0){var t=e.filter((function(e){var t,a,n,i,o,r;return(null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===je&&(null===(n=e.summary)||void 0===n||null===(i=n.timings)||void 0===i||null===(o=i.scheduled)||void 0===o||null===(r=o.periods)||void 0===r?void 0:r.length)>0}));if(t.length>=K){var a=t.slice(0,K);Nt(a)}else if(t.length<K){var n=K-t.length,i=e.filter((function(e){var t,a,n,i,o,r;return(null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===fe||0===(null===(n=e.summary)||void 0===n||null===(i=n.timings)||void 0===i||null===(o=i.scheduled)||void 0===o||null===(r=o.periods)||void 0===r?void 0:r.length)})).slice(0,n),o=t.concat(i);Nt(o)}}else Pt=0,Nt([])}else Nt([]),Aa([]),ta([]),Zt(!1)}),[T,ot]),Object(b.useEffect)((function(){if(T.length>0){Q({userLat:Ot.lat,userLong:Ot.lng});var e=P.sort((function(e,t){return Object(H.d)(e,t)})),t=null===e||void 0===e?void 0:e.filter((function(e){var t,a;return null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus}));Aa(t)}}),[T,P.length]),Object(b.useEffect)((function(){At&&(rt(Kt),Ja(Kt),_t(!1)),localStorage.getItem("ALREADY_SERACHED_LOCATIONS")!==ot&&(Nt([]),ta([]),kt(""),Aa([]));var e=Object(v.d)(ot,ce);Ya(e)}),[We,ot,At,Kt]);var Ja=function(e){Object(v.md)(e,de)},Xa=function(){var e=Object(g.a)(E.a.mark((function e(){var t,a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.BindLocation();case 2:Object(H.m)(),u.b.coordinates&&(t=u.b.coordinates,a=t.latitude,n=t.longitude,u.b.addFeedback("Check coordinates ".concat(JSON.stringify(u.b.coordinates))),u.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:a,userLong:n}))),u.b.addFeedback("Check address ".concat(u.b.address)),Pt=0,dt({lat:a,lng:n}),ft(!1),U({userLat:a,userLong:n}),Zt(!0),rt(u.b.address),Gt(u.b.address),_t(!0));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qa=function(e){return t=e,Object(v.yc)(JSON.parse(localStorage.getItem(de))).includes(t);var t},Za=function(){rt(""),Aa([]),Nt([]),ta([]),Zt(!1),kt(""),ft(!1)},qa=Object(b.useCallback)(Object(g.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(It.map(function(){var e=Object(g.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{lat:t.location.latitude,lng:t.location.longitude});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:t=e.sent,dt(t);case 4:case"end":return e.stop()}}),e)}))),[It]),$a=Object(b.useCallback)(Object(g.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Ca.map(function(){var e=Object(g.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{lat:t.location.latitude,lng:t.location.longitude});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:t=e.sent,dt(t);case 4:case"end":return e.stop()}}),e)}))),[Ca]),en=function(){Object(H.i)(pt,at),ft(!pt),Tt(!pt)},tn=function(e,t){kt(e),Wt(t)},an=function(){qa(),Tt(!0),kt(Object(v.zc)(It[Yt]))},nn=function(){var e=Object(g.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$a();case 2:Tt(!0),kt(Object(v.zc)(Ca[Yt]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(b.useEffect)((function(){!function(e,t,a,n){var i=n.TYPE_TAKE_WAY,o=n.DINE_IN,r=n.dispositionType,c=n.callSelectedStore,s=n.callSelectedFavStore;e?t.length&&[i,o].indexOf(r.toUpperCase())>-1&&c():a.length&&[i,o].indexOf(r.toUpperCase())>-1&&s()}(Ra,It,Ca,{TYPE_TAKE_WAY:pe,DINE_IN:Ne,dispositionType:at,callSelectedStore:an,callSelectedFavStore:nn});var e=It.filter((function(e){var t,a,n,i,o,r;return(null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===fe||0===(null===(n=e.summary)||void 0===n||null===(i=n.timings)||void 0===i||null===(o=i.scheduled)||void 0===o||null===(r=o.periods)||void 0===r?void 0:r.length)})),t=It.filter((function(e){var t,a,n,i,o,r,c,s,l,d="CLOSED"===e.summary.status.currentStatus,u=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a||null===(n=a.message)||void 0===n?void 0:n.indexOf("EMERGENCY_SHUTDOWN")),v=-1!==(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(o=i.status)||void 0===o||null===(r=o.message)||void 0===r?void 0:r.indexOf("TECHNICAL_SHUTDOWN")),O=null===e||void 0===e||null===(c=e.summary)||void 0===c?void 0:c.timings,b=O.futureDates,j=O.scheduled,m=O.asap,p=j.unavailibilities,f=j&&(null===j||void 0===j||null===(s=j.periods)||void 0===s?void 0:s.length)&&(null===j||void 0===j?void 0:j.periods[0]),h=f.interval,S=void 0===h?0:h,g=f.startEndTime,T=void 0===g?{}:g,E=T.from,x=T.to,I=Object(xe.f)(E,x,S,null===m||void 0===m?void 0:m.isAvailable,1===b.length&&(null===la||void 0===la||null===(l=la.country)||void 0===l?void 0:l.toUpperCase())===Le,p);return(!I||0===I.length)&&d&&(u||v)}));ta(e),oa(t)}),[It,Yt,wt,X,Ne,fe,pe,at,qa,Ra,Ca]);var on=function(e){kt("");var t=e?Yt+1:Yt-1;Wt(t),function(e,t,a,n,i){t(!0===e?Object(v.zc)(a[i]):null===n||void 0===n?void 0:n[i])}(Ra,kt,It,Ca,t)},rn=function(e){wa(e)},cn=function(){localStorage.setItem("setFav",!0),localStorage.removeItem("renderComp")},sn=function(e){cn(),sa(Object(l.s)({data:{storeId:e.id},tenantId:ua,customerId:ka,dispatch:"dispatch"})),Sa(!0)},ln=function(e){cn(),sa(Object(l.t)({tenantId:ua,customerId:ka,storeId:Object(v.zc)(e.id),dispatch:"dispatch"})),Sa(!1)};Object(b.useEffect)((function(){ha&&ma(!0)}),[P.length]),Object(b.useEffect)((function(){0!==Pt||0!==ca||!Qt||X||Ta||(at.toUpperCase()===pe?Object(v.ub)(Object(c.e)(S.a.contentData.searchStoreHeaderText),Object(c.e)(Ee)):Object(v.ub)(Object(c.e)(S.a.contentData.searchStoreHeaderText),Object(c.e)(ge)))}),[Pt,ca,Qt,X,Ta]);var dn=function(e,t){var a,i,o,r,c=(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)===je,s=(e.availableServicesPerChannel&&Object(H.g)(e.availableServicesPerChannel))[0].services,l=void 0===s?[]:s,u="".concat(e.name[0].value,"_").concat(t);return Object(F.jsx)(j.a.Fragment,{children:c?Object(F.jsx)(De,Object(n.a)(Object(n.a)({"data-testid":t,storeName:Object(v.Bc)(e.name[0].value),storeDistance:Object(v.xc)(null===e||void 0===e||null===(o=e.distance)||void 0===o?void 0:o.value,null===e||void 0===e?void 0:e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:Object(v.zc)(e.addresses[0].address)},d[0]),{},{storeInfo:e,currentMarket:V,isOpen:c,isMapView:!0,onStoreSelectFinish:G,isMobile:Mt,centerIndex:Yt,storeLength:Object(v.mc)(Ra,null===It||void 0===It?void 0:It.length,null===Ca||void 0===Ca?void 0:Ca.length)}),t):Object(F.jsx)(Me,Object(n.a)(Object(n.a)({orderTypes:l,storeName:Object(v.Bc)(e.name[0].value),storeDistance:Object(v.xc)(null===e||void 0===e||null===(r=e.distance)||void 0===r?void 0:r.value,null===e||void 0===e?void 0:e.distance),addresses:Object(v.zc)(e.addresses[0].address),storeStatus:e.summary,onStoreSelectFinish:G,isMobile:Mt,isMapView:!0,storeInfo:e,mapText:re,onClick:function(){en(),qa()}},d[0]),{},{onPositionChangeHandler:on,centerIndex:Yt,storeLength:Object(v.mc)(Ra,null===It||void 0===It?void 0:It.length,null===Ca||void 0===Ca?void 0:Ca.length)}),u)})},un=Ca.map((function(e,t){var a,i,o,r;if((null===(a=e.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)===je){var c,s,l=(null===(c=e.summary)||void 0===c||null===(s=c.status)||void 0===s?void 0:s.currentStatus)===je;return l&&va++,Object(F.jsx)(j.a.Fragment,{children:Object(F.jsx)(De,Object(n.a)(Object(n.a)({"data-testid":t,storeName:Object(v.Bc)(e.name[0].value),storeDistance:Object(v.Bc)(e.distance.value),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:Object(v.zc)(e.addresses[0].address)},d[0]),{},{storeInfo:e,currentMarket:V,isOpen:l,onStoreSelectFinish:G,isMobile:Mt,loggedIn:Ia,onClickMapHandler:function(){tn(e,t),en()},isFavoriteStore:!0,addToFavoriteHandler:function(){sn(e)},removeFromFavoriteHandler:function(){ln(e)}}),t)})}if((null===(o=e.summary)||void 0===o||null===(r=o.status)||void 0===r?void 0:r.currentStatus)===fe){va++;var u=(e.availableServicesPerChannel&&Object(H.g)(e.availableServicesPerChannel))[0].services,O=void 0===u?[]:u,b="".concat(e.name[0].value,"_").concat(t);return Object(F.jsx)(j.a.Fragment,{children:Object(F.jsx)(Me,Object(n.a)({storeName:Object(v.Bc)(e.name[0].value),storeDistance:Object(v.Bc)(e.distance.value),orderTypes:O,addresses:Object(v.zc)(e.addresses[0].address),storeStatus:e.summary,mapText:re,isMobile:Mt,loggedIn:Ia,onClickMapHandler:function(){tn(e,t),en()},isFavoriteStore:!0,addToFavoriteHandler:function(){sn(e)},removeFromFavoriteHandler:function(){ln(e)},onStoreSelectFinish:G,storeInfo:e},d[0]),b)})}})),vn=It.map((function(e,t){var a,i,o,r;if(ot||Nt([]),Pt>=K||0===(null===(a=e.summary)||void 0===a||null===(i=a.timings)||void 0===i||null===(o=i.scheduled)||void 0===o||null===(r=o.periods)||void 0===r?void 0:r.length))return null;var c,s,l=(null===(c=e.summary)||void 0===c||null===(s=c.status)||void 0===s?void 0:s.currentStatus)===je;return l&&Pt++,Object(F.jsx)(j.a.Fragment,{children:Object(F.jsx)(De,Object(n.a)(Object(n.a)({"data-testid":t,storeName:Object(v.Bc)(e.name[0].value),storeDistance:Object(v.Bc)(e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:Object(v.zc)(e.addresses[0].address)},d[0]),{},{storeInfo:e,currentMarket:V,isOpen:l,onStoreSelectFinish:G,isMobile:Mt,loggedIn:Ia,onClickMapHandler:function(){tn(e,t),en()},isFavoriteStore:P.some((function(t){return t.id===e.id})),addToFavoriteHandler:function(){sn(e)},removeFromFavoriteHandler:function(){ln(e)}}),t)})})),On=function(){var e=-1!==at.toLowerCase().indexOf("dine")?Ie:at;if(a=Object(H.a)(e,T))return Object(F.jsx)(j.a.Fragment,{children:Object(F.jsx)(Y,{errorMsgToShow:a,onClearTextHandler:Za,dispositionType:at,handleGoBack:J})})},bn=function(){if(It.length===ia.length&&ia.length>0){var e=-1!==at.toLowerCase().indexOf("dine")?Ie:at,t=Object(H.a)(e,T);return Object(v.ub)(Object(c.e)(S.a.contentData.searchStoreHeaderText),Object(c.e)(t)),On()}if(It.length===ea.length&&ea.length)return jn;var n=-1!==at.toLowerCase().indexOf("dine")?Ie:at;return It.length&&(a=Object(H.a)(n,It))?On():(Pt<5&&vn.push(jn),vn)},jn=ea.map((function(e,t){var a=e.availableServicesPerChannel&&Object(H.g)(e.availableServicesPerChannel),i=Object(v.yc)(a[0]).services,o=void 0===i?[]:i;if(ot||Nt([]),ca>=K-Pt)return null;ca++;var r="".concat(e.name[0].value,"_").concat(t),c=It.findIndex((function(t){return t.id===e.id}));return Object(F.jsx)(j.a.Fragment,{children:Object(F.jsx)(Me,Object(n.a)({storeName:Object(v.Bc)(e.name[0].value),storeDistance:Object(v.Bc)(e.distance),orderTypes:o,addresses:Object(v.zc)(e.addresses[0].address),storeStatus:e.summary,mapText:re,isMobile:Mt,loggedIn:Ia,onClickMapHandler:function(){tn(e,c),en()},isFavoriteStore:P.some((function(t){return t.id===e.id})),addToFavoriteHandler:function(){sn(e)},removeFromFavoriteHandler:function(){ln(e)},onStoreSelectFinish:G,storeInfo:e},d[0]),r)})})),mn=function(){switch(at.split("-").join(" ").toUpperCase()){case pe:return Object(c.e)(Ee);case Ne:return Object(c.e)(ge);default:return null}};return Object(F.jsxs)(j.a.Fragment,{children:[Object(F.jsxs)("div",{className:"searchStore-module-form","data-testid":"searchstore-component",children:[Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:"store-count",children:[Object(F.jsx)("span",{className:"member-signin",children:!Ia&&Object(F.jsxs)("div",{"data-id":W.M.HEADER_SIGN_IN_ATTR_DATA_ID,"data-testid":"memberText",children:[Object(c.e)(q),Object(F.jsx)("span",{onClick:B,children:Object(F.jsx)(x.a,{className:"store-signin-link",targettype:ee.targetType,href:ee.linkUrl,"data-testid":"store-signin-link",children:Object(c.e)(ee.linkText)})})]})}),Object(F.jsx)("span",{children:Object(F.jsxs)(x.a,{onClickHandler:Xa,className:"store-location-link","data-testid":"useCurrentLocation",children:[Object(F.jsx)(I.a,{"data-testid":"",srcFile:N.a,alt:"location",className:"location-img"}),Object(c.e)(ae)]})})]}),Object(F.jsx)("div",{className:"search-address",children:Object(F.jsx)("div",{className:"input-address",children:Object(F.jsx)(_.a,{"data-testid":"handle-select",value:ot,onChange:function(e){e||Za(),rt(e),Object(v.Ob)(e)<3&&Ya(!1)},onSelect:za,searchOptions:{componentRestrictions:{country:ue}},shouldFetchSuggestions:!0,onError:function(e,t){t()},children:function(e){var t=e.getInputProps,i=e.suggestions,o=e.getSuggestionItemProps;e.loading;return Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:"".concat(a||0===Pt&&0===ca&&Qt&&X&&!It.length?"search-container-data error-border":"search-container-data"),children:[Object(F.jsx)(I.a,{"data-testid":"",srcFile:D.a,alt:"googleMapLocation",className:"google-location-img"}),Object(F.jsx)("input",Object(n.a)({"data-testid":"store-search-input",className:"store-search-input t-2"},t({placeholder:Object(c.e)(ie)}))),ot&&Object(F.jsx)("img",{"data-testid":"clear-text-icon",src:y.a,className:"clearTextIcon",onClick:function(){return Za()}})]}),!!Object(v.S)(Object(v.Ob)(i),Ba)&&Object(F.jsx)("div",{className:"suggestion-list","data-testid":"suggestionlist-id",children:i.map((function(e,t){var a;if(null!==e&&void 0!==e&&null!==(a=e.types)&&void 0!==a&&a.some((function(e){return le.includes(e)}))){var i=e.active?{backgroundColor:ve,opacity:Oe}:{backgroundColor:be};return Object(F.jsxs)(j.a.Fragment,{children:[0===t&&Object(F.jsx)("div",{className:"suggestion-items suggest-text",id:"suggestion-text","data-testid":"suggestion-item-".concat(t),children:Object(c.e)(se)}),Object(F.jsx)("div",{style:i,children:Object(F.jsx)("div",Object(n.a)(Object(n.a)({"data-testid":"suggestion-item-".concat(t)},o(e,{className:"suggestion-items",id:"suggestion-items"})),{},{children:Object(F.jsxs)("div",{className:"suggested-address-alignment",children:[Object(F.jsx)("div",{children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:Qa(e.description)?R.a:C.a,alt:"googleMapLocation",className:"suggetion-pin",id:"suggetion-pin"})}),Object(F.jsx)("div",{className:"suggestion-description",children:e.description})]})}),t)})]})}}))})]})}})})})]}),Object(F.jsx)("div",{className:"my-3 store-form-separation margin-bottom"}),Qe(ot,pt,me,en,qa),Object(F.jsxs)("form",{className:"form",children:[Object(F.jsxs)("div",{className:"store-count",children:[!!Pt&&Object(F.jsx)("span",{"data-testid":"tab-open-store",className:Ve(Ia,Ra),onClick:function(){Wt(0),rn(!0)},children:Ia?Object(F.jsxs)("span",{children:[" ","".concat(Object(c.e)("nearYou"))," (",Pt+ca,")"]}):Object(F.jsxs)("span",{children:[Pt+ca," ","".concat(Object(c.e)("nearYou"))]})}),!!ca&&It.length===ea.length&&It.length!==ia.length&&Object(F.jsx)("span",{"data-testid":"tab-closed-store",className:Ve(Ia,Ra),onClick:function(){Wt(0),rn(!0)},children:"".concat(Object(c.e)("nearYou")," (").concat(ca,")")}),0===Pt&&0===ca&&Qt&&X&&Object(F.jsx)("span",{className:"store-count-title",children:"".concat(Object(c.e)("nearYou")," (").concat(Pt,")")}),Ze(Pt,ca,Ia,va,{firstTab:Ra,setCenterIndex:Wt,handleTabChange:rn}),(!!Pt||!!ca)&&It.length!==ia.length&&Object(F.jsx)("div",{"data-testid":"togglemap-id",onClick:function(){Wt(0),en(),Je(Ra,qa,$a)},children:Object(F.jsxs)(x.a,{className:"map-link",children:[Object(F.jsx)("span",{children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:Ke(pt),alt:"map",className:"map-img"})}),pt?Object(c.e)(me):re]})}),0===Pt&&0===ca&&Qt&&X&&Object(F.jsx)("div",{"data-testid":"show-map-div",onClick:function(){Wt(0),en(),Je(Ra,qa,$a)},children:Object(F.jsxs)(x.a,{className:"map-link",children:[Object(F.jsx)("span",{children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:Ke(pt),alt:"map",className:"map-img"})}),pt?Object(c.e)(me):Object(c.e)(re)]})})]}),pt?Object(F.jsx)("div",{className:"order-button-section",children:0===Pt&&0===ca&&Qt&&X&&Object(F.jsx)("div",{className:"store-card store-card-map-view-error",children:Object(F.jsxs)("div",{className:"no-store",children:[Object(F.jsx)("div",{className:"no-store-icon",children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:w.a,alt:"no store"})}),Object(F.jsx)("div",{className:"no-store-text",children:mn()}),Object(F.jsx)(k.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClickHandler:Ka,children:Object(c.e)(he)})]})})}):Object(F.jsxs)(F.Fragment,{children:[Object(v.S)(!Ta,Object(v.S)(Ra,0!==Pt||0!==ca||!Qt||X||It.length?bn():Ga(mn,Ka,Se))),Ia&&!Ra&&Object(F.jsx)("div",{className:"order-button-section",children:un})]}),Object(F.jsx)("div",{className:"clearfix"}),Object(F.jsx)(Ue.a,{open:ja,anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:1e3,onClose:function(){ma(!1)},children:Object(F.jsxs)(Be.a,{children:[Object(F.jsx)(I.a,{"data-testid":"",srcFile:Pe,alt:"success",className:"success-img"}),"Saved to your favorite store"]})})]})]}),pt&&Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"".concat((null===at||void 0===at?void 0:at.toUpperCase())!==Ce&&"takeawayDineInMap"," delivery-map"),children:[Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(L.a,{latLongValue:lt,loadingElement:Object(F.jsx)("div",{style:{height:"100%"}}),containerElement:Object(F.jsx)("div",{style:{height:"400px"}}),mapElement:Object(F.jsx)("div",{style:{height:"100%"}}),passAddress:function(e){rt(e)},isVisible:at.toUpperCase()===pe||at.toUpperCase()===Ne,isMobile:Mt,centerIndex:Yt,onPositionChangeHandler:on,setShowCard:Tt,setStoreMarker:Object(v.mc)(Ra,(function(e){var t=It.findIndex((function(t){return t.location.latitude===e.lat()&&t.location.longitude===e.lng()}));t>-1&&(Yt===t&&an(),Wt(t))}),(function(e){!function(e,t,a,n,i){var o=e.findIndex((function(e){return e.location.latitude===n.lat()&&e.location.longitude===n.lng()}));o>-1&&(i===o&&t(),a(o))}(Ca,nn,Wt,e,Yt)})),storeCardHeight:Ma}),gt&&wt&&Mt?!a&&dn(wt,"Selected-Card"):null]}),gt&&wt&&!Mt?Object(v.S)(It.length===ea.length,Ra)?!a&&function(e,t){var a=e.availableServicesPerChannel&&Object(H.g)(e.availableServicesPerChannel),i=Object(v.yc)(a[0]).services,o=void 0===i?[]:i,r="".concat(e.name[0].value,"_").concat(t);return Object(F.jsx)(j.a.Fragment,{children:Object(F.jsx)(Me,Object(n.a)(Object(n.a)({storeName:Object(v.Bc)(e.name[0].value),storeDistance:Object(v.Bc)(e.distance),orderTypes:o,addresses:Object(v.zc)(e.addresses[0].address),storeStatus:e.summary,mapText:re,isMobile:Mt,isMapView:!0,onStoreSelectFinish:G,onClick:function(){en(),qa()},storeInfo:e},d[0]),{},{centerIndex:Yt,storeLength:Object(v.mc)(Ra,null===It||void 0===It?void 0:It.length,null===Ca||void 0===Ca?void 0:Ca.length)}),r)})}(wt,"Selected-Card"):dn(wt,"Selected-Card"):""]})})]})}));function Qe(e,t,a,n,i){return Object(F.jsx)(F.Fragment,{children:(null===e||void 0===e?void 0:e.length)<=3&&Object(F.jsxs)("div",{className:"enter-your-address-section",children:[Object(F.jsx)("span",{className:"search-store-text",children:Object(c.e)("pleaseEnterLocation")}),Object(F.jsx)("div",{"data-testid":"show-list-map",className:Object(v.mc)(t,"store-count","show-map-div"),onClick:function(){t&&n(),i()},children:Object(F.jsxs)(x.a,{className:"map-link",children:[Object(F.jsx)("span",{children:Object(F.jsx)(I.a,{"data-testid":"",srcFile:Ke(t),alt:"map",className:"map-img"})}),Object(v.mc)(t,Object(c.e)(a),Object(c.e)("map"))]})})]})})}function Ze(e,t,a,n,i){var o=i.firstTab,r=i.setCenterIndex,s=i.handleTabChange;return Object(F.jsx)(F.Fragment,{children:(!!e||!!t)&&a&&Object(F.jsx)("span",{"data-testid":"tab-favorite-store",className:We(o),onClick:function(){r(0),s(!1)},children:"".concat(Object(c.e)("savedkfc")," (").concat(n,")")})})}var qe=a(796),$e=a(95),et=function(e){var t=e.contentData,a=void 0===t?{}:t,S=e.onStoreSelectFinish,g=f.a.SEARCH_ORDER_DATA,T=f.a.DISPOSITION_DATA,E=f.a.ANALYTICS_LOCALISATION_SIGNIN,x=Object(m.b)(),I=h.a.COUNTRY_CODE,N=h.a.STORE_CARD_LIMIT,D=h.a.TYPE_TAKE_WAY,C=h.a.PICK_UP,A=h.a.TENANT_ID,_=h.a.TENATNT_SESSION_ID,y=h.a.TYPE_DELIVERY,R=Object(b.useContext)(O.a),w=R.userOrderState,k=R.userOrderStateDispatch,L=w.dispositionStateData,M=w.searchStoreData,P=Object(v.Bc)(L).dispositionType,U=void 0===P?localStorage.getItem("dispositionType"):P,B=M.currentMarket,Y=void 0===B?I:B,W=M.storeCardLimit,V=void 0===W?N:W,z=M.storeStatusUrl,K=void 0===z?"".concat(Object(r.a)(o.eb),"v1/stores/{storeid}/{channel}/{service}/status"):z,G=M.tenantID,J=void 0===G?A:G,X=M.tenantSessionID,Q=void 0===X?_:X,Z=a.searchStoreHeaderText,q=void 0===Z?"":Z,$=a.deliveryHeaderText,ee=void 0===$?"":$,te=a.searchStoreModalContent,ae=void 0===te?{}:te,ne=ae.formContent,ie=void 0===ne?{}:ne,oe=ae.locationsContent.storeData,re=void 0===oe?[]:oe,ce=j.a.useState([]),se=Object(i.a)(ce,2),le=se[0],de=se[1],ve=j.a.useState({}),Oe=Object(i.a)(ve,2),be=Oe[0],je=Oe[1],pe=j.a.useState([]),fe=Object(i.a)(pe,2),he=fe[0],Se=fe[1],ge=j.a.useState([]),Te=Object(i.a)(ge,2),Ee=Te[0],xe=Te[1],Ie=Object(m.c)((function(e){return Object(v.zc)(e.tenantReducer)})),Ne=Ie.storeSearch,De=void 0===Ne?{}:Ne,Ce=Ie.tenantId,Ae=Object(m.c)((function(e){return Object(v.zc)(e.storesReducer)})),_e=Ae.allStores,ye=void 0===_e?[]:_e,Re=Ae.storesWithStatus,we=void 0===Re?[]:Re,ke=Ae.isStoreStatusLoading,Le=void 0!==ke&&ke,He=De.maxDriveTimeMins,Me=De.distanceMetrics,Fe=De.maxDeliveryDistanceMtrs,Pe=De.maxPickupDistanceMtrs,Ue=De.geohashprecision,Be=De.boundingBoxSizeMeters,Ye=function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),k({type:T,value:{showDisposition:!1}}),k({type:g,value:{showSearchStore:!1}})};Object(b.useEffect)((function(){var e=function(e){27===e.keyCode&&Ye(e)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var We=function(e){e.stopPropagation(),e.preventDefault(),k({type:T,value:{showDisposition:!0}}),k({type:g,value:{showSearchStore:!1}})},Ve=function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem(E,JSON.stringify(!0)),Object(H.j)(),setTimeout((function(){Object($e.b)()}),500)},ze=Object(m.c)((function(e){return e.profileReducer.favouriteStores}));Object(b.useEffect)((function(){Ke({userLat:be.userLat,userLong:be.userLong})}),[ze.length]),Object(b.useEffect)((function(){ye.length>0&&et(ye)}),[ye]),Object(b.useEffect)((function(){we.length>0&&ot(we)}),[we]),Object(b.useEffect)((function(){(null===U||void 0===U?void 0:U.toUpperCase())===y&&tt(Ee)}),[Ee]);var Ke=function(e){Object(qe.a)(e.userLat,e.userLong,ze,Ge)},Ge=function(e,t){var a=Object(v.mc)((null===U||void 0===U?void 0:U.toUpperCase())===D,C,U),n=K.replace("{channel}",u.b.channel).replace("{service}",a).replace(" ","-"),i=Object(p.a)();Object(H.h)(e,n.toLowerCase(),J,Q||Object(p.a)(),i,Je)},Je=function(e){var t=e.map((function(e){var t=e.storeBasic,a=t.additionalProperties,i=void 0===a?[]:a,o=t.address,r=t.amenities,c=t.dname,s=t.id,l=t.location;return Object(n.a)(Object(n.a)({},e),{},{id:s,location:l,name:c,amenities:r,addresses:o,additionalAttributes:i,storeBasic:{}})}));Se(t)},Qe=function(e){x(Object(s.b)()),je({userLat:e.userLat,userLong:e.userLong}),le&&de([]),Ze(e.userLat,e.userLong),setTimeout((function(){x(Object(s.a)())}),2e3)},Ze=function(e,t){var a={lat:e,lon:t,distanceFromCurrentLoc:Be/1e3,geohashprecision:Ue},n=d.a.calculateGH(a);x(Object(l.r)(null===n||void 0===n?void 0:n.length))},et=function(e){var t=Object(v.sb)(U.toUpperCase()),a=e.filter((function(e){var t,a;return Object(v.gd)(e.id)&&Object(v.gd)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(v.gd)(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)})),n={stores:a,disposition:t,distanceMetrics:Me,driveTime:He,distanceInMtrs:Object(v.mc)(U.toUpperCase()===y,Fe,Pe),noOfStores:Object(v.mc)(U.toUpperCase()===y,2,a.length),channel:u.b.channel},i=d.a.checkAndProceed(n);xe(i),U.toUpperCase()===y?tt(i):it(i,t)},tt=function(e){var t=[];null===e||void 0===e||e.forEach((function(e){var a,n;t.push({lat:null===(a=e.location)||void 0===a?void 0:a.latitude,lng:null===(n=e.location)||void 0===n?void 0:n.longitude})})),Object(qe.b)(t,[{lat:be.userLat,lng:be.userLong}],at)},at=function(e){var t=e.allStoreDistance,a=(e.originAddressText,Object(v.sb)(U.toUpperCase())),n={stores:nt(t,Ee),numberOfStores:2,disposition:a,distanceMetrics:Me,driveTime:He,distanceInMtrs:Object(v.mc)((null===U||void 0===U?void 0:U.toUpperCase())===y,Fe,Pe),channel:u.b.channel},i=d.a.getSortedNearbyStores(n);(null===i||void 0===i?void 0:i.length)>0&&it(i,a)},nt=function(e,t){return null===t||void 0===t?void 0:t.map((function(t,a){return Object(n.a)(Object(n.a)({},t),{},{distance:e[a]})}))},it=function(e,t){var a={data:null===e||void 0===e?void 0:e.map((function(e){return{storeId:e.id,channel:u.b.channel,service:t}})),store:e,tenantId:Ce,setStatusFlag:!1,isFavoritePage:!1};x(Object(l.d)(a,null))},ot=function(e){var t=e.filter((function(e){var t,a,n,i,o,r,c,s,l,d,u,v;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)&&(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(i=n.status)||void 0===i?void 0:i.currentStatus)&&(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(r=o.menu)||void 0===r||null===(c=r.catalogs)||void 0===c?void 0:c.length)&&(null===e||void 0===e||null===(s=e.summary)||void 0===s||null===(l=s.timings)||void 0===l||null===(d=l.operatingHours)||void 0===d?void 0:d.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v?void 0:v.asap)}));de(t)},rt=(null===U||void 0===U?void 0:U.toUpperCase())===y?Object(F.jsx)(ue,{singInClickhandler:Ve,formContent:ie,storeData:re,onStoreSelectFinish:S,eligibleStoreData:le,storeCardLimit:V,userPositionHandler:Qe,currentMarket:Y}):Object(F.jsx)(Xe,{singInClickhandler:Ve,formContent:ie,storeData:re,eligibleStoreData:le,noStoresList:Le,storeCardLimit:V,userPositionHandler:Qe,currentMarket:Y,onStoreSelectFinish:S,handleGoBack:We,favoriteStoreData:he,favoriteStoreHandler:Ke});return Object(F.jsx)(me,{handleClose:Ye,orderModeTypeItem:rt,headerText:Object(v.mc)((null===U||void 0===U?void 0:U.toUpperCase())===y,Object(c.e)(ee),Object(c.e)(q)),handleGoBack:We,modalTitleId:"search-store"})};et.defaultProps=S.a;t.default=et},767:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return n}));var n,i=a(8),o=a(2),r=a.n(o),c=function(){var t=Object(i.a)(r.a.mark((function t(){var n,i,o,c,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=null===(n=e)||void 0===n||null===(i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in"}))||void 0===i?void 0:i.REACT_APP_TENANT_CODE,t.next=3,Promise.resolve().then(a.bind(null,137));case 3:return c=t.sent,s=c.default[o.toUpperCase()].MENU_PLP_CONSTANTS,t.abrupt("return",s);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:n=e.sent;case 3:case"end":return e.stop()}}),e)})))()}).call(this,a(85))},769:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(17),i=a(10),o=a(224),r=a(11),c=[{key:n.d.roundTheClock,image:o.a.RoundTheClockDark,label:Object(i.e)(r.a.ROUND_THE_CLOCK)},{key:n.d.birthday,image:o.a.BirthdayDark,label:Object(i.e)(r.a.BIRTHDAY)},{key:n.d.breakfast,image:o.a.BreakfastDark,label:Object(i.e)(r.a.BREAKFAST)},{key:n.d.contactless,image:o.a.ContactlessDark,label:Object(i.e)(r.a.CONTACTLESS)},{key:n.d.driveThru,image:o.a.DrivethruDark,label:Object(i.e)(r.a.DRIVETHRU)},{key:n.d.driveThruOnly,image:o.a.DrivethruDark,label:Object(i.e)(r.a.DRIVETHRU)},{key:n.d.foodCourt,image:o.a.FoodCourtDark,label:Object(i.e)(r.a.FOODCOURT)},{key:n.d.wifi,image:o.a.WifiDark,label:Object(i.e)(r.a.FREE_WIFI)},{key:n.d.wifiOnly,image:o.a.WifiDark,label:Object(i.e)(r.a.WIFI)},{key:n.d.kiosks,image:o.a.KiosksDark,label:Object(i.e)(r.a.KIOSKS)},{key:n.d.parking,image:o.a.ParkingDark,label:Object(i.e)(r.a.PARKING)},{key:n.d.playground,image:o.a.PlaygroundDark,label:Object(i.e)(r.a.PLAYGROUND)},{key:n.d.refill,image:o.a.RefillDark,label:Object(i.e)(r.a.REFILL)},{key:n.d.terraces,image:o.a.TerracesDark,label:Object(i.e)(r.a.TERRACES)},{key:n.d.phc,image:o.a.AccessibilityDark,label:Object(i.e)(r.a.ACCESSIBILTY)},{key:n.d.accessibility,image:o.a.AccessibilityDark,label:Object(i.e)(r.a.ACCESSIBILTY)},{key:n.d.restroom,image:o.a.RestRoomDark,label:Object(i.e)(r.a.RESTROOM)},{key:n.d.cateringType,image:o.a.BirthdayDark,label:Object(i.e)(r.a.CATERING_TEXT)}],s=function(e,t){return c.filter((function(t){var a,n;if(null!==e&&void 0!==e&&null!==(a=e.amenities)&&void 0!==a&&a.length)return(null===e||void 0===e||null===(n=e.amenities)||void 0===n?void 0:n.indexOf(null===t||void 0===t?void 0:t.key))>=0}))}},771:function(e,t,a){"use strict";var n=a(28),i=a(4),o=a.n(i),r=a(248),c=a(254),s=a(249),l=a(45),d=a(245),u=a(136),v=a(10),O=a(7),b=a(60),j=a(3),m=a(5);t.a=function(e){var t,a,p=e.locationAlertProp,f=e.negativeScenarioAlertProp,h=e.isMobile,S=e.onPositionChangeHandler,g=e.centerIndex,T=e.isVisible,E=e.setShowCard,x=e.locationAlert,I=e.setStoreMarker,N=void 0===I?function(){}:I,D=e.passAddress,C=e.storeCardHeight,A=e.latLongValue,_=l.a.PLACE_PIN,y=o.a.useContext(b.a).userOrderState.dispositionStateData,R=(void 0===y?{}:y).dispositionType,w=void 0===R?localStorage.getItem("dispositionType"):R,k=o.a.createRef(),L=Object(i.useState)(A),H=Object(n.a)(L,2),M=H[0],F=H[1],P=Object(i.useState)(!1),U=Object(n.a)(P,2),B=U[0],Y=U[1];Object(i.useEffect)((function(){t=W(M),a=V(M)}),[]),Object(i.useEffect)((function(){F(A),Y(!1)}),[A]),Object(i.useEffect)((function(){W(M),a=V(M)}),[M,g,B]);var W=function(e){return new window.google.maps.Map(k.current,{zoom:10,center:Array.isArray(e)&&e.length>0?e[g]:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!h,gestureHandling:"greedy"})},V=function(e){var n=new window.google.maps.Geocoder,i=e;t=W(i),T?B||(t.addListener("zoom_changed",(function(){E(!1),Y(!0)})),t.addListener("drag",(function(){E(!1),Y(!0)}))):(t.addListener("drag",(function(){i={lat:t.getCenter().lat(),lng:t.getCenter().lng()},a.setPosition(i)})),window.google.maps.event.addListener(t,"dragend",(function(){!function(e,t,a){e.geocode({location:a},(function(e,t){"OK"===t&&e[0]&&D(e[0].formatted_address)}))}(n,0,i)})));var o=Object(O.mc)(Array.isArray(i)&&i.length>0,i,[i]).map((function(e,a){var n=new window.google.maps.Marker({position:e,map:t,visible:!0,icon:Object(O.xc)(!T,!B&&T&&a===g)?(null===w||void 0===w?void 0:w.toUpperCase())===j.Bd?c.a:r.a:s.a});return n.addListener("click",(function(e){N(e.latLng)})),n}));return Object(O.mc)(Array.isArray(i),o,o[0])};return Object(m.jsxs)(o.a.Fragment,{children:[!p&&((null===w||void 0===w?void 0:w.toUpperCase())!==j.Bd||""!==f&&f?null:Object(m.jsx)("div",{className:"map-top-note ".concat(Object(O.mc)(x,"place-pin-off","")),children:Object(m.jsx)("div",{className:"map-top-note-text","data-testid":"map-top-text-test",children:Object(v.e)(_)})})),h&&!B&&Object(m.jsxs)("div",{className:"arrows",style:{bottom:"".concat(C+15,"px")},children:[Object(m.jsx)("span",{className:"map-arrow-left ".concat(Object(O.S)(0===g,"disableArrow")),"data-testid":"map-arrow-left",onClick:function(e){return Object(O.mc)(0===g,e.preventDefault(),S(0))},children:Object(m.jsx)(d.a,{srcFile:u.a,alt:"map-arrow-left"})}),Object(m.jsx)("span",{className:"map-arrow-right ".concat(g===M.length-1&&"disableArrow"),"data-testid":"map-arrow-right",onClick:function(e){return g===M.length-1?e.preventDefault():S(1)},children:Object(m.jsx)(d.a,{srcFile:u.a,alt:"map-arrow-right"})})]}),Object(m.jsx)("div",{id:"google-map",ref:k})]})}},777:function(e,t,a){"use strict";a.d(t,"a",(function(){return T}));var n=a(0),i=a(28),o=a(4),r=a.n(o),c=a(794),s=(a(795),a(762)),l=a(12),d=a(134),u=a(5),v=function(e){return Object(u.jsx)(d.a,Object(n.a)({importPath:"CONTENT_DISPOSITION_ITEMS"},e))},O=a(817),b=a(7),j=a(60),m=a(3),p=a(44),f=a(37),h=a(86),S=a(84),g=a(816),T=function(e){var t,a,T=e.userParams,E=e.contentData,x=e.showHeader,I=void 0===x||x,N=e.hideTimeslot,D=e.showCateringDisposition,C=l.a.DISPOSITION_DATA,A=l.a.SCHEDULE_ORDER_DATA,_=l.a.DISPOSITION_METHOD,y=l.a.SHOW_CLEAR_CART_ALERT,R=l.a.SEARCH_ORDER_DATA,w=l.a.CLEAR_CART_CONFIRM_CANCEL_MODAL,k=l.a.clearCartExposedFlag,L=l.a.searchStoreAlertTitle,H=l.a.CURRENT_STORE_INFO,M=E.segmentedHomePageData,F=void 0===M?[]:M,P=F.headline,U=void 0===P?[]:P,B=F.supportedDispositions,Y=void 0===B?[]:B,W=e.contentData&&Object(s.a)(U,Y)||{},V=e.contentData&&e.contentData.contentDispositionData&&Object(b.Qc)(e.contentData.contentDispositionData)&&Object(O.c)(e.contentData.contentDispositionData)||{},z=Object(o.useContext)(j.a)||{},K=z.userOrderState,G=z.userOrderStateDispatch,J=localStorage.getItem(m.ac.SERVICE_TYPE),X=null===J||void 0===J?void 0:J.toUpperCase(),Q=Object(f.c)((function(e){return e.cartReducer})).cartData,Z=void 0===Q?{}:Q,q=Object(o.useState)(I),$=Object(i.a)(q,2),ee=$[0],te=$[1],ae=Object(p.h)(),ne=(Object(p.g)(),Object(f.b)()),ie=Object(o.useCallback)((function(){return T.loggedIn&&((null===ae||void 0===ae?void 0:ae.pathname)===m.Wc.HOME||(null===ae||void 0===ae?void 0:ae.pathname)===m.Wc.HOME_PAGE||(null===ae||void 0===ae?void 0:ae.pathname)===m.Wc.ACCOUNT||(null===ae||void 0===ae?void 0:ae.pathname)===m.Wc.ACTIVE_ORDERS)||sessionStorage.getItem(m.dd.PICKUP_ORDER_CANCELLED)&&((null===ae||void 0===ae?void 0:ae.pathname)===m.Wc.HOME||(null===ae||void 0===ae?void 0:ae.pathname)===m.Wc.HOME_PAGE)}),[null===ae||void 0===ae?void 0:ae.pathname,T.loggedIn]);Object(o.useEffect)((function(){ie()||(te(!0),sessionStorage.removeItem(m.dd.PICKUP_ORDER_CANCELLED))}),[T.localized,ie()]);var oe=function(e,t){e.stopPropagation(),e.preventDefault(),Object(s.d)(t)},re=Object(u.jsx)(d.a,{importPath:"START_ORDER_ITEMS",contentData:W,clickHandler:function(){Object(s.b)(),localStorage.setItem(m.ac.RETAIN_ADDRESS,""),D?(G({type:R,value:{showSearchStore:!0,configSearchScreen:h.c}}),localStorage.setItem(m.ac.CONFIG_SEARCH_SCREEN,h.a),G({type:_,value:{dispositionType:m.bb.CATERING}}),ne(Object(S.q)())):G({type:C,value:{showDisposition:!0}})}}),ce=function(){if(ie())return Object(u.jsx)(d.a,Object(n.a)(Object(n.a)({},e),{},{testId:"HeaderTrackOrderComponent",importPath:"APP_HEADER_ORDER_TRACKER_COMP",setShowBlackStripeContent:te,isHeaderTrackOrderEnabled:ie}))},se=Object(u.jsx)(v,{contentData:V,clickHandler:function(e,t){e.preventDefault(),e.stopPropagation(),G({type:A,value:{showScheduleOrder:!0,selectedStoreInfo:t,changeFlow:!0}}),Object(s.c)(),G({type:H,value:t})},selectedInfo:K,hideTimeslot:N,showBlackStripeContent:ee,headerTrackOrder:ce,activeDisposition:X,dispositionChange:function(e,t){var a,n="";if(e.stopPropagation(),e.preventDefault(),Object(O.b)(t),n=t.trim(),null!==m.cb&&void 0!==m.cb&&m.cb.includes(n.toUpperCase()))if(G({type:_,value:{dispositionType:n}}),(null===Z||void 0===Z||null===(a=Z.foodLines)||void 0===a?void 0:a.length)>0){var i={flag:k,onConfirm:L};Object(b.od)(G,i,y,w)}else G({type:R,value:{showSearchStore:!0}})}});return Object(u.jsx)(r.a.Fragment,{children:Object(u.jsxs)("div",{id:"startorder-container","data-testid":"StartOrder-component",tabIndex:"-1",children:[I&&function(){var e=re;if(ie()&&(e=ee?Object(u.jsxs)("div",{children:[re," ",ce()]}):ce()),Object(b.jc)()===(null===m.H||void 0===m.H?void 0:m.H.IN))Object(b.Qc)(V)&&T.localized&&(e=se);else if(T.localized){var t=Object(b.Pc)(K.dispositionNew)?JSON.parse(localStorage.getItem(m.ac.DISPOSITION_NEW)):K.dispositionNew;t&&Object(b.Qc)(t.store||{})?e=se:Object(b.o)()}return e}(),K.showLocationBlockBanner&&Object(g.e)(),(null===K||void 0===K||null===(t=K.dispositionStateData)||void 0===t?void 0:t.showDisposition)&&Object(u.jsx)(c.a,{}),(null===K||void 0===K||null===(a=K.searchStoreData)||void 0===a?void 0:a.showSearchStore)&&Object(u.jsx)(d.a,{importPath:"SEARCH_STORE_TEMPLATE",onStoreSelectFinish:oe}),(null===K||void 0===K?void 0:K.scheduleOrderData.showScheduleOrder)&&Object(u.jsx)(d.a,{importPath:"SCHEDULE_ORDER_TEMPLATE",onStoreSelectFinish:oe})]})})}},794:function(e,t,a){"use strict";a.d(t,"a",(function(){return Y}));var n=a(8),i=a(0),o=a(28),r=a(2),c=a.n(r),s=a(4),l=a.n(s),d=a(44),u=a(37),v=a(84),O=a(7),b=a(31),j=a(10),m=(a(227),a(49)),p=a(5),f=function(e){var t=e.modalContent,a=e.onDispositionMethodSubmit,n=e.setRef,i=void 0===n?null:n,o=t.contentText,r=void 0===o?"":o,c=t.infoObject,s=void 0===c?null:c,d=t.orderTypes,u=void 0===d?[]:d;console.log("+++++++++",u);var v=u.map((function(e){return Object(p.jsx)(m.c,{variant:e.selectDefault?m.b.secondary:m.b.tertiary,className:"disposition-button",onClickHandler:function(t){a(t,e.type)},id:"DispositionModuleFormSubmit",type:"submit","data-testid":"disposition-order-click-handler-".concat(e.type),"aria-label":"order type ".concat(e.buttonText),children:e.buttonText},e.type)}));return Object(p.jsx)(l.a.Fragment,{children:Object(p.jsxs)("div",{ref:i,className:"disposition-module-form","data-testid":"disposition-component",children:[Object(p.jsx)("h3",{className:"content-text","data-testid":"contenttext-component",children:r}),s&&Object(p.jsx)("div",{role:"alert",className:"info-text","data-testid":"info-component",children:Object(p.jsx)("span",{children:s.infoText})}),Object(p.jsx)("form",{className:"form",onSubmit:a,"data-testid":"form-component",children:v})]})})},h=a(133),S=function(e){var t=e.handleClose,a=e.DispositionModuleForm,n=e.headerText,i=e.modalTitleId,o=void 0===i?"":i;return Object(p.jsx)(l.a.Fragment,{children:Object(p.jsx)(h.a,{id:"DispositionModulePopup",role:"dialog",modalTitleId:o,show:!0,classNames:"disposition-module-modal extra-small-modal",showCloseBtn:!0,closeDataTestId:"disposition-close-handler",closeButtonHandler:t,modalTitle:n,autoFocus:!0,children:a})})},g=a(71),T=a(24),E=a(14),x=a(3),I=a(240),N=a(12),D=function(e,t){var a,n=[],i=Object(g.a)(e);try{for(i.s();!(a=i.n()).done;){var o,r,c=a.value,s=null===c||void 0===c||null===(o=c.fields)||void 0===o||null===(r=o.name)||void 0===r?void 0:r.split("-"),l=s[s.length-1].trim().toUpperCase();if(!t||null===l||void 0===l||!l.includes(I.a.DISPOSITION_TYPE.TYPE_DELIVERY)){var d=c.fields,u=d.buttonText,v=void 0===u?"":u,O=d.selectDefault,b=void 0!==O&&O,j=d.name,m=d.showOption,p=void 0===m||m,f=d.id,h=void 0===f?"":f;n.push({buttonText:v,selectDefault:b,type:j,showOption:p,id:h})}}}catch(S){i.e(S)}finally{i.f()}return n},C=function(e){var t=e[0].fields||{},a=t.headline,n=void 0===a?"":a,i=t.subHeadline,o=void 0===i?"":i,r=t.subHeadlineType,c=void 0===r?"":r,s=t.title;return{modalHeaderText:void 0===s?"":s,contentText:n,infoObject:{type:c,infoText:o}}},A=function(){var e=Object(n.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=[]).push({event:"orderType",dispositionSelected:t.selectedDispositionType}),e.next=4,T.a.registerEvent(void 0,{data:a[0]},O.lb);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(n.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.registerEvent(E.a.localisationStart.name,{"%event%":"localisationStart"},O.lb);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e,t,a,n){var i,o=N.a.CLEAR_CART_CONFIRM_CANCEL_MODAL,r=N.a.SHOW_CLEAR_CART_ALERT;null!==e&&void 0!==e&&null!==(i=e.foodLines)&&void 0!==i&&i.length&&!n?Object(O.od)(t,{},r,o,a):a()},R=function(){var e=Object(n.a)(c.a.mark((function e(){var t,a,n,i=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>0&&void 0!==i[0]?i[0]:"NA",n=i.length>1&&void 0!==i[1]?i[1]:"NA",e.next=4,T.a.registerEvent(null===E.a||void 0===E.a||null===(t=E.a.selectOrderType)||void 0===t?void 0:t.name,{data:{event:x.Yc,disposition:a,userType:n}},O.lb);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=a(60),k=a(38),L=a(762),H=a(67),M=a(114),F=a(180),P=a(767),U=a(45),B=a(86),Y=function(e){var t=P.a.CURRENTLY_CLOSED,a=P.a.SORRY,r=Object(s.useContext)(w.a),l=r.userOrderState,m=r.userOrderStateDispatch,h=l.dispositionStateData.contentData,g=void 0===h?{}:h,T=l.deeplinkSelectedStoreId,E=l.deepLinkStoreMode,Y=Object(O.Qc)(g)&&function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.disposition&&e.disposition.fields||{},n=a.headline,i=void 0===n?[]:n,o=a.supportedDispositions,r=void 0===o?[]:o,c={modalHeaderText:"",modalContent:{}};c.modalContent.orderTypes=D(r,t);var s=C(i),l=s.modalHeaderText,d=s.contentText,u=s.infoObject;return c.modalHeaderText=l,c.modalContent.contentText=d,c.modalContent.infoObject=u,c}(g,E),W=Y.modalContent,V=void 0===W?{}:W,z=Y.modalHeaderText,K=void 0===z?"":z,G=N.a.SEARCH_ORDER_DATA,J=N.a.MENU_URL,X=N.a.DISPOSITION_DATA,Q=N.a.CURRENT_STORE_INFO,Z=N.a.SCHEDULE_ORDER_TIME_DATA,q=N.a.SELECTED_TILE_DATA,$=N.a.DISPOSITION_METHOD,ee=N.a.ADD_TO_CART_CLICK,te=N.a.SET_DISPOSITION,ae=N.a.USER_LOCALIZED,ne=N.a.SCHEDULE_ORDER_TIME_PRESERVE_TIME,ie=N.a.SET_FIND_A_KFC_VIEW,oe=N.a.SET_REDIRECTION_PATH,re=I.a.DISPOSITION_TYPE,ce=re.TYPE_DINE_IN,se=re.TYPE_TAKE_WAY,le=re.TYPE_DELIVERY,de=I.a.FIND_OPEN_KFC_TEXT,ue=I.a.INVALID_QR_TEXT,ve=I.a.CLOSED_STORE_MODAL_SUBTITLE,Oe=I.a.TAKEAWAY_STORE_CLOSED_TEXT,be=I.a.DINE_IN_STORE_CLOSED_TEXT,je=I.a.SWITCH_TO_TAKEAWAY_TEXT,me=I.a.SWITCH_TO_DINEIN_TEXT,pe=l&&l.dispositionStateData&&l.dispositionStateData.dispositionType?l.dispositionStateData.dispositionType:null,fe="",he=Object(O.Pc)(l.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):l.dispositionNew,Se=Object(u.b)(),ge=Object(d.g)(),Te=Object(s.useState)(""),Ee=Object(o.a)(Te,2),xe=Ee[0],Ie=Ee[1],Ne=Object(s.useState)({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),De=Object(o.a)(Ne,2),Ce=De[0],Ae=De[1],_e=Object(u.c)((function(e){return e.cartReducer})),ye=_e.cartData,Re=void 0===ye?{}:ye,we=_e.qrCodeScanTime,ke=Object(u.c)((function(e){return e.tenantReducer})),Le=ke.tenantId,He=Object(u.c)((function(e){return e.profileReducer})).customerId,Me=void 0===He?"":He,Fe=Object(u.c)((function(e){return e.appStateReducer.userStatus})),Pe=Object(u.c)((function(e){return Object(O.zc)(e.storesReducer)})),Ue=Pe.storesWithStatus,Be=void 0===Ue?[]:Ue,Ye=Pe.isStoreStatusLoading,We=Pe.selectedStoreDetailsDL,Ve=void 0===We?{}:We,ze=I.a.DISPOSITION_ACTION.SET_QR_DEEPLINK_MODE;Object(s.useEffect)((function(){Se(Object(v.q)()),Se(Object(v.p)()),Se(Object(v.n)()),function(e,t){e&&(null===t||void 0===t||t.push({pathname:x.Wc.HOME_PAGE}))}(E,ge)}),[Se]);var Ke=Object(s.useCallback)((function(e,t){e.stopPropagation();y(Re,m,(function(){Ae({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),m({type:ze,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}})}),t)}),[ze,m,Re]);Object(s.useEffect)((function(){E&&Se(Object(v.j)({storeId:T,tenantId:Le},null,(function(){Ae({showError:!0,errMsg:Object(j.e)(ue),errDesc:null,buttonText:Object(j.e)(de),buttonCTA:function(e){return Ke(e,!1)}})})))}),[de,ue,E,T,Se,Le]);var Ge=function(e,t,a){e.stopPropagation(),e.preventDefault();var n=t.split("-");if(-1!==(fe=n[n.length-1].trim()).toLowerCase().indexOf("dine")&&(fe=ce),A({selectedDispositionType:fe}),_(),E){var o={data:[{storeId:T,channel:k.b.channel,service:x.Ic},{storeId:T,channel:k.b.channel,service:x.X}],store:[Object(i.a)(Object(i.a)({},Ve),{},{service:x.Ic}),Object(i.a)(Object(i.a)({},Ve),{},{service:x.X})],tenantId:Le,setStatusFlag:!1,isFavoritePage:!1};y(Re,m,(function(){Ie(fe),Se(Object(v.d)(o)),m({type:$,value:{dispositionType:fe}})}),a)}else[ce,se,le].includes(fe.toUpperCase())&&(m({type:G,value:{showSearchStore:!0,configSearchScreen:B.a}}),localStorage.setItem(x.ac.CONFIG_SEARCH_SCREEN,B.a),m({type:X,value:{showDisposition:!1}}),m({type:$,value:{dispositionType:fe}}));var r=Fe.localized,c=void 0!==r&&r,s=Fe.loggedIn,l=void 0!==s&&s,d=Object(O.vc)(c,l);!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NA",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"NA",a=x.H.AU;Object(O.jc)()===a&&R(e,t)}(fe,d)},Je=function(e,t){var a=e||null;m({value:{selectedData:{}},type:q}),localStorage.setItem("currentStoreInfo",JSON.stringify(a)),m({value:a,type:Q}),Se(Object(H.a)(Object(i.a)(Object(i.a)({},Fe),{},{localized:!0}))),m({value:{selectedDateTime:t},type:Z}),m({type:ne,value:{selectContentTime:"ASAP"}}),m({type:ze,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",pe),localStorage.setItem("tenantReducer",JSON.stringify(ke)),localStorage.setItem("dateTimeOrder",JSON.stringify(t)),localStorage.setItem("storeInfo",JSON.stringify(a)),localStorage.setItem("savedTimeOrder","ASAP"),ge.push({pathname:"".concat(J)})},Xe=function(e){(null===e||void 0===e?void 0:e.toUpperCase())===ce?Ae({showError:!0,errMsg:Object(j.e)(be),errDesc:null,buttonText:Object(j.e)(je),buttonCTA:function(e){return Ge(e,x.sd,!0)}}):(null===e||void 0===e?void 0:e.toUpperCase())===se&&Ae({showError:!0,errMsg:Object(j.e)(Oe),errDesc:null,buttonText:Object(j.e)(me),buttonCTA:function(e){return Ge(e,x.Y,!0)}})},Qe=function(){var e=Object(n.a)(c.a.mark((function e(t,a){var n,i,o,r,s,d,u,v,j,p,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=t.filter((function(e){return(null===e||void 0===e?void 0:e.service)===Object(O.sb)(a)})))||void 0===n||!n.length){e.next=18;break}return p={time:"ASAP",interval:null===n||void 0===n||null===(i=n[0].summary.timings.scheduled.periods[0])||void 0===i?void 0:i.interval,date:new Date,selectedTime:"ASAP"},e.next=5,Object(O.Y)(Se,!0,we,null===n||void 0===n?void 0:n[0],Object(O.sb)(a),Me,p);case 5:f=e.sent,Se(Object(b.f)({data:f,tenantId:Le})),m({type:te,value:{oldvalue:he,newValue:{store:null===n||void 0===n?void 0:n[0],time:p.time,date:p.date,type:a,interval:p.interval,deliveryAddress:null===l||void 0===l||null===(o=l.scheduleOrderData)||void 0===o?void 0:o.deliveryAddress,selectedTime:p.selectedTime}}}),localStorage.setItem("dispositionOld",JSON.stringify(he)),localStorage.setItem("dispositionNew",JSON.stringify({type:a,store:null===n||void 0===n?void 0:n[0],date:p.date,time:p.time,selectedTime:p.selectedTime,interval:p.interval,deliveryAddress:null===l||void 0===l||null===(r=l.scheduleOrderData)||void 0===r?void 0:r.deliveryAddress})),Object(O.md)(null===n||void 0===n||null===(s=n[0])||void 0===s||null===(d=s.addresses)||void 0===d||null===(u=d[0])||void 0===u||null===(v=u.address)||void 0===v||null===(j=v.addressLines)||void 0===j?void 0:j[0],U.a.ALREADY_SERACHED_LOCATIONS),Object(O.Sd)(),Object(L.d)(a),m({type:X,value:{showSearchStore:!1}}),m({type:ae,value:{isLocalized:!0}}),Je(null===n||void 0===n?void 0:n[0],p),e.next=19;break;case 18:Xe(a);case 19:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){var e,n,i;Be.length>0&&!Ye&&xe&&E&&function(e,n){null!==e&&void 0!==e&&e.length?Qe(e,pe):Ae({showError:!0,errMsg:"".concat(Object(j.e)(a)," ").concat(n," ").concat(Object(j.e)(t)),errDesc:Object(j.e)(ve),buttonText:Object(j.e)(de),buttonCTA:function(e){return Ke(e,!0)}})}(null===Be||void 0===Be?void 0:Be.filter((function(e){var t,a,n,i,o,r,c,s,l,d,u,v,O;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)&&"OPEN"===(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(i=n.status)||void 0===i?void 0:i.currentStatus)&&(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(r=o.menu)||void 0===r||null===(c=r.catalogs)||void 0===c?void 0:c.length)&&(null===e||void 0===e||null===(s=e.summary)||void 0===s||null===(l=s.timings)||void 0===l||null===(d=l.operatingHours)||void 0===d?void 0:d.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v||null===(O=v.asap)||void 0===O?void 0:O.isAvailable)})),null===Be||void 0===Be||null===(e=Be[0])||void 0===e||null===(n=e.name)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.value)}),[Be,Ye,E]);var Ze=function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),m({type:X,value:{showDisposition:!1}}),m({type:ee,value:{addToCart:!1}}),m({type:ze,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),m({type:ie,value:{findAKFC:!1}}),m({type:oe,value:{redirectionOrder:""}}),window.location.pathname===x.Wc.FIND_STORE&&Object(O.Dd)({history:ge})};Object(s.useEffect)((function(){var e=function(e){27===e.keyCode&&Ze(e)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var qe=Object(p.jsx)(f,{modalContent:V,onDispositionMethodSubmit:Ge}),$e=Object(p.jsx)(S,{handleClose:Ze,DispositionModuleForm:qe,headerText:K,modalTitleId:"dispostion_selector"});return Object(p.jsxs)(p.Fragment,{children:[(null===Ce||void 0===Ce?void 0:Ce.showError)&&Object(p.jsx)(F.a,{handleClose:null,CartAlertForm:Object(p.jsx)(M.a,{title:null===Ce||void 0===Ce?void 0:Ce.errMsg,contentMsg:null===Ce||void 0===Ce?void 0:Ce.errDesc,confirmButtonText:null===Ce||void 0===Ce?void 0:Ce.buttonText,confirmHandler:null===Ce||void 0===Ce?void 0:Ce.buttonCTA,buttonContainerClass:"deeplink-alert-btn-container"})}),$e]})}},795:function(e,t,a){"use strict";var n=a(679);a.d(t,"a",(function(){return n.default}))},796:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return v}));a(71);var n,i,o=a(0),r=a(32),c=(a(23),a(22),a(45)),s=[],l="",d=function(e,t,a,n){if(e,t,i=n,(s=a).length>0){var o=s.map((function(e){var t=e&&e.storeBasic.location;return{lat:t.latitude,lng:t.longitude}})),c=[{lat:e,lng:t}];(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[].concat(c).slice(0,24),destinations:Object(r.a)(o).slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},u)}else i([],"")},u=function(e,t){var a,n;n=e&&e.rows&&e.rows[0].elements.map((function(e){return e}));var r=e&&e.originAddresses&&e.originAddresses[0]||"";a=s.map((function(e,t){return Object(o.a)(Object(o.a)({},e),n[t])})),i(a,r)},v=function(e,t,a){(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:Object(r.a)(e).slice(0,24),destinations:Object(r.a)(t).slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},O),n=a},O=function(e,t){if(t===c.a.OK_STATUS){var a,i=e&&e.rows&&e.rows.map((function(e){return e}));a=null===i||void 0===i?void 0:i.map((function(e){return e.elements[0]})),l=e&&e.originAddresses||[],n({allStoreDistance:a,originAddressText:l})}}},814:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i}));var n="outOfService",i="CLOSED";t.c={TAKEAWAY:"PICKUP",ORDER_TYPE_STORE_INFO_FROM:"from",ORDER_TYPE_STORE_INFO_TO:"to",ORDER_TYPE_STORE_INFO_AT:"at",HOMEPATH:"",HOMEPATHSELECT:"/"}},816:function(e,t,a){"use strict";a.d(t,"b",(function(){return K})),a.d(t,"f",(function(){return G})),a.d(t,"i",(function(){return J})),a.d(t,"c",(function(){return X})),a.d(t,"j",(function(){return Q})),a.d(t,"h",(function(){return $})),a.d(t,"d",(function(){return te})),a.d(t,"e",(function(){return ae})),a.d(t,"g",(function(){return ne})),a.d(t,"a",(function(){return ie}));var n=a(8),i=a(0),o=a(2),r=a.n(o),c=a(12),s=a(135),l=a(114),d=a(261),u=a(107),v=a(10),O=a(69),b=a.p+"static/media/Icon_Alert.b8c6b05d.svg",j=a(38),m=a(3),p=a(7),f=a(5),h=u.b.TAKEAWAY_TITLE,S=u.b.TAKEAWAY_CONTENT,g=u.b.TAKEAWAY_TOAST_MSG,T=u.b.DINEIN_TITLE,E=u.b.DINEIN_CONTENT,x=u.b.DINEIN_TOAST_MSG,I=u.b.NOSTORE_TITLE,N=u.b.NOSTORE_CONTENT,D=u.b.NOSTORE_TOAST_MSG,C=u.b.CLOSED_STORE_TITLE,A=u.b.CLOSED_STORE_CONTENT,_=u.b.LOCATION_ALERT_MSG,y=u.b.CLOSED_STORE_TOAST_MSG,R=u.a.DINE_IN,w=(u.a.DISTANCE_20000MR,u.a.START_ORDER_BUTTON),k=u.a.BROWSE_MENU_BUTTON,L=c.a.SEARCH_ORDER_DATA,H=void 0===L?"":L,M=c.a.SELECTED_TILE_DATA,F=void 0===M?"":M,P=c.a.SCHEDULE_ORDER_TIME_DATA,U=void 0===P?"":P,B=c.a.SET_DISPOSITION,Y=c.a.USER_LOCALIZED,W=c.a.CURRENT_STORE_INFO,V=c.a.SCHEDULE_ORDER_TIME_PRESERVE_TIME,z=c.a.SET_FORCERELOAD,K=function(e,t,a,n,i,o){null!==e&&void 0!==e&&e.length?"DELIVERY"===t.toUpperCase()?o(e):i(e,t):null!==e&&void 0!==e&&e.length||n(t,a)},G=function(e,t,a,n,i,o,r,c,s,l,d,u){var v=e.filter((function(e){var t,a,n,i,o,r,c,s,l,d,u,v,O,b;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)&&(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(i=n.status)||void 0===i?void 0:i.currentStatus)&&"OPEN"===(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(r=o.status)||void 0===r?void 0:r.currentStatus)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(s=c.menu)||void 0===s||null===(l=s.catalogs)||void 0===l?void 0:l.length)&&(null===e||void 0===e||null===(d=e.summary)||void 0===d||null===(u=d.timings)||void 0===u||null===(v=u.operatingHours)||void 0===v?void 0:v.length)>0&&(null===e||void 0===e||null===(O=e.summary)||void 0===O||null===(b=O.timings)||void 0===b?void 0:b.asap)}));if((null===v||void 0===v?void 0:v.length)>0)if(c){var O=JSON.parse(localStorage.getItem(m.Z));O&&(v[0].id!==O.store.id||v[0].service!==O.type?(s(!0),a(!1),d(v[0])):a(!1))}else t(v[0]);else u(!0),l(o,i)},J=function(e,t,a,n,i,o){var r,c;t({type:B,value:{oldvalue:e,newValue:{type:n,store:i,date:o.date,time:o.time,interval:o.interval,selectedTime:o.selectedTime,deliveryAddress:null===a||void 0===a||null===(r=a.scheduleOrderData)||void 0===r?void 0:r.deliveryAddress}}}),localStorage.setItem(m.ab,JSON.stringify(e)),localStorage.setItem(m.Z,JSON.stringify({type:n,store:i,date:o.date,time:o.time,selectedTime:o.selectedTime,interval:o.interval,deliveryAddress:null===a||void 0===a||null===(c=a.scheduleOrderData)||void 0===c?void 0:c.deliveryAddress})),t({type:H,value:{showSearchStore:!1}}),t({type:Y,value:{isLocalized:!0}})},X=function(e,t,a,n){var o=c.a.SCHEDULE_ORDER_DATA,r=c.a.DISPOSITION_METHOD,s=m.ac.DISPOSITION_TYPE,l=m.ac.DISPOSITION_NEW,d=m.ac.CURRENT_STORE_INFO_STORAGE,u=m.ac.STORE_INFO,v=m.ac.DISPOSITION_OLD,O=m.ac.DATE_TIME_ORDER,b=m.ac.SAVED_TIME_ORDER,j={type:"",store:"",date:"",time:"",interval:"",deliveryAddress:"",deliveryAddressLine:"",selectedTime:""};e({type:B,value:{oldvalue:j,newValue:j}}),localStorage.removeItem(v),localStorage.removeItem(l),e({type:U,value:{selectedDateTime:{}}}),e({type:V,value:{}}),localStorage.removeItem(O),localStorage.removeItem(b),a(t(Object(i.a)(Object(i.a)({},n),{},{localized:!1}))),e({type:Y,value:{isLocalized:!1}}),e({type:o,value:{showScheduleOrder:!1,selectedStoreInfo:{},changeFlow:"",isAddressFlow:!1,deliveryAddress:{},deliveryAddressLine:""}}),e({type:r,value:{dispositionType:""}}),localStorage.removeItem(s),localStorage.removeItem(u),localStorage.removeItem(d),e({type:W,value:{}})},Q=function(e,t,a,n,i){e({type:F,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(n)),e({type:W,value:n}),e({type:U,value:{selectedDateTime:a}}),e({type:V,value:{selectContentTime:"ASAP"}}),e({type:z,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(i)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",t),localStorage.setItem("storeInfo",JSON.stringify(n)),localStorage.setItem("dateTimeOrder",JSON.stringify(a)),localStorage.setItem("savedTimeOrder","ASAP")},Z=function(e,t,a,n){var i="";return e?i=n===R?Object(v.e)(T):Object(v.e)(h):a?i=Object(v.e)(I):t&&(i=Object(v.e)(C)),i},q=function(e,t,a,n){var i="";return e?i=n===R?Object(v.e)(E):Object(v.e)(S):a?i=Object(v.e)(N):t&&(i=Object(v.e)(A)),i},$=function(e,t,a,n,i,o,r,c){var s="";return e?(o(!1),s=n===R?Object(v.e)(x):Object(v.e)(g)):a?(r(!1),s=Object(v.e)(D)):t&&(c(!1),s="".concat(Object(v.e)(y)," ").concat(ee(null===i||void 0===i?void 0:i.from)," to ").concat(ee(null===i||void 0===i?void 0:i.to))),s},ee=function(e){return(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[5]=+e[0]<12?"AM":"PM",e[0]=+e[0]%12||12),e.join("")};function te(e,t,a,n,i,o,r,c,u,v,O){var b={HEADER_MSG:{MSGTXT1:Z(a,n,i,o)},CONTENT_MSG:q(a,n,i,o)};return(a||n||i)&&Object(f.jsx)(s.a,{handleClose:t,classNames:"clear-cart-modal",CartAlertForm:Object(f.jsx)(l.a,{splitTitle:b.HEADER_MSG,contentMsg:b.CONTENT_MSG,imageSrc:d.a,altText:"location-error",confirmButtonText:k,cancelButtonText:a?w:null,cancelHandler:a?t:null,confirmHandler:function(){e(n,i)}})})}var ae=function(){return Object(f.jsx)("div",{className:"location-notification col-6",children:Object(f.jsxs)("div",{className:"notify-alert",children:[Object(f.jsx)(O.a,{srcFile:b,className:"location-alert-icon"}),Object(f.jsx)("span",{children:Object(v.e)(_)})]})})},ne=function(){var e=Object(n.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.b.BindLocation();case 2:return e.abrupt("return",j.b.address&&j.b.coordinates);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(e){return e.filter((function(e){var t,a;return Object(p.gd)(e.id)&&Object(p.gd)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(p.gd)(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)}))}},817:function(e,t,a){"use strict";a.d(t,"c",(function(){return O})),a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return j}));var n=a(8),i=a(2),o=a.n(i),r=a(20),c=a(814),s=a(10),l=a(7),d=a(755),u=a(24),v=a(3),O=function(e){var t,a=(e.headline&&e.headline[0].fields&&e.headline[0].fields.desktopImage&&e.headline[0].fields.desktopImage.fields&&e.headline[0].fields.desktopImage.fields.file||{}).url,n=void 0===a?"":a,i=(e.headline&&e.headline[0].fields&&e.headline[0].fields.desktopImage&&e.headline[0].fields.desktopImage.fields||{}).title,o=void 0===i?"":i,r=e.headline&&(null===(t=e.headline[1])||void 0===t?void 0:t.fields)||{},c=r.headline,s=void 0===c?"":c,l=r.subHeadline,d=void 0===l?"":l,u=e.supportedDispositions;return{headline:s,subHeadline:d,supportedDispositionsData:(void 0===u?[]:u).map((function(e){return e.fields})),src:n,alt:o}},b=function(e,t,a){var n,i,o,u,v,O=(null===t||void 0===t||null===(n=t.summary)||void 0===n||null===(i=n.status)||void 0===i?void 0:i.currentStatus)||c.a,b=Object(l.zc)(null===t||void 0===t||null===(o=t.summary)||void 0===o?void 0:o.timings),j=b.futureDates,m=b.scheduled,p=b.asap,f=Object(l.zc)(m).unavailibilities,h=Object(l.zc)((null===m||void 0===m||null===(u=m.periods)||void 0===u?void 0:u.length)&&(null===m||void 0===m?void 0:m.periods[0])),S=h.interval,g=void 0===S?0:S,T=h.startEndTime,E=void 0===T?{}:T,x=Object(l.zc)(E),I=x.from,N=x.to,D=Object(d.f)(I,N,g,null===p||void 0===p?void 0:p.isAvailable,1===(null===j||void 0===j?void 0:j.length)&&"INDIA"===(null===a||void 0===a||null===(v=a.country)||void 0===v?void 0:v.toUpperCase()),f);if(O===c.a&&!D.length)return Object(s.e)(c.b);var C=e.time,A=e.interval,_="object"==typeof e.date?e.date:new Date(e.date),y=Object(r.A)(Object(r.f)(_,"YYYY-MM-DD")+" "+C,"YYYY-MM-DD hh:mm A"),R=Object(r.a)(y,A,"minutes"),w=Object(r.g)(R,"LT");return"ASAP"===C?"".concat(C):"".concat(C," - ").concat(w)},j=function(){var e=Object(n.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=[]).push({event:"orderType",dispositionSelected:t}),e.next=4,u.a.registerEvent(void 0,{data:a[0]},l.lb);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();c.c.ORDER_TYPE_STORE_INFO_FROM,c.c.ORDER_TYPE_STORE_INFO_TO,c.c.ORDER_TYPE_STORE_INFO_AT,v.bb.DELIVERY,v.bb.DINE_IN,v.bb.PICKUP}}]);