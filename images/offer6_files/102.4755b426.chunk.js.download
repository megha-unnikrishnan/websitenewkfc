(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[102],{1105:function(e,t,r){"use strict";var d=r(8),n=r(2),o=r.n(n),c=r(4),i=r(37),u=r(38),a=r(60),s=r(7),l=r(3),O=r(919),v=r(863),p=r(810);t.a=function(e){var t,r,n,f,b,j=e.orderDetails,R=e.updateSetOrderDetails,S=e.children,C=Object(i.b)(),D=Object(c.useContext)(a.a),E=D.userOrderState,I=D.userOrderStateDispatch,_=Object(i.c)((function(e){return e})),g=_.tenantReducer,h=_.appStateReducer,m=_.orderReducer,A=_.postOrderReducer,T=_.cartReducer,y=_.storesReducer,N=_.paymentsContentReducer,w=_.helpReducer,K=_.profileReducer,P=Object(s.Pc)(E.dispositionNew)?JSON.parse(localStorage.getItem(l.ac.DISPOSITION_NEW)):E.dispositionNew,k=function(){R({isMobileView:Object(s.Uc)(window.innerWidth)})},G=(null===(t=window)||void 0===t||null===(r=t.location)||void 0===r?void 0:r.pathname)===(null===l.Wc||void 0===l.Wc?void 0:l.Wc.ORDER_SUMMARY);return Object(c.useEffect)((function(){return window.addEventListener(l.Tc,k),function(){window.removeEventListener(l.Tc,k),R(O.f)}}),[]),Object(c.useEffect)((function(){C&&null!==g&&void 0!==g&&g.tenantId&&Object(O.m)({props:e,dispatch:C,tenantReducer:g,dispositionPaymentPage:P,updateSetOrderDetails:R})}),[C,null===g||void 0===g?void 0:g.tenantId]),Object(c.useEffect)((function(){Object(O.i)({helpReducer:w,updateSetOrderDetails:R})}),[w]),Object(c.useEffect)((function(){null!==h&&void 0!==h&&h.userStatus&&Object(O.g)({appStateReducer:h,updateSetOrderDetails:R})}),[null===h||void 0===h?void 0:h.userStatus]),Object(c.useEffect)((function(){(null!==K&&void 0!==K&&K.favouriteOrders||null!==K&&void 0!==K&&K.savedAddresses)&&Object(O.j)({profileReducer:K,orderDetails:j,updateSetOrderDetails:R})}),[null===K||void 0===K?void 0:K.favouriteOrders,null===K||void 0===K?void 0:K.savedAddresses]),Object(c.useEffect)((function(){var e,t,r,d=sessionStorage.getItem(l.dd.ORDER_TRACKING_CLICK_KFC_ACCOUNT);null!==h&&void 0!==h&&null!==(e=h.userStatus)&&void 0!==e&&e.loggedIn&&d!==(null===K||void 0===K||null===(t=K.basic)||void 0===t?void 0:t.id)&&(sessionStorage.removeItem(l.dd.ORDER_TRACKING_CLICK_KFC_ACCOUNT),R({customerId:null===K||void 0===K||null===(r=K.basic)||void 0===r?void 0:r.id,customer:null===K||void 0===K?void 0:K.basic}))}),[null===h||void 0===h||null===(n=h.userStatus)||void 0===n?void 0:n.loggedIn,null===K||void 0===K||null===(f=K.basic)||void 0===f?void 0:f.id]),Object(c.useEffect)((function(){var e=sessionStorage.getItem(l.dd.ORDER_TRACKING_CLICK_KFC_ACCOUNT);null!==j&&void 0!==j&&j.tenantId&&!e&&(Object(v.p)({dispatch:C,postOrderReducer:A,orderReducer:m,orderDetails:j,updateSetOrderDetails:R}),Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.BindOrder();case 2:case"end":return e.stop()}}),e)})))())}),[null===j||void 0===j?void 0:j.tenantId]),Object(c.useEffect)((function(){Object(v.a)({orderReducer:m,paymentsContentReducer:N,orderDetails:j,updateSetOrderDetails:R,props:e})}),[null===m||void 0===m||null===(b=m.response)||void 0===b?void 0:b.order]),Object(c.useEffect)((function(){y&&Object(O.l)({storesReducer:y,updateSetOrderDetails:R})}),[y]),Object(c.useEffect)((function(){!sessionStorage.getItem(l.dd.ORDER_TRACKING_CLICK_KFC_ACCOUNT)&&Object(O.e)({orderReducer:m,postOrderReducer:A})&&(Object(O.k)({postOrderReducer:A,orderReducer:m,paymentsContentReducer:N,isCheckOrderDetails:!1,orderDetails:j,updateSetOrderDetails:R}),null!==j&&void 0!==j&&j.tenantId&&Object(v.n)({dispatch:C,orderDetails:j,updateSetOrderDetails:R}))}),[null===A||void 0===A?void 0:A.orderAccepted,null===m||void 0===m?void 0:m.pastOrderResponse]),Object(c.useEffect)((function(){var e=sessionStorage.getItem(l.dd.ORDER_TRACKING_CLICK_KFC_ACCOUNT);null!==j&&void 0!==j&&j.orderId&&!e&&(Object(v.m)({dispatch:C,postOrderReducer:A,orderReducer:m,orderDetails:j,updateSetOrderDetails:R}),null!==j&&void 0!==j&&j.isGetStoreStatus||!G||(Object(v.c)({orderDetails:j,dispatch:C}),Object(v.l)({orderDetails:j,dispositionPaymentPage:P,userOrderStateDispatch:I}),I({isGetStoreStatus:!0}),R({orderSummarySaveYourOrderCompleted:Object(O.d)(j)})))}),[null===j||void 0===j?void 0:j.orderId]),Object(c.useEffect)((function(){(null===j||void 0===j?void 0:j.orderId)&&(null===j||void 0===j?void 0:j.orderStatus)&&Object(v.j)({dispatch:C,orderDetails:j,cartReducer:T,userOrderState:E,appStateReducer:h,updateSetOrderDetails:R})}),[null===j||void 0===j?void 0:j.orderStatus]),Object(c.useEffect)((function(){Object(p.Q)(j)&&(null===j||void 0===j?void 0:j.displayStagedOrAcceptedPage)&&(null===j||void 0===j?void 0:j.retryCountForGetOrderStatus)>0&&Object(v.m)({dispatch:C,postOrderReducer:A,orderReducer:m,orderDetails:j,updateSetOrderDetails:R})}),[null===j||void 0===j?void 0:j.retryCountForGetOrderStatus]),S}},744:function(e,t,r){"use strict";r.r(t);var d=r(0),n=r(28),o=r(4),c=r(7),i=r(134),u=r(5),a=function(e){return function(e){return Object(u.jsx)(i.a,Object(d.a)(Object(d.a)({},e),{},{testId:"order_processing_view",importPath:"ORDER_PROCESSING_VIEW"}))}(e)},s=r(919),l=r(863),O=r(1105);t.default=function(e){var t=Object(o.useState)(s.f),r=Object(n.a)(t,2),i=r[0],v=r[1],p=Object(o.useCallback)((function(e){v&&v((function(t){return Object(d.a)(Object(d.a)({},t),e)}))}),[]);return Object(o.useEffect)((function(){return Object(l.b)(e),function(){console.debug("useEffect [] return => ")}}),[]),Object(o.useEffect)((function(){(null===i||void 0===i||!i.displayStagedOrAcceptedPage)&&Object(c.Hd)(e)}),[null===i||void 0===i?void 0:i.displayStagedOrAcceptedPage]),Object(u.jsx)(O.a,Object(d.a)(Object(d.a)({},e),{},{orderDetails:i,updateSetOrderDetails:p,children:Object(u.jsx)(a,Object(d.a)(Object(d.a)({},e),{},{orderDetails:i,updateSetOrderDetails:p}))}))}},760:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return o})),r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return i}));var d=r(1);function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:d.POST_ORDER_ACCEPTED,payload:e,successCallback:t,errorCallback:r}}function o(){return{type:d.RESET_POST_ORDER}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:d.CANCEL_POST_ORDER,payload:e,successCallback:t,errorCallback:r}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:d.CHECK_IN_REQUEST,payload:e,successCallback:t,errorCallback:r}}}}]);