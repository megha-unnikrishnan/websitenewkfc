(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[97],{1077:function(e,t,i){"use strict";i.d(t,"b",(function(){return E})),i.d(t,"a",(function(){return h})),i.d(t,"d",(function(){return f})),i.d(t,"c",(function(){return R})),i.d(t,"f",(function(){return j})),i.d(t,"e",(function(){return D}));var o=i(10),l=i(807),a=i(13),n=i(16),d=i(11),r=i(3),c=i(919),u=i(863),v=i(7),s=i(810),O=i(20),b=i(5),p=function(e){var t=e.headerTrackDetails.postActiveOrderHistoryDetailsList;switch(Object(v.jc)()){case null===r.H||void 0===r.H?void 0:r.H.IN:return function(e){var t,i=e[0];if(1!==(null===e||void 0===e?void 0:e.length))return"".concat(Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.WE_ARE_WORKING_ON)," ").concat(null===e||void 0===e?void 0:e.length," ").concat(Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.ORDERS_NOW));if(!1===(null===i||void 0===i||null===(t=i.requestedDateTime)||void 0===t?void 0:t.isForNow)){var l="".concat(Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.YOUR_ORDER)," # ").concat(Object(c.a)(i)," ").concat(Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.HAS_SCHEDULED)," ");return Object(v.Jc)(null===i||void 0===i?void 0:i.service)?"".concat(l," ").concat(Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.DELIVERY)," ").concat(Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.AT)):Object(v.Wc)(null===i||void 0===i?void 0:i.service)?"".concat(l," ").concat(Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.PICKUP)," ").concat(Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.AT)):"".concat(l)}return Object(v.Jc)(null===i||void 0===i?void 0:i.service)?"".concat(Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.YOUR_ORDER)," # ").concat(Object(c.a)(i)," ").concat(Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.HAS_BEEN_CONFIRMED)):Object(v.Wc)(null===i||void 0===i?void 0:i.service)?"".concat(Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.WE_ARE_WORKING_ON)," ").concat(null===e||void 0===e?void 0:e.length," ").concat(Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.ORDERS_NOW)):void 0}(t);case null===r.H||void 0===r.H?void 0:r.H.AU:return function(e){var t,i,l,a,n,u,s,p,E,h,f,R,j,D,T,k=e[0];return 1===(null===e||void 0===e?void 0:e.length)?(null===(t=window)||void 0===t||null===(i=t.location)||void 0===i?void 0:i.pathname)!==(null===r.Wc||void 0===r.Wc?void 0:r.Wc.HOME)&&(null===(l=window)||void 0===l||null===(a=l.location)||void 0===a?void 0:a.pathname)!==(null===r.Wc||void 0===r.Wc?void 0:r.Wc.HOME_PAGE)&&(null===(n=window)||void 0===n||null===(u=n.location)||void 0===u?void 0:u.pathname)!==(null===r.Wc||void 0===r.Wc?void 0:r.Wc.ACCOUNT)||!Object(v.Ic)(null===k||void 0===k?void 0:k.service)?(null===(s=window)||void 0===s||null===(p=s.location)||void 0===p?void 0:p.pathname)!==(null===r.Wc||void 0===r.Wc?void 0:r.Wc.HOME)&&(null===(E=window)||void 0===E||null===(h=E.location)||void 0===h?void 0:h.pathname)!==(null===r.Wc||void 0===r.Wc?void 0:r.Wc.HOME_PAGE)&&(null===(f=window)||void 0===f||null===(R=f.location)||void 0===R?void 0:R.pathname)!==(null===r.Wc||void 0===r.Wc?void 0:r.Wc.ACCOUNT)||!Object(v.Jc)(null===k||void 0===k?void 0:k.service)?Object(b.jsxs)("span",{children:[Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.WE_ARE_WORKING_ON)+" ",Object(b.jsx)("b",{className:"your-order",children:null===(j=Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.YOUR_ORDER))||void 0===j?void 0:j.toLowerCase()})," "+Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.NOW)]}):"".concat(Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.YOUR_ORDER)," # ").concat(Object(c.a)(k)," ").concat(Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.DELIVERED_AROUND)," ")+Object(v.nc)(null===k||void 0===k||null===(D=k.deliveryDetails)||void 0===D?void 0:D.estimatedDeliveryTime):"".concat(Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.YOUR_ORDER)," # ").concat(Object(c.a)(k)," ").concat(Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.IS_SCHEDULED_TO_BE_PICKED_UP_AT)," ").concat(Object(O.t)(k.fulfillmentDateTime,null===k||void 0===k||null===(T=k.store)||void 0===T?void 0:T.timeZoneIANA,null===r.O||void 0===r.O?void 0:r.O.H_MM_A)):Object(b.jsxs)("span",{children:[Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.WE_ARE_WORKING_ON),Object(b.jsxs)("b",{className:"your-order",children:[" ",(null===e||void 0===e?void 0:e.length)+" ",Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.ORDERS)+" "]}),Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.NOW)]})}(t)}},E=function(e){var t=e.headerTrackDetails,i=t.customerId,o=t.tenantId,a=t.props,n=t.dispatch;if(i&&o&&null!==a&&void 0!==a&&a.isHeaderTrackOrderEnabled()){n(Object(l.c)({customerId:i,tenantId:o},{OrderStatus:"",OrderMode:""}))}},h=function(e){var t=e.headerTrackDetails,i=e.updateSetHeaderTrackDetails,o=t.dispatchGetActiveOrderHistoryTimer;o&&(clearTimeout(o),i({dispatchGetActiveOrderHistoryTimer:void 0}))},f=function(e){var t=e.headerTrackDetails,i=e.updateSetHeaderTrackDetails,l=t.postActiveOrderHistoryDetailsList,r=t.isActiveOrderAvailable;(null===l||void 0===l?void 0:l.length)>0&&(null!==l&&void 0!==l&&l.length?(i({isActiveOrderAvailable:!0,trackOrderTitle:p(e),trackOrderButtonLabel:Object(o.e)(null===d.a||void 0===d.a?void 0:d.a.TRACK_ORDER)}),function(e){var t=e.headerTrackDetails,i=e.updateSetHeaderTrackDetails;if(!t.dispatchGetActiveOrderHistoryTimer)var o=setTimeout((function(){h(e),E(e),i({dispatchGetActiveOrderHistoryTimer:o})}),Object(n.a)(a.x))}({headerTrackDetails:t,updateSetHeaderTrackDetails:i})):r&&i({isActiveOrderAvailable:!1}))},R=function(e){var t=e.headerTrackDetails,i=t.postActiveOrderHistoryDetailsList,o=t.useHistoryHook;i&&(null===i||void 0===i?void 0:i.length)>0&&(1===(null===i||void 0===i?void 0:i.length)?function(e){var t=e.headerTrackDetails,i=e.redirectTo,o=t.postActiveOrderHistoryDetailsList,l=t.useHistoryHook;(null===o||void 0===o?void 0:o.length)>0&&Object(u.o)({trackDetails:t,orderDetails:o[0],redirectTo:i,props:l})}(e):Object(v.ud)(o))},j=function(e){return null===e||void 0===e?void 0:e.filter((function(e){return!Object(s.E)(e)}))},D=function(e){var t,i=e.headerTrackDetails,o=e.location,l=e.updateSetHeaderTrackDetails,a=e.props;null===i||void 0===i||!i.showPickupOrderCancelledBanner||(null===o||void 0===o?void 0:o.pathname)===r.Wc.HOME||(null===o||void 0===o?void 0:o.pathname)===r.Wc.HOME_PAGE||!1!==(null===i||void 0===i?void 0:i.isActiveOrderAvailable)&&!1!==(null===i||void 0===i||null===(t=i.userStatus)||void 0===t?void 0:t.loggedIn)||(sessionStorage.removeItem(r.dd.PICKUP_ORDER_CANCELLED),l({showPickupOrderCancelledBanner:!1}),a.setShowBlackStripeContent(!0))}},708:function(e,t,i){"use strict";i.r(t);var o=i(28),l=i(0),a=i(4),n=i(37),d=i(44),r=i(807),c=i(134),u=i(1077),v=i(11),s=i(10),O=i(3),b=i(5);t.default=function(e){var t,i,p=Object(n.b)(),E=Object(n.c)((function(e){return e})),h=E.tenantReducer,f=E.orderHistoryReducer,R=E.profileReducer,j=E.appStateReducer,D=Object(d.h)(),T=Object(a.useState)({trackOrderTitle:"",trackOrderButtonLabel:"",isActiveOrderAvailable:!1,useHistoryHook:{history:Object(d.g)()},dispatchGetActiveOrderHistoryTimer:null,dispatch:p,props:e,customerId:null,tenantId:null,postActiveOrderHistoryDetailsList:[],customer:null,showBlackStripWithOrderTracker:!1,showPickupOrderCancelledBanner:!1,pickupOrderCancelledTitle:Object(s.e)(null===v.a||void 0===v.a?void 0:v.a.PICKUP_CANCALLED_ORDER),pickupOrderCancelledButtonLabel:Object(s.e)(null===v.a||void 0===v.a?void 0:v.a.ORDER_HISTORY_TAG)}),k=Object(o.a)(T,2),_=k[0],H=k[1],A=Object(a.useCallback)((function(e){H&&H((function(t){return Object(l.a)(Object(l.a)({},t),e)}))}),[]);return Object(a.useEffect)((function(){return Object(u.a)({headerTrackDetails:_,updateSetHeaderTrackDetails:A}),p(Object(r.e)()),function(){return Object(u.a)({headerTrackDetails:_,updateSetHeaderTrackDetails:A})}}),[]),Object(a.useEffect)((function(){var e,t,i;Object(u.a)({headerTrackDetails:_,updateSetHeaderTrackDetails:A}),(null===h||void 0===h?void 0:h.tenantId)&&A({customerId:null===R||void 0===R?void 0:R.customerId,customer:null===R||void 0===R?void 0:R.basic,tenantId:null===h||void 0===h?void 0:h.tenantId,userStatus:null===j||void 0===j?void 0:j.userStatus,showBlackStripWithOrderTracker:null===h||void 0===h||null===(e=h.componentOptions)||void 0===e||null===(t=e.web)||void 0===t||null===(i=t.global)||void 0===i?void 0:i.showBlackStripWithOrderTracker})}),[null===R||void 0===R?void 0:R.customerId,null===h||void 0===h?void 0:h.tenantId,null===j||void 0===j?void 0:j.userStatus]),Object(a.useEffect)((function(){Object(u.b)({headerTrackDetails:_})}),[null===_||void 0===_?void 0:_.customerId,null===_||void 0===_?void 0:_.tenantId,null===D||void 0===D?void 0:D.pathname]),Object(a.useEffect)((function(){var t,i;if(null!==_&&void 0!==_&&null!==(t=_.userStatus)&&void 0!==t&&t.loggedIn&&f&&null!==f&&void 0!==f&&f.activeOrderHistory&&(null===f||void 0===f||!f.activeOrderHistoryLoading)&&(null===f||void 0===f||null===(i=f.activeOrderHistory)||void 0===i?void 0:i.length)>0){var o=Object(u.f)(null===f||void 0===f?void 0:f.activeOrderHistory);(null===o||void 0===o?void 0:o.length)>0&&!1===(null===_||void 0===_?void 0:_.showBlackStripWithOrderTracker)?e.setShowBlackStripeContent(!1):0===(null===o||void 0===o?void 0:o.length)&&!1===(null===_||void 0===_?void 0:_.showPickupOrderCancelledBanner)&&e.setShowBlackStripeContent(!0),A({postActiveOrderHistoryDetailsList:o})}}),[null===f||void 0===f?void 0:f.activeOrderHistory,null===_||void 0===_||null===(t=_.userStatus)||void 0===t?void 0:t.loggedIn]),Object(a.useEffect)((function(){!sessionStorage.getItem(O.dd.PICKUP_ORDER_CANCELLED)||(null===D||void 0===D?void 0:D.pathname)!==O.Wc.HOME&&(null===D||void 0===D?void 0:D.pathname)!==O.Wc.HOME_PAGE||(A({showPickupOrderCancelledBanner:!0}),!1===(null===_||void 0===_?void 0:_.showBlackStripWithOrderTracker)&&e.setShowBlackStripeContent(!1))}),[null===_||void 0===_?void 0:_.showBlackStripWithOrderTracker]),Object(a.useEffect)((function(){Object(u.e)({headerTrackDetails:_,location:D,updateSetHeaderTrackDetails:A,props:e})}),[null===D||void 0===D?void 0:D.pathname]),Object(a.useEffect)((function(){var e;(null===_||void 0===_||null===(e=_.userStatus)||void 0===e?void 0:e.loggedIn)&&Object(u.d)({headerTrackDetails:_,updateSetHeaderTrackDetails:A})}),[null===_||void 0===_?void 0:_.postActiveOrderHistoryDetailsList]),((null===_||void 0===_?void 0:_.isActiveOrderAvailable)||(null===_||void 0===_?void 0:_.showPickupOrderCancelledBanner))&&(i={headerTrackDetails:_,updateSetHeaderTrackDetails:A},Object(b.jsx)(c.a,Object(l.a)(Object(l.a)({},i),{},{testId:"app_header_order_tracker_view",importPath:"APP_HEADER_ORDER_TRACKER_VIEW"})))}},760:function(e,t,i){"use strict";i.d(t,"c",(function(){return l})),i.d(t,"d",(function(){return a})),i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return d}));var o=i(1);function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:o.POST_ORDER_ACCEPTED,payload:e,successCallback:t,errorCallback:i}}function a(){return{type:o.RESET_POST_ORDER}}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:o.CANCEL_POST_ORDER,payload:e,successCallback:t,errorCallback:i}}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:o.CHECK_IN_REQUEST,payload:e,successCallback:t,errorCallback:i}}},807:function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"f",(function(){return a})),i.d(t,"b",(function(){return n})),i.d(t,"d",(function(){return d})),i.d(t,"c",(function(){return r})),i.d(t,"e",(function(){return c}));var o=i(1);function l(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:o.SET_FAVOURITE_ORDER,payload:e,postBody:t,successCallback:i,errorCallback:l}}function a(){return{type:o.RESET_ORDER_HISTORY}}function n(e){var t=e.tenantId,i=e.customerId,l=e.itemId,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:o.DELETE_FAVOURITE_ORDER,payload:{tenantId:t,customerId:i,itemId:l},successCallback:a,errorCallback:n}}function d(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:o.GET_ORDER_HISTORY,payload:e,postBody:t,successCallback:i,errorCallback:l}}function r(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:o.GET_ACTIVE_ORDER_HISTORY,payload:e,postBody:t,successCallback:i,errorCallback:l}}function c(){return{type:o.RESET_ACTIVE_ORDER_HISTORY}}}}]);