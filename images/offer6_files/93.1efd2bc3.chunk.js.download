(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[93],{679:function(e,t,a){"use strict";a.r(t),a.d(t,"SearchStoreModule",(function(){return et}));var n=a(0),i=a(28),r=a(13),s=a(16),o=a(10),c=a(849),l=a(84),d=a(99),u=a(38),v=a(7),j=a(60),b=a(4),O=a.n(b),m=a(37),p=a(677),h=a(12),g=a(45),f=a(234),S=a(8),x=a(2),T=a.n(x),N=a(225),y=a(69),C=a(241),E=a(237),A=a(238),I=a(177),D=a.n(I),k=a(242),w=a(243),_=a(228),L=a(49),R=a(771),F=a(226),H=a(232),M=a(5),B=function(e){return!0===e.includes(",")?e.replace(",",", "):e},U=function(e){var t,a,n=e.onMapClickHandler,i=e.startOrderFormSavedAddress,r=g.a.SAVED_ADDRESS,s=g.a.START_ORDER_TEXT,c=Object(m.c)((function(e){return e.profileReducer})).savedAddresses,l=null===(t=c.filter((function(e){return e.isPrimary}))[0])||void 0===t||null===(a=t.addressLines)||void 0===a?void 0:a.join(" ");return Object(M.jsx)(O.a.Fragment,{children:Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:"savedAddress-store-count",children:[Object(M.jsx)("span",{className:"saved-address-count-title",children:"".concat(Object(o.e)(r)).concat(c.length>1?"es  ":""," (").concat(c.length,")")}),Object(M.jsx)("div",{"data-testid":"saved-map-link",onClick:function(e){return n(e,"",l)},children:Object(M.jsxs)(N.a,{className:"map-link",children:[Object(M.jsx)("span",{children:Object(M.jsx)(y.a,{"data-testid":"",srcFile:H.a,alt:"map",className:"map-img"})}),"Map"]})})]}),c.map((function(e){return Object(M.jsx)("div",{className:"savedAddress-module-card",children:Object(M.jsxs)("div",{className:"inside-card",children:[Object(M.jsxs)("div",{className:"address-section",children:[Object(M.jsxs)("div",{className:"address-type",children:[e.name," : "]}),Object(M.jsxs)("div",{className:"address",children:[(null===e||void 0===e?void 0:e.addressLines[1])&&Object(M.jsxs)("span",{children:[" ",B(null===e||void 0===e?void 0:e.addressLines[1]),", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(M.jsxs)("span",{children:[" ",B(null===e||void 0===e?void 0:e.addressLines[0]),", "]}),(null===e||void 0===e?void 0:e.city)&&Object(M.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(M.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.state," - "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(M.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(M.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.country," "]})]})]}),Object(M.jsx)("div",{children:Object(M.jsx)(L.a,{className:"button redButton search-store-card-btn",onClickHandler:function(t){return function(e,t){var a,n=t.location,r={userLat:n.latitude,userLong:n.longitude},s=(null===t||void 0===t||null===(a=t.addressLines)||void 0===a?void 0:a.reduce((function(e,t){return e+" "+t})))+", "+(null===t||void 0===t?void 0:t.city)+", "+(null===t||void 0===t?void 0:t.state)+", "+(null===t||void 0===t?void 0:t.country);i(s,r)}(0,e)},"data-testid":"savedaddress-click-test",children:Object(o.e)(s)})})]})})}))]})})},P=a(88),Y=function(e){var t=e.errorMsgToShow,a=e.onClearTextHandler,n=e.dispositionType,i=e.onRetryClickHandler,r=e.onMapClickHandler,s=e.showMap,c=Object(b.useContext)(j.a).userOrderStateDispatch,l=h.a.DISPOSITION_METHOD,d=g.a.DELIVERY_UNAVAILABLE_WITH_CTA,u=g.a.TAKE_AWAY,v=g.a.TYPE_TAKE_WAY,m=g.a.RETRY_TEXT,p=g.a.CTA1_SEARCH_DIFF_ADDRESS,f=g.a.CTA2_ORDER_TAKEAWAY,S=g.a.CTA2_VIEW_MAP_BUTTON_TEXT,x=Object(P.a)({"error-alert-location-popup":!0,"error-alert-location-popup-with-map-view":s});return Object(M.jsx)(O.a.Fragment,{children:Object(M.jsxs)("div",{"data-testid":"alert-locationid",className:"Delivery"===n?x:"error-alert-location-popup error-adjust",children:[Object(M.jsx)(y.a,{srcFile:_.a,className:"location-alert-icon"}),t!==d&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{className:"location-error-address",children:Object(o.e)(t)}),Object(M.jsxs)("div",{className:"location-error-button-section",children:[Object(M.jsx)(L.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:function(e){return function(e){e.preventDefault(),a()}(e)},children:Object(o.e)(p)}),n.toLowerCase()!==u.toLowerCase()&&Object(M.jsx)(L.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:function(e){return function(e){e.preventDefault(),c({type:l,value:{dispositionType:v}})}(e)},children:Object(o.e)(f)})]})]}),t===d&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{className:"location-error-address",children:Object(o.e)(t)}),Object(M.jsxs)("div",{className:"location-error-button-section",children:[Object(M.jsx)(L.a,{"data-testid":"btn-onRetryClick",className:"button whiteButton blackBorder location-warning-button mr retrybtn",onClickHandler:function(e){return i(e)},children:Object(o.e)(m)}),n!==u&&Object(M.jsx)(L.a,{"data-testid":"btn-onMapClick",className:"button whiteButton blackBorder location-warning-button ml retrybtn",onClickHandler:function(e){return r(e)},children:Object(o.e)(S)})]})]})]})})},V=a(3),W=g.a.MIN_SEARCH_CHARACTER_LIMIT,z=g.a.SUUGESTED_ITEMS_TEXT,G=g.a.ALLOWED_SUGGESTION_LIST,K=g.a.ALREADY_SERACHED_LOCATIONS,J=g.a.COUNTRY_CODE,X=g.a.SUGGESTION_ACTIVE_COLOR,Z=g.a.SUGGESTION_ACTIVE_OPACITY,q=g.a.BRAND_BLACK,Q=(g.a.COLOR_BLACK,g.a.CONFIRM_BUTTON_TEXT),$=g.a.LOCATION_WARNING_MESSAGE,ee=g.a.RETRY_TEXT,te=g.a.USE_THIS_ADDRESS_TEXT,ae=g.a.DELIVERY_UNAVAILABLE,ne=g.a.DELIVERY_UNAVAILABLE_WITH_CTA,ie=g.a.NOTAVAILABLE,re=g.a.CTA1_SEARCH_DIFF_ADDRESS,se=g.a.TAKE_AWAY,oe=g.a.CTA2_ORDER_TAKEAWAY,ce=function(e,t){t()},le=function(e){var t,a,n=e.eligibleStoreData,i=e.suggestedAddress,r=e.setNegativeScenarioAlert,s=e.getNegativeView,c=null===n||void 0===n?void 0:n.filter((function(e){var t,a,n;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.menu)||void 0===a||null===(n=a.catalogs)||void 0===n?void 0:n.length)>0})),l=c.filter((function(e){var t,a,n,i,r,s,o="CLOSED"===e.summary.status.currentStatus,c=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a||null===(n=a.message)||void 0===n?void 0:n.indexOf("EMERGENCY_SHUTDOWN")),l=-1!==(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(r=i.status)||void 0===r||null===(s=r.message)||void 0===s?void 0:s.indexOf("TECHNICAL_SHUTDOWN"));return o&&(c||l)})),d=Object(F.a)("delivery",c);return Object(v.xc)(d,Object(v.xc)(!(null!==(t=i[0])&&void 0!==t&&t.description),(null===l||void 0===l?void 0:l.length)===c.length))?(Object(v.S)((null===l||void 0===l?void 0:l.length)===(null===c||void 0===c?void 0:c.length),null===c||void 0===c?void 0:c.length)?d=ae:null!==(a=i[0])&&void 0!==a&&a.description||(d=ne),r(d),Object(v.ub)(Object(o.e)(f.a.contentData.deliveryHeaderText),Object(o.e)(d)),s(d)):void 0},de=function(e,t,a){return Object(M.jsx)(L.a,{className:"button blackButton blackBorder delivery-confirm-button delivery-confirm-button-in","data-testid":"btn-confirm",disabled:!e||t,onClick:a,"data-loading":t,children:Object(o.e)(Q)})},ue=function(e){var t,a=e.formContent,r=void 0===a?{}:a,s=e.userPositionHandler,c=e.singInClickhandler,l=e.eligibleStoreData,d=r.memberText,p=void 0===d?"":d,g=r.singInLink,x=void 0===g?{}:g,R=r.currentLocationText,H=void 0===R?"":R,B=r.addressBoxPlaceHolderForDelivery,P=void 0===B?"":B,Q=V.ac.RETAIN_ADDRESS,ne=h.a.SCHEDULE_ORDER_DATA,ue=h.a.DISPOSITION_METHOD,Oe=Object(m.c)((function(e){return e.appStateReducer.userStatus})),me=Object(v.zc)(Oe).loggedIn,pe=Object(b.useContext)(j.a),he=pe.userOrderState,ge=pe.userOrderStateDispatch,fe=he.searchStoreData,Se=void 0===fe?{}:fe,xe=he.dispositionStateData,Te=void 0===xe?{}:xe,Ne=Object(b.useState)(""),ye=Object(i.a)(Ne,2),Ce=ye[0],Ee=ye[1],Ae=Object(b.useState)(!1),Ie=Object(i.a)(Ae,2),De=Ie[0],ke=Ie[1],we=Object(b.useState)(!1),_e=Object(i.a)(we,2),Le=_e[0],Re=_e[1],Fe=Object(b.useState)(!1),He=Object(i.a)(Fe,2),Me=He[0],Be=He[1],Ue=Object(b.useState)({lat:28.7,lng:77.1}),Pe=Object(i.a)(Ue,2),Ye=Pe[0],Ve=Pe[1],We=Object(b.useState)(!1),ze=Object(i.a)(We,2),Ge=ze[0],Ke=ze[1],Je=Object(b.useState)(!1),Xe=Object(i.a)(Je,2),Ze=Xe[0],qe=Xe[1],Qe=Object(b.useState)([]),$e=Object(i.a)(Qe,2),et=$e[0],tt=$e[1],at=Object(b.useState)(""),nt=Object(i.a)(at,2),it=nt[0],rt=nt[1],st=Object(b.useRef)(null),ot=Object(b.useState)(""),ct=Object(i.a)(ot,2),lt=ct[0],dt=ct[1],ut=Object(b.useState)(""),vt=Object(i.a)(ut,2),jt=vt[0],bt=vt[1],Ot=Object(b.useState)(!1),mt=Object(i.a)(Ot,2),pt=mt[0],ht=mt[1],gt=Object(b.useState)(!1),ft=Object(i.a)(gt,2),St=ft[0],xt=ft[1],Tt=Object(b.useState)(!1),Nt=Object(i.a)(Tt,2),yt=Nt[0],Ct=Nt[1],Et=Object(b.useState)(""),At=Object(i.a)(Et,2),It=At[0],Dt=At[1],kt=Object(b.useState)(!1),wt=Object(i.a)(kt,2),_t=wt[0],Lt=wt[1],Rt=Te.dispositionType,Ft=void 0===Rt?localStorage.getItem("dispositionType"):Rt,Ht=Object(b.useState)({}),Mt=Object(i.a)(Ht,2),Bt=Mt[0],Ut=Mt[1],Pt=Object(m.c)((function(e){var t,a,n,i;return(null===(t=e.storesReducer)||void 0===t?void 0:t.isGoogleDistanceLoading)||(null===(a=e.storesReducer)||void 0===a?void 0:a.isStoreStatusLoading)||(null===(n=e.storesReducer)||void 0===n?void 0:n.isNearByStoresLoading)||(null===(i=e.storesReducer)||void 0===i?void 0:i.isStoreTimeSlotsLoading)}));Object(b.useEffect)((function(){Object(F.e)(Ze,jt,f.a)}),[Ze,jt]);var Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(M.jsx)(O.a.Fragment,{children:Object(M.jsx)(Y,{errorMsgToShow:Object(v.xc)(jt,e),onClearTextHandler:Zt,onRetryClickHandler:Wt,onMapClickHandler:Vt,dispositionType:Ft,showMap:Me})})},Vt=function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.preventDefault(),Object(F.i)(Me,Ft),Be(!0),bt(!1),t&&!Ce&&Gt(t)},Wt=function(e){st.current.select(),ke(!1),Ke(!1),bt(!1),qe(!1)},zt=function(){var e=Object(S.a)(T.a.mark((function e(t){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=le({eligibleStoreData:l,suggestedAddress:et,setNegativeScenarioAlert:bt,getNegativeView:Yt}),!(Ce.length>0&&Ze&&n||!l[0]&&n)){e.next=3;break}return e.abrupt("return");case 3:null!==(a=et[0])&&void 0!==a&&a.description&&ge({type:ne,value:{deliveryAddress:it,showScheduleOrder:!0,selectedStoreInfo:Object(v.zc)(l[0])}}),Ke(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gt=function(){var e=Object(S.a)(T.a.mark((function e(t,a,n){var i,r,o,c,l=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>3&&void 0!==l[3]&&l[3],Lt(!1),Dt(""),Object(v.S)(null===a,null===n)&&(null===(i=et[0])||void 0===i?void 0:i.description)&&qe(!0),ht(!0),Ke(!0),e.next=9,Object(I.geocodeByAddress)(t);case 9:return o=e.sent,e.next=12,Object(I.getLatLng)(o[0]);case 12:c=e.sent,Ve(c),Kt(t),Ee(t),r||ke(!0),s({userLat:c.lat,userLong:c.lng}),Re(!1);case 19:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();Object(b.useEffect)((function(){var e,t=null===(e=localStorage)||void 0===e?void 0:e.getItem(Q);Object(F.b)(t,tt,Gt)}),[]),Object(b.useEffect)((function(){var e=null===l||void 0===l?void 0:l.filter((function(e){var t,a;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.menu)||void 0===a?void 0:a.catalogs[0])!==ie})),t=null===e||void 0===e?void 0:e.filter((function(e){var t,a;return"CLOSED"!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)}));_t&&It&&t&&(null===t||void 0===t?void 0:t.length)>=1?(Ct(!1),ge({type:ne,value:{deliveryAddress:It,showScheduleOrder:!0,selectedStoreInfo:t[0]}})):It&&Ct(!0)}),[l,It,_t]),Object(b.useEffect)((function(){}),[Ye]);Object(b.useEffect)((function(){(null===Ce||void 0===Ce?void 0:Ce.length)>2?ke(!Ze):(ke(!1),qe(!1),bt(""));var e=Object(v.d)(Ce,W);xt(e)}),[Ce]),Object(b.useEffect)((function(){Le&&(Ee(lt),Kt(lt),Re(!1))}),[Se]);var Kt=function(e){Object(v.md)(e,K)},Jt=function(){var e=Object(S.a)(T.a.mark((function e(){var t,a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.BindLocation();case 2:Object(F.m)(),tt([]),u.b.coordinates&&(t=u.b.coordinates,a=t.latitude,n=t.longitude,u.b.addFeedback("Check coordinates ".concat(JSON.stringify(u.b.coordinates))),u.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:a,userLong:n}))),u.b.addFeedback("Check address ".concat(u.b.address)),s({userLat:a,userLong:n}),dt(u.b.address),Ee(u.b.address),Gt(u.b.address),Re(!0),tt([{description:u.b.address}]));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xt=function(e){return t=e,Object(v.yc)(JSON.parse(localStorage.getItem(K))).includes(t);var t},Zt=function(){Ee(""),ke(!1),bt(""),tt(""),Ct(!1)},qt=function(){var e=Object(S.a)(T.a.mark((function e(t,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ve({lat:a.userLat,lng:a.userLong}),Lt(!0),Ee(t),Ut(a),Kt(t),Dt(t),s(a);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(M.jsxs)(O.a.Fragment,{children:[Object(M.jsxs)("div",{className:"delivery-module-form","data-testid":"delivery-component",children:[Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:"login-section",children:[Object(M.jsx)("span",{className:"delivery-member-signin",children:!me&&be(p,c,x)}),Object(M.jsx)("span",{children:Object(M.jsxs)(N.a,{onClickHandler:Jt,className:"delivery-location-link","data-testid":"use-my-location",children:[Object(M.jsx)(y.a,{"data-testid":"",srcFile:C.a,alt:" ",className:"location-img"}),Object(o.e)(H)]})})]}),Object(M.jsxs)("div",{className:"delivery-address-section",children:[Object(M.jsx)("div",{className:"search-delivery-address",children:Object(M.jsx)("div",{className:"input-delivery-address",children:Object(M.jsx)(D.a,{value:Ce,onChange:function(e){ht(!1),Ke(!1),Ee(e),function(e,t,a){(null===e||void 0===e?void 0:e.length)<3&&(t(""),a(!1))}(e,tt,xt),Lt(!1),Dt(""),Ct(!1)},onSelect:Gt,searchOptions:{componentRestrictions:{country:J}},shouldFetchSuggestions:!0,onError:ce,children:function(e){var t=e.getInputProps,a=e.suggestions,i=e.getSuggestionItemProps;e.loading;return Object(M.jsxs)("div",{children:[Object(M.jsx)(y.a,{"data-testid":"",srcFile:E.a,alt:" ",className:"google-location-img"}),Object(M.jsx)("input",Object(n.a)({"data-testid":"store-search-input","aria-label":"Enter your delivery address",className:"".concat(Object(v.mc)(Object(v.xc)(Ze,jt),"store-search-input error-border mt-2","store-search-input mt-2"))},t({placeholder:Object(o.e)(P),ref:st}))),Ce&&Object(M.jsx)("img",{src:k.a,className:"clearTextIcon",onClick:Zt}),Object(v.S)(Object(v.Ob)(a),St)?Object(M.jsx)("div",{className:"suggestion-list",children:a.map((function(e,t){var r;if(null!==e&&void 0!==e&&null!==(r=e.types)&&void 0!==r&&r.some((function(e){return G.includes(e)}))){tt(a);var s=Object(v.mc)(e.active,{backgroundColor:X,opacity:Z},{backgroundColor:q});return Object(M.jsxs)(O.a.Fragment,{children:[0===t&&Object(M.jsx)("div",{className:"suggestion-items suggest-text",children:Object(o.e)(z)}),Object(M.jsx)("div",{style:s,children:Object(M.jsx)("div",Object(n.a)(Object(n.a)({},i(e,{className:"suggestion-items"})),{},{children:Object(M.jsxs)("div",{className:"suggested-address-alignment-delivery",children:[Object(M.jsx)("div",{children:Object(M.jsx)(y.a,{"data-testid":"",srcFile:Object(v.mc)(Xt(e.description),w.a,A.a),alt:"googleMapLocation",className:"suggetion-pin"})}),Object(M.jsx)("div",{className:"suggestion-description",children:e.description})]})}),t)})]})}}))}):null]})}})})}),Object(M.jsx)("form",{children:de(De,Pt,(function(e){var t;if(e.preventDefault(),_t)return yt&&ke(!1),void qt(Ce,Bt);if(!(pt&&le({eligibleStoreData:l,suggestedAddress:et,setNegativeScenarioAlert:bt,getNegativeView:Yt})||(null===(t=et[0])||void 0===t||!t.description)&&le({eligibleStoreData:l,suggestedAddress:et,setNegativeScenarioAlert:bt,getNegativeView:Yt}))){if(bt(""),!Ge){var a,n,i=null===(a=et[0])||void 0===a?void 0:a.description;return rt(i),(null===(n=et[0])||void 0===n?void 0:n.description)&&qe(!0),ke(!1),void Gt(i,null===et||void 0===et?void 0:et.placeId,et,!0)}l[0]&&(Ke(!1),ge({type:ne,value:{deliveryAddress:Ce,showScheduleOrder:!0,selectedStoreInfo:l[0]}}))}}))})]})]}),yt&&!Pt&&Object(M.jsxs)("div",{className:"error-popup-saved-address error-popup-saved-address-map-view1",children:[Object(M.jsx)(y.a,{srcFile:_.a,className:"location-alert-icon"}),Object(M.jsx)("div",{className:"location-error-address",children:Object(o.e)(ae)}),Object(M.jsxs)("div",{className:"location-error-button-section",children:[Object(M.jsx)(L.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:function(e){return Ct(!1)},children:Object(o.e)(re)}),Object(M.jsx)(L.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:function(e){e.preventDefault(),ge({type:ue,value:{dispositionType:se}})},children:Object(o.e)(oe)})]})]}),!Me&&Object(M.jsx)("div",{className:"my-3 store-form-separation"}),Me||me||Ze||jt?null:je(Vt),!Ze&&me&&!jt&&!Me&&!yt&&Object(M.jsx)(U,{userPositionHandler:s,startOrderFormSavedAddress:qt,allowOrderNow:yt,onMapClickHandler:Vt})]}),Ce.length>0&&Object(v.S)(Ze,!jt)?Object(M.jsxs)("div",{"data-testid":"alert-locationid",className:"alert-location-popup",children:[Object(M.jsx)(y.a,{srcFile:_.a,className:"location-alert-icon"}),Object(M.jsx)("div",{className:"location-error-message",children:Object(o.e)($)}),Object(M.jsx)("div",{className:"location-error-address",children:Object(v.xc)(null===(t=et[0])||void 0===t?void 0:t.description,Ce)}),Object(M.jsxs)("div",{className:"location-error-button-section",children:[Object(M.jsx)(L.a,{className:"button whiteButton blackBorder location-warning-button mr",onClick:Wt,children:Object(o.e)(ee)}),Object(M.jsx)(L.a,{className:"button whiteButton blackBorder location-warning-button ml","data-testid":"use-this-address",onClick:zt,children:Object(o.e)(te)})]})]}):jt&&Yt(),Me?ve(Ze,Ye,(function(e){Ee(e)}),jt):null]})};function ve(e,t,a,n){return Object(M.jsx)("div",{className:"delivery-map deliver-map-zoom ".concat(Object(v.mc)(e,"pointer-disabled","")),children:Object(M.jsx)("div",{"data-testid":"view-map-div",className:"view-map",children:Object(M.jsx)(R.a,{"data-testid":"map-comp",latLongValue:t,passAddress:a,locationAlertProp:e,negativeScenarioAlertProp:n,locationAlert:e})})})}function je(e){return Object(M.jsx)("div",{className:"map-button-form",children:Object(M.jsxs)("div",{className:"show-map-div","data-testid":"show-map-div",onClick:e,children:[Object(M.jsx)("span",{className:"delivery-map-text",children:Object(o.e)("pleaseEnterLocation")}),Object(M.jsxs)(N.a,{className:"map-link",children:[Object(M.jsx)("span",{children:Object(M.jsx)(y.a,{"data-testid":"",srcFile:H.a,alt:" ",className:"map-img"})}),Object(o.e)("map")]})]})})}function be(e,t,a){return Object(M.jsxs)("div",{"data-id":V.M.HEADER_SIGN_IN_ATTR_DATA_ID,children:[Object(o.e)(e),Object(M.jsx)("span",{onClick:t,children:Object(M.jsx)(N.a,{targetType:a.targetType,href:a.linkUrl,className:"delivery-signin-link",children:Object(o.e)(a.linkText)})})]})}var Oe=a(133),me=function(e){var t=e.handleClose,a=e.handleGoBack,n=e.orderModeTypeItem,i=e.headerText,r=e.modalTitleId,s=void 0===r?"":r;return Object(M.jsx)(O.a.Fragment,{children:Object(M.jsx)(Oe.a,{"data-testid":"searchStoreCardModal",id:"searchStoreCard",role:"dialog",modalTitleId:s,show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:a,modalTitle:i,autoFocus:!0,children:n})})},pe=a(44),he=a(235),ge=a(31),fe=a(67),Se=a(769),xe=a(244),Te=a(239),Ne=a(755),ye=a(759),Ce=function(e,t){var a,n;return"INDIA"===(null===t||void 0===t||null===(a=t.country)||void 0===a?void 0:a.toUpperCase())?"".concat((parseFloat(e)/1e3).toFixed(1)," ").concat(null===t||void 0===t||null===(n=t.storeSearch)||void 0===n?void 0:n.distanceMetrics):(parseFloat(e)/1600).toFixed(1)+" mi"},Ee=Object(pe.j)((function(e){var t,a,i=e.storeDistance,r=void 0===i?"":i,s=e.addresses,c=void 0===s?{}:s,l=e.isOpen,d=void 0!==l&&l,u=e.buttonData,O=void 0===u?{}:u,p=e.map,f=void 0===p?{}:p,x=e.storeName,C=void 0===x?"":x,E=e.currentMarket,A=e.storeInfo,I=void 0===A?{}:A,D=e.channels,k=void 0===D?[]:D,w=e.storeStatus,_=void 0===w?{}:w,R=e.onStoreSelectFinish,H=e.onClickMapHandler,B=e.isMapView,U=e.isMobile,P=e.isFavoriteStore,Y=e.addToFavoriteHandler,V=e.removeFromFavoriteHandler,W=e.loggedIn,z=e.centerIndex,G=e.storeLength,K=Object(v.zc)(null===O||void 0===O?void 0:O.scheduleOrderButtonData),J=K.buttonText,X=void 0===J?"":J,Z=(K.display,Object(v.zc)(null===O||void 0===O?void 0:O.orderNowButtonData)),q=Z.buttonText,Q=void 0===q?"":q,$=Z.display,ee=void 0!==$&&$,te=Object(b.useContext)(j.a),ae=te.userOrderState,ne=te.userOrderStateDispatch,ie=h.a.SCHEDULE_ORDER_DATA,re=void 0===ie?"":ie,se=h.a.SEARCH_ORDER_DATA,oe=void 0===se?"":se,ce=h.a.SELECTED_TILE_DATA,le=void 0===ce?"":ce,de=h.a.SCHEDULE_ORDER_TIME_DATA,ue=void 0===de?"":de,ve=h.a.MENU_URL,je=h.a.SET_DISPOSITION,be=h.a.USER_LOCALIZED,Oe=h.a.CURRENT_STORE_INFO,me=h.a.SCHEDULE_ORDER_TIME_PRESERVE_TIME,pe=h.a.SET_FORCERELOAD,Ee=g.a.STORE_STATUS_CLOSED,Ae=f.mapText,Ie=void 0===Ae?"":Ae,De=ye.a.timingsSampleData,ke=void 0===De?{}:De,we=k&&Object(F.g)(k),_e=Object(v.yc)(we[0]).services,Le=void 0===_e?[]:_e,Re=(null!==_&&void 0!==_&&null!==(t=_.timings)&&void 0!==t&&t.operatingHours?_.timings:[]).operatingHours,Fe=void 0===Re?[]:Re,He=Object(F.c)(d,Fe),Me=Object(m.b)(),Be=Object(m.c)((function(e){return e.profileReducer})),Ue=Object(m.c)((function(e){return e.tenantReducer})),Pe=ae.dispositionStateData.dispositionType,Ye=void 0===Pe?localStorage.getItem("dispositionType"):Pe,Ve=Ue.componentOptions.ScheduledDeliveryComponent.allowScheduleOrder,We=Object(m.c)((function(e){return e.appStateReducer.userStatus})),ze=Object(v.Pc)(ae.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):ae.dispositionNew,Ge=function(t,a){var i=Object(v.mc)(t,t,null);ne({type:le,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(i)),ne({type:Oe,value:i}),Me(Object(fe.a)(Object(n.a)(Object(n.a)({},We),{},{localized:!0}))),ne({type:ue,value:{selectedDateTime:a}}),ne({type:me,value:{selectContentTime:"ASAP"}}),ne({type:pe,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(Ue)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",Ye),localStorage.setItem("storeInfo",JSON.stringify(i)),localStorage.setItem("dateTimeOrder",JSON.stringify(a)),localStorage.setItem("savedTimeOrder","ASAP"),setTimeout((function(){!ae.fromPdpPage&&e.history.push({pathname:"".concat(ve)})}),500)},Ke=function(){var e=Object(S.a)(T.a.mark((function e(t,a){var n,i,r,s,o,c,l,d,u,j,b,O,m,p,h,g,f,S,x;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.stopPropagation(),Object(F.l)(),l=Object(v.U)(null===a||void 0===a||null===(n=a.summary)||void 0===n?void 0:n.timings,ke),d=l.futureDates,u=l.scheduled,j=l.asap,b=Object(v.S)(null===u||void 0===u||null===(i=u.periods)||void 0===i?void 0:i.length,u.periods[0]),O=b.interval,m=void 0===O?0:O,p=b.startEndTime,g=(h=void 0===p?{}:p).from,f=h.to,Object(Ne.f)(g,f,m,null===j||void 0===j?void 0:j.isAvailable,1===d.length&&"INDIA"===(null===Ue||void 0===Ue?void 0:Ue.country)),S={time:"ASAP",interval:null===(r=a.summary.timings.scheduled.periods[0])||void 0===r?void 0:r.interval,date:new Date,selectedTime:"ASAP"},null!==ze&&ze.type===Ye&&ze.store.id===a.id&&ze.deliveryAddress===(null===ae||void 0===ae||null===(s=ae.scheduleOrderData)||void 0===s?void 0:s.deliveryAddress)){e.next=14;break}return e.next=11,Object(v.s)(a,Object(v.sb)(Ye),Be.customerId,S);case 11:x=e.sent,Me(Object(ge.l)("")),Me(Object(ge.f)({data:x,tenantId:Ue.tenantId}));case 14:localStorage.setItem("renderComp",!0),ne({type:je,value:{oldvalue:ze,newValue:{type:Ye,store:a,date:S.date,time:S.time,interval:S.interval,selectedTime:S.selectedTime,deliveryAddress:null===ae||void 0===ae||null===(o=ae.scheduleOrderData)||void 0===o?void 0:o.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(ze)),localStorage.setItem("dispositionNew",JSON.stringify({type:Ye,store:a,date:S.date,time:S.time,selectedTime:S.selectedTime,interval:S.interval,deliveryAddress:null===ae||void 0===ae||null===(c=ae.scheduleOrderData)||void 0===c?void 0:c.deliveryAddress})),Object(v.Sd)(),R(t,Ye),ne({type:oe,value:{showSearchStore:!1}}),ne({type:be,value:{isLocalized:!0}}),Ge(a,S);case 23:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Je=function(e,t){var a,n;console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),e.preventDefault(),e.stopPropagation(),ne({type:be,value:{isLocalized:!0}}),ne({type:re,value:{showScheduleOrder:!0,selectedStoreInfo:t}}),ne({type:oe,value:{showSearchStore:!1}});var i=Object(v.U)(null===t||void 0===t||null===(a=t.summary)||void 0===a?void 0:a.timings,ke),r=i.futureDates,s=i.scheduled,o=i.asap,c=Object(v.S)(null===s||void 0===s||null===(n=s.periods)||void 0===n?void 0:n.length,s.periods[0]),l=c.interval,d=void 0===l?0:l,u=c.startEndTime,j=void 0===u?{}:u,b=j.from,O=j.to;Object(Ne.f)(b,O,d,null===o||void 0===o?void 0:o.isAvailable,1===r.length&&"INDIA"===(null===Ue||void 0===Ue?void 0:Ue.country)),Object(F.k)(),function(e){var t=Object(v.mc)(e,e,null);ne({type:le,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),ne({type:Oe,value:t})}(t)},Xe=Object(Se.a)(I),Ze=Object(M.jsxs)("div",{className:"store-card ".concat(Object(v.S)(B,!U)?"store-card-map-view":"store-card-mobile-view"),style:function(){if(B&&U)return{margin:"0",position:"absolute","max-height":"325px",bottom:"0"}}(),"data-testid":"store-card",id:"map-store-card",children:[Object(M.jsxs)("div",{className:"d-flex",children:[Object(M.jsxs)("div",{className:"store-dist-container ".concat(B&&"map-view"),children:[Object(M.jsx)("div",{className:"store-name-container",children:Object(M.jsx)("span",{className:"card-store-name",children:C})}),Object(M.jsx)("span",{className:"store-distance",children:Ce(r,Ue)})]}),B&&Object(M.jsx)("span",{className:"store-index",children:"".concat(z+1," of ").concat(G)})]}),Object(M.jsxs)("div",{className:"card-content",children:[Object(M.jsx)("div",{className:"order-items",children:(a=Le,!!Object(v.Qc)(a)&&a.map((function(e,t){var a=g.a.PICK_UP,n=g.a.TAKE_AWAY;return Object(M.jsxs)("div",{className:"store-order-options",children:[Object(M.jsx)("span",{children:Object(M.jsx)(y.a,{"data-testid":"",srcFile:he.a,alt:"tick",className:"tick-image"})}),Object(M.jsx)("span",{children:e===a?Object(o.e)(n):e})]},t)})))}),Object(M.jsxs)("div",{className:"w-100",children:[Object(M.jsx)("span",{className:"store-address",children:Object(v.Db)(c)}),!B&&Object(M.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:function(){return H()},children:Object(M.jsx)(N.a,{className:"card-map-link",children:Ie})})]}),Object(M.jsxs)("div",{className:"info-timing ".concat(!d&&"info-timingClosed"),children:[d?"":Object(M.jsx)("span",{children:Object(o.e)(Ee)}),Object(M.jsx)("span",{className:"".concat(!d&&"list-circle"),children:He})]}),Object(M.jsx)("div",{className:"facilities",children:Xe&&Xe.map((function(e){return Object(M.jsx)(y.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)}))})]}),Object(M.jsxs)("div",{className:"w-100 d-flex mt-2",children:[W?P?Object(M.jsx)(y.a,{"data-testid":"favorite-img",srcFile:Te.a,alt:"favorite",className:"favorite-img",onClick:function(){return V()}}):Object(M.jsx)(y.a,{"data-testid":"unfavorite-img",srcFile:xe.a,alt:"favorite",className:"favorite-img",onClick:function(){return Y()}}):"",Ve&&Object(M.jsx)(L.a,{"data-testid":"schedule-order",className:"button whiteButton blackBorder search-store-card-btn schedule-order-btn ".concat(Object(v.S)(B,!U)?"cardMapView":null),onClickHandler:function(e){return Je(e,I)},children:X}),ee&&d&&Object(M.jsx)(L.a,{"data-testid":"order-now",className:"button redButton search-store-card-btn ".concat(B&&!U?"cardMapView":null),onClickHandler:function(e){return Ke(e,I)},children:Q})]})]});return E!==g.a.COUNTRY_CODE_INDIA||d?Ze:null})),Ae=a(20),Ie=g.a.BROWSE_MENU,De=g.a.PICK_UP,ke=g.a.TAKE_AWAY,we=g.a.STORE_STATUS_CLOSED_CAPS,_e=g.a.STORE_STATUS_CLOSED,Le=g.a.INDIA,Re=function(e){return e===De?ke:e},Fe=function(e,t){if(e&&t)return{"max-height":"325px",margin:"0",position:"absolute",bottom:"0"}},He=Object(pe.j)((function(e){var t,a,i,r,s,c,l,d,u,O,p,g,f,S,x,T,C,E=e.key,A=void 0===E?"":E,I=e.storeName,D=void 0===I?"":I,k=e.storeDistance,w=void 0===k?"":k,_=e.orderTypes,R=void 0===_?[]:_,H=e.addresses,B=void 0===H?{}:H,U=e.storeStatus,P=void 0===U?{}:U,Y=e.onClickMapHandler,V=e.isMapView,W=e.isMobile,z=e.isFavoriteStore,G=e.addToFavoriteHandler,K=e.removeFromFavoriteHandler,J=e.map,X=e.loggedIn,Z=e.storeInfo,q=void 0===Z?{}:Z,Q=e.centerIndex,$=e.storeLength,ee=e.onStoreSelectFinish,te=(null===(t=P.timings)||void 0===t||null===(a=t.operatingHours[0])||void 0===a||null===(i=a.availableHours)||void 0===i?void 0:i.from)||"",ae=null===P||void 0===P||null===(r=P.timings)||void 0===r||null===(s=r.scheduled)||void 0===s?void 0:s.unavailibilities,ne=Object(v.zc)(J).mapText,ie=void 0===ne?"":ne,re=h.a.MENU_URL,se=h.a.SEARCH_ORDER_DATA,oe=h.a.CURRENT_STORE_INFO,ce=h.a.DISPOSITION_DATA,le=h.a.USER_LOCALIZED,de=h.a.SCHEDULE_ORDER_DATA,ue=void 0===de?"":de,ve=h.a.SELECTED_TILE_DATA,je=void 0===ve?"":ve,be=Object(b.useContext)(j.a),Oe=be.userOrderState,me=be.userOrderStateDispatch,pe=Object(m.c)((function(e){return e.appStateReducer.userStatus})),ge=Object(m.c)((function(e){return e.tenantReducer})),ye=Object(m.b)(),Ee=Object(v.zc)(null===q||void 0===q||null===(c=q.summary)||void 0===c?void 0:c.timings),De=Ee.futureDates,ke=Ee.scheduled,He=Ee.asap,Me=Object(v.zc)(ke).unavailibilities,Be=Object(v.zc)((null===ke||void 0===ke||null===(l=ke.periods)||void 0===l?void 0:l.length)&&(null===ke||void 0===ke?void 0:ke.periods[0])),Ue=Be.interval,Pe=void 0===Ue?0:Ue,Ye=Be.startEndTime,Ve=void 0===Ye?{}:Ye,We=Object(v.zc)(Ve),ze=We.from,Ge=We.to,Ke=Oe.dispositionStateData.dispositionType,Je=void 0===Ke?localStorage.getItem("dispositionType"):Ke,Xe=Object(v.Pc)(Oe.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):Oe.dispositionNew,Ze=function(){var e;return Object(Ne.f)(ze,Ge,Pe,null===He||void 0===He?void 0:He.isAvailable,1===De.length&&(null===ge||void 0===ge||null===(e=ge.country)||void 0===e?void 0:e.toUpperCase())===Le,Me)},qe=function(e,t){var a,n;e.preventDefault(),e.stopPropagation(),console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),me({type:le,value:{isLocalized:!0}}),me({type:se,value:{showSearchStore:!1}}),me({type:ue,value:{showScheduleOrder:!0,selectedStoreInfo:t}});var i=null===t||void 0===t||null===(a=t.summary)||void 0===a?void 0:a.timings,r=i.futureDates,s=i.scheduled,o=i.asap,c=(null===s||void 0===s||null===(n=s.periods)||void 0===n?void 0:n.length)&&(null===s||void 0===s?void 0:s.periods[0]),l=c.interval,d=void 0===l?0:l,u=c.startEndTime,v=void 0===u?{}:u,j=v.from,b=v.to;Object(Ne.f)(j,b,d,null===o||void 0===o?void 0:o.isAvailable,1===r.length&&"INDIA"===(null===ge||void 0===ge?void 0:ge.country)),Object(F.k)(),function(e){var t=e||null;me({type:je,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),me({type:oe,value:t})}(t),ee(e,Je)},Qe=Object(Se.a)(q);return Object(M.jsxs)("div",{className:"store-card ".concat(V&&!W?"store-card-map-view":"store-card-mobile-view"),style:Fe(V,W),"data-testid":"closed-card",id:"map-store-card",children:[Object(M.jsxs)("div",{className:"d-flex",children:[Object(M.jsxs)("div",{className:"store-dist-container ".concat(V&&"map-view"),children:[Object(M.jsx)("div",{className:"store-name-container",children:Object(M.jsx)("span",{className:"card-store-name",children:D})}),Object(M.jsx)("span",{className:"store-distance",children:Ce(w,ge)})]}),V&&Object(M.jsx)("span",{className:"store-index",children:"".concat(Q+1," of ").concat($)})]}),Object(M.jsxs)("div",{className:"card-content",children:[Object(M.jsx)("div",{className:"order-items",children:(C=R,C.map((function(e,t){return Object(M.jsxs)("div",{className:"store-order-options",children:[Object(M.jsx)("span",{children:Object(M.jsx)(y.a,{"data-testid":"",srcFile:he.a,alt:"tick",className:"tick-image"})}),Object(M.jsx)("span",{children:Re(e)})]},t)})))}),Object(M.jsxs)("div",{className:"w-100",children:[Object(M.jsx)("span",{className:"store-address",children:function(){var e;return"".concat(null===(e=B.addressLines)||void 0===e?void 0:e.join(" ")," ").concat(B.city," ").concat(B.state," ").concat(B.country," ").concat(B.pinCode)}()}),!V&&Object(M.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:function(){return Y()},children:Object(M.jsx)(N.a,{className:"card-map-link",children:ie})})]}),Object(M.jsx)("div",{className:"info-timingClosed",children:Object(M.jsxs)("ul",{children:[Object(M.jsx)("li",{children:Object(v.U)((null===(d=P.status)||void 0===d?void 0:d.currentStatus)===we,0===(null===P||void 0===P||null===(u=P.timings)||void 0===u||null===(O=u.scheduled)||void 0===O||null===(p=O.periods)||void 0===p?void 0:p.length))?Object(M.jsx)("span",{className:"closed-text",children:_e}):""}),Object(M.jsx)("li",{children:(null===ae||void 0===ae?void 0:ae.length)>0&&Object(Ae.B)(null===(g=ae[0])||void 0===g?void 0:g.to,"HH MM","HH:MM")<=Object(Ae.B)(Ge,"HH MM","HH:MM")?"Open Today ".concat((null===(f=ae[0])||void 0===f?void 0:f.to)&&Object(Ae.B)(null===(S=ae[0])||void 0===S?void 0:S.to,"hh mm","hh:mm a")):"Open ".concat((null===(x=P.timings)||void 0===x||null===(T=x.scheduled)||void 0===T||T.date,Ze().length?"Today":"Tomorrow")," ").concat(te&&Object(Ae.B)(te,"hh mm","hh:mm a"))})]})}),Object(M.jsx)("div",{className:"facilities",children:Qe&&Qe.map((function(e){return Object(M.jsx)(y.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)}))}),Object(M.jsxs)("div",{className:"w-100 d-flex mt-2",children:[X&&(z?Object(M.jsx)(y.a,{"data-testid":"favorite-img",srcFile:Te.a,alt:"favorite",className:"favorite-img",onClick:function(){return K()}}):Object(M.jsx)(y.a,{"data-testid":"unfavorite-img",srcFile:xe.a,alt:"favorite",className:"favorite-img",onClick:function(){return G()}})),Ze().length>0?Object(M.jsx)(L.a,{className:"button whiteButton blackBorder search-store-card-btn schedule-order-btn","data-testid":"schedule-order-closed-store",onClickHandler:function(e){return qe(e,q)},children:Object(o.e)("scheduleOrder")}):Object(M.jsx)(L.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn","data-testid":"browser-menu-closed-store",onClickHandler:function(){Object(v.Td)(q,me,Xe,Je),ye(Object(fe.a)(Object(n.a)(Object(n.a)({},pe),{},{localized:!0}))),Object(v.Sd)(),me({type:ce,value:{showDisposition:!1}}),me({type:se,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(re)})},children:Object(o.e)(Ie)})]})]})]},A)})),Me=a(255),Be=a.p+"static/media/successSign.9ca85326.svg",Ue=a(1265),Pe=a(1262),Ye=a(43),Ve=function(e){return!0===e?"store-count-title fav-store savedKFC":"store-count-title active-tab fav-store savedKFC"},We=function(e,t){return e&&t?"store-count-title active-tab savedKFC":e&&!t?"store-count-title savedKFC":e?void 0:"store-count-title  guest-color"},ze=function(e){var t,a,n;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.menu)||void 0===a||null===(n=a.catalogs)||void 0===n?void 0:n.length)>0},Ge=function(e){return e?Me.a:H.a},Ke=function(e){var t=document.querySelector(".searchStore-module-form .store-count a.store-location-link");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()},Je=function(e,t,a){return!0===e?t():a()},Xe=Object(pe.j)((function(e){var t,a,r=e.formContent,s=void 0===r?{}:r,c=e.storeData,d=void 0===c?[]:c,p=e.eligibleStoreData,x=void 0===p?[]:p,H=e.favoriteStoreData,B=void 0===H?[]:H,U=e.userPositionHandler,P=e.singInClickhandler,W=e.currentMarket,z=e.storeCardLimit,G=void 0===z?1/0:z,K=e.onStoreSelectFinish,J=e.handleGoBack,X=e.noStoresList,Z=e.favoriteStoreHandler,q=s.memberText,Q=void 0===q?"":q,$=s.singInLink,ee=void 0===$?{}:$,te=s.currentLocationText,ae=void 0===te?"":te,ne=s.addressBoxPlaceHolderForSearchStore,ie=void 0===ne?"":ne,re=s.mapText,se=void 0===re?"":re,oe=g.a.MIN_SEARCH_CHARACTER_LIMIT,ce=g.a.SUUGESTED_ITEMS_TEXT,le=g.a.ALLOWED_SUGGESTION_LIST,de=g.a.ALREADY_SERACHED_LOCATIONS,ue=g.a.COUNTRY_CODE,ve=g.a.SUGGESTION_ACTIVE_COLOR,je=g.a.SUGGESTION_ACTIVE_OPACITY,be=g.a.BRAND_BLACK,Oe=g.a.STORE_STATUS_OPEN,me=g.a.LIST_TEXT,pe=g.a.TYPE_TAKE_WAY,he=g.a.STORE_STATUS_CLOSED_CAPS,ge=g.a.BROWSE_MENU,fe=g.a.CTA1_SEARCH_DIFF_ADDRESS,Se=g.a.DINEIN_UNAVAILABLE,xe=g.a.CTA2_ORDER_TAKEAWAY,Te=g.a.TAKEAWAY_UNAVAILABLE_WITH_CTA,ye=g.a.DINE_IN_SERVICE,Ce=g.a.DINE_IN,Ae=g.a.TYPE_DELIVERY,Ie=g.a.TAKE_AWAY,De=h.a.DISPOSITION_METHOD,ke=h.a.MENU_URL,we=h.a.SEARCH_ORDER_DATA,_e=h.a.CURRENT_STORE_INFO,Le=h.a.DISPOSITION_DATA,Re=h.a.INDIA,Fe=O.a.useContext(j.a).userOrderState,Me=Fe.searchStoreData,Ve=void 0===Me?{}:Me,Xe=Fe.dispositionStateData,Qe=void 0===Xe?{}:Xe,$e=Fe.scheduleOrderData,et=void 0===$e?{}:$e,tt=Qe.dispositionType,at=void 0===tt?localStorage.getItem("dispositionType"):tt,nt=O.a.useState(""),it=Object(i.a)(nt,2),rt=it[0],st=it[1],ot=Object(b.useState)({}),ct=Object(i.a)(ot,2),lt=ct[0],dt=ct[1],ut=Object(b.useState)({}),vt=Object(i.a)(ut,2),jt=vt[0],bt=vt[1],Ot=Object(b.useState)(!1),mt=Object(i.a)(Ot,2),pt=mt[0],ht=mt[1],gt=Object(b.useState)(!1),ft=Object(i.a)(gt,2),St=ft[0],xt=ft[1],Tt=O.a.useState([]),Nt=Object(i.a)(Tt,2),yt=Nt[0],Ct=Nt[1],Et=O.a.useState(!1),At=Object(i.a)(Et,2),It=At[0],Dt=At[1],kt=Object(b.useState)(null),wt=Object(i.a)(kt,2),_t=wt[0],Lt=wt[1],Rt=Object(b.useState)(Object(v.Uc)(window.innerWidth)),Ft=Object(i.a)(Rt,2),Ht=Ft[0],Mt=Ft[1],Bt=0,Ut=Object(b.useState)(0),Pt=Object(i.a)(Ut,2),Yt=Pt[0],Vt=Pt[1],Wt=Object(b.useState)(""),zt=Object(i.a)(Wt,2),Gt=zt[0],Kt=zt[1],Jt=O.a.useState(!1),Xt=Object(i.a)(Jt,2),Zt=Xt[0],qt=Xt[1],Qt=O.a.useState([]),$t=Object(i.a)(Qt,2),ea=$t[0],ta=$t[1],aa=O.a.useState([]),na=Object(i.a)(aa,2),ia=na[0],ra=na[1],sa=Object(b.useContext)(j.a).userOrderStateDispatch,oa=0,ca=Object(m.b)(),la=Object(m.c)((function(e){return e.tenantReducer})),da=(la||{}).tenantId,ua=void 0===da?{}:da,va=0,ja=O.a.useState(!1),ba=Object(i.a)(ja,2),Oa=ba[0],ma=ba[1],pa=O.a.useState(!1),ha=Object(i.a)(pa,2),ga=ha[0],fa=ha[1],Sa=Object(m.c)((function(e){return e.appStateReducer})),xa=Object(m.c)((function(e){return Object(v.zc)(e.LoaderReducer)})).isLoading,Ta=Sa.userStatus,Na=(void 0===Ta?{}:Ta).loggedIn,ya=void 0!==Na&&Na,Ca=O.a.useState([]),Ea=Object(i.a)(Ca,2),Aa=Ea[0],Ia=Ea[1],Da=O.a.useState(!0),ka=Object(i.a)(Da,2),wa=ka[0],_a=ka[1],La=Ye.a.getInstance().customerId,Ra=Object(b.useState)(325),Fa=Object(i.a)(Ra,2),Ha=Fa[0],Ma=Fa[1],Ba=Object(b.useState)(!1),Ua=Object(i.a)(Ba,2),Pa=Ua[0],Ya=Ua[1],Va=function(){var e=Object(v.Uc)(window.innerWidth);Mt(e)};Object(b.useEffect)((function(){return window.addEventListener("resize",Va),function(){window.removeEventListener("resize",Va)}}),[Ht]),Object(b.useEffect)((function(){return window.addEventListener("keydown",Ke),function(){window.removeEventListener("keydown",Ke)}}));var Wa=null===(t=document.getElementById("map-store-card"))||void 0===t?void 0:t.clientHeight;Object(b.useEffect)((function(){Wa&&Ha!==Wa&&Ma(Wa)}),[Wa]);var za=function(){var e=Object(S.a)(T.a.mark((function e(t){var a,n,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.geocodeByAddress)(t);case 2:return a=e.sent,e.next=5,Object(I.getLatLng)(a[0]);case 5:n=e.sent,dt(n),bt(n),Bt=0,Ja(t),st(t),U({userLat:n.lat,userLong:n.lng}),Dt(!1),i=Boolean(Object(v.S)(Object(v.xc)(rt,t),Object(v.S)(0===Bt,0===oa))),qt(i);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ga=function(){localStorage.setItem("currentStoreInfo",JSON.stringify(null)),sa({type:_e,value:null}),sa({type:Le,value:{showDisposition:!1}}),sa({type:we,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(ke)})},Ka=function(e,t,a){return Object(M.jsx)("div",{className:"store-card",children:at.toUpperCase()===pe?Object(M.jsxs)("div",{className:"no-store",children:[Object(M.jsx)("div",{className:"no-store-icon",children:Object(M.jsx)(y.a,{"data-testid":"",srcFile:_.a,alt:"no store"})}),Object(M.jsx)("div",{className:"no-store-text",children:e()}),Object(M.jsx)(L.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn",onClickHandler:qa,children:Object(o.e)(a)})]}):Object(M.jsxs)("div",{className:"no-store",children:[Object(M.jsx)("div",{className:"no-store-icon",children:Object(M.jsx)(y.a,{"data-testid":"",srcFile:_.a,alt:"no store"})}),Object(M.jsx)("div",{className:"no-store-text",children:e()}),Object(M.jsx)(L.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn dine-in-error-btn",onClickHandler:qa,children:Object(o.e)(a)}),Object(M.jsx)(L.a,{"data-testid":"orderTakeaway-click-btn",className:"button whiteButton blackBorder location-warning-button ml dine-in-error-btn",onClick:function(e){return function(e){e.preventDefault(),sa({type:De,value:{dispositionType:Ie}}),za(rt)}(e)},children:Object(o.e)(xe)})]})})};Object(b.useEffect)((function(){if(null!==et&&void 0!==et&&et.changeFlow||null===Ve||void 0===Ve||!Ve.searchedPlaceNonLocalized){if(localStorage.getItem("searchStoreByAttribute")){var e=localStorage.getItem("searchStoreByAttribute");st(e),za(e)}}else za(Ve.searchedPlaceNonLocalized)}),[]);Object(b.useEffect)((function(){if(rt){var e=x.filter(ze);if(e.length>0){var t=e.filter((function(e){var t,a,n,i,r,s;return(null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===Oe&&(null===(n=e.summary)||void 0===n||null===(i=n.timings)||void 0===i||null===(r=i.scheduled)||void 0===r||null===(s=r.periods)||void 0===s?void 0:s.length)>0}));if(t.length>=G){var a=t.slice(0,G);Ct(a)}else if(t.length<G){var n=G-t.length,i=e.filter((function(e){var t,a,n,i,r,s;return(null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===he||0===(null===(n=e.summary)||void 0===n||null===(i=n.timings)||void 0===i||null===(r=i.scheduled)||void 0===r||null===(s=r.periods)||void 0===s?void 0:s.length)})).slice(0,n),r=t.concat(i);Ct(r)}}else Bt=0,Ct([])}else Ct([]),Ia([]),ta([]),qt(!1)}),[x,rt]),Object(b.useEffect)((function(){if(x.length>0){Z({userLat:jt.lat,userLong:jt.lng});var e=B.sort((function(e,t){return Object(F.d)(e,t)})),t=null===e||void 0===e?void 0:e.filter((function(e){var t,a;return null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus}));Ia(t)}}),[x,B.length]),Object(b.useEffect)((function(){It&&(st(Gt),Ja(Gt),Dt(!1)),localStorage.getItem("ALREADY_SERACHED_LOCATIONS")!==rt&&(Ct([]),ta([]),Lt(""),Ia([]));var e=Object(v.d)(rt,oe);Ya(e)}),[Ve,rt,It,Gt]);var Ja=function(e){Object(v.md)(e,de)},Xa=function(){var e=Object(S.a)(T.a.mark((function e(){var t,a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.BindLocation();case 2:Object(F.m)(),u.b.coordinates&&(t=u.b.coordinates,a=t.latitude,n=t.longitude,u.b.addFeedback("Check coordinates ".concat(JSON.stringify(u.b.coordinates))),u.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:a,userLong:n}))),u.b.addFeedback("Check address ".concat(u.b.address)),Bt=0,dt({lat:a,lng:n}),ht(!1),U({userLat:a,userLong:n}),qt(!0),st(u.b.address),Kt(u.b.address),Dt(!0));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Za=function(e){return t=e,Object(v.yc)(JSON.parse(localStorage.getItem(de))).includes(t);var t},qa=function(){st(""),Ia([]),Ct([]),ta([]),qt(!1),Lt(""),ht(!1)},Qa=Object(b.useCallback)(Object(S.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(yt.map(function(){var e=Object(S.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{lat:t.location.latitude,lng:t.location.longitude});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:t=e.sent,dt(t);case 4:case"end":return e.stop()}}),e)}))),[yt]),$a=Object(b.useCallback)(Object(S.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Aa.map(function(){var e=Object(S.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{lat:t.location.latitude,lng:t.location.longitude});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:t=e.sent,dt(t);case 4:case"end":return e.stop()}}),e)}))),[Aa]),en=function(){Object(F.i)(pt,at),ht(!pt),xt(!pt)},tn=function(e,t){Lt(e),Vt(t)},an=function(){Qa(),xt(!0),Lt(Object(v.zc)(yt[Yt]))},nn=function(){var e=Object(S.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$a();case 2:xt(!0),Lt(Object(v.zc)(Aa[Yt]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(b.useEffect)((function(){!function(e,t,a,n){var i=n.TYPE_TAKE_WAY,r=n.DINE_IN,s=n.dispositionType,o=n.callSelectedStore,c=n.callSelectedFavStore;e?t.length&&[i,r].indexOf(s.toUpperCase())>-1&&o():a.length&&[i,r].indexOf(s.toUpperCase())>-1&&c()}(wa,yt,Aa,{TYPE_TAKE_WAY:pe,DINE_IN:Ce,dispositionType:at,callSelectedStore:an,callSelectedFavStore:nn});var e=yt.filter((function(e){var t,a,n,i,r,s;return(null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===he||0===(null===(n=e.summary)||void 0===n||null===(i=n.timings)||void 0===i||null===(r=i.scheduled)||void 0===r||null===(s=r.periods)||void 0===s?void 0:s.length)})),t=yt.filter((function(e){var t,a,n,i,r,s,o,c,l,d="CLOSED"===e.summary.status.currentStatus,u=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a||null===(n=a.message)||void 0===n?void 0:n.indexOf("EMERGENCY_SHUTDOWN")),v=-1!==(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(r=i.status)||void 0===r||null===(s=r.message)||void 0===s?void 0:s.indexOf("TECHNICAL_SHUTDOWN")),j=null===e||void 0===e||null===(o=e.summary)||void 0===o?void 0:o.timings,b=j.futureDates,O=j.scheduled,m=j.asap,p=O.unavailibilities,h=O&&(null===O||void 0===O||null===(c=O.periods)||void 0===c?void 0:c.length)&&(null===O||void 0===O?void 0:O.periods[0]),g=h.interval,f=void 0===g?0:g,S=h.startEndTime,x=void 0===S?{}:S,T=x.from,N=x.to,y=Object(Ne.f)(T,N,f,null===m||void 0===m?void 0:m.isAvailable,1===b.length&&(null===la||void 0===la||null===(l=la.country)||void 0===l?void 0:l.toUpperCase())===Re,p);return(!y||0===y.length)&&d&&(u||v)}));ta(e),ra(t)}),[yt,Yt,_t,X,Ce,he,pe,at,Qa,wa,Aa]);var rn=function(e){Lt("");var t=e?Yt+1:Yt-1;Vt(t),function(e,t,a,n,i){t(!0===e?Object(v.zc)(a[i]):null===n||void 0===n?void 0:n[i])}(wa,Lt,yt,Aa,t)},sn=function(e){_a(e)},on=function(){localStorage.setItem("setFav",!0),localStorage.removeItem("renderComp")},cn=function(e){on(),ca(Object(l.s)({data:{storeId:e.id},tenantId:ua,customerId:La,dispatch:"dispatch"})),fa(!0)},ln=function(e){on(),ca(Object(l.t)({tenantId:ua,customerId:La,storeId:Object(v.zc)(e.id),dispatch:"dispatch"})),fa(!1)};Object(b.useEffect)((function(){ga&&ma(!0)}),[B.length]),Object(b.useEffect)((function(){0!==Bt||0!==oa||!Zt||X||xa||(at.toUpperCase()===pe?Object(v.ub)(Object(o.e)(f.a.contentData.searchStoreHeaderText),Object(o.e)(Te)):Object(v.ub)(Object(o.e)(f.a.contentData.searchStoreHeaderText),Object(o.e)(Se)))}),[Bt,oa,Zt,X,xa]);var dn=function(e,t){var a,i,r,s,o=(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)===Oe,c=(e.availableServicesPerChannel&&Object(F.g)(e.availableServicesPerChannel))[0].services,l=void 0===c?[]:c,u="".concat(e.name[0].value,"_").concat(t);return Object(M.jsx)(O.a.Fragment,{children:o?Object(M.jsx)(Ee,Object(n.a)(Object(n.a)({"data-testid":t,storeName:Object(v.Bc)(e.name[0].value),storeDistance:Object(v.xc)(null===e||void 0===e||null===(r=e.distance)||void 0===r?void 0:r.value,null===e||void 0===e?void 0:e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:Object(v.zc)(e.addresses[0].address)},d[0]),{},{storeInfo:e,currentMarket:W,isOpen:o,isMapView:!0,onStoreSelectFinish:K,isMobile:Ht,centerIndex:Yt,storeLength:Object(v.mc)(wa,null===yt||void 0===yt?void 0:yt.length,null===Aa||void 0===Aa?void 0:Aa.length)}),t):Object(M.jsx)(He,Object(n.a)(Object(n.a)({orderTypes:l,storeName:Object(v.Bc)(e.name[0].value),storeDistance:Object(v.xc)(null===e||void 0===e||null===(s=e.distance)||void 0===s?void 0:s.value,null===e||void 0===e?void 0:e.distance),addresses:Object(v.zc)(e.addresses[0].address),storeStatus:e.summary,onStoreSelectFinish:K,isMobile:Ht,isMapView:!0,storeInfo:e,mapText:se,onClick:function(){en(),Qa()}},d[0]),{},{onPositionChangeHandler:rn,centerIndex:Yt,storeLength:Object(v.mc)(wa,null===yt||void 0===yt?void 0:yt.length,null===Aa||void 0===Aa?void 0:Aa.length)}),u)})},un=Aa.map((function(e,t){var a,i,r,s;if((null===(a=e.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)===Oe){var o,c,l=(null===(o=e.summary)||void 0===o||null===(c=o.status)||void 0===c?void 0:c.currentStatus)===Oe;return l&&va++,Object(M.jsx)(O.a.Fragment,{children:Object(M.jsx)(Ee,Object(n.a)(Object(n.a)({"data-testid":t,storeName:Object(v.Bc)(e.name[0].value),storeDistance:Object(v.Bc)(e.distance.value),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:Object(v.zc)(e.addresses[0].address)},d[0]),{},{storeInfo:e,currentMarket:W,isOpen:l,onStoreSelectFinish:K,isMobile:Ht,loggedIn:ya,onClickMapHandler:function(){tn(e,t),en()},isFavoriteStore:!0,addToFavoriteHandler:function(){cn(e)},removeFromFavoriteHandler:function(){ln(e)}}),t)})}if((null===(r=e.summary)||void 0===r||null===(s=r.status)||void 0===s?void 0:s.currentStatus)===he){va++;var u=(e.availableServicesPerChannel&&Object(F.g)(e.availableServicesPerChannel))[0].services,j=void 0===u?[]:u,b="".concat(e.name[0].value,"_").concat(t);return Object(M.jsx)(O.a.Fragment,{children:Object(M.jsx)(He,Object(n.a)({storeName:Object(v.Bc)(e.name[0].value),storeDistance:Object(v.Bc)(e.distance.value),orderTypes:j,addresses:Object(v.zc)(e.addresses[0].address),storeStatus:e.summary,mapText:se,isMobile:Ht,loggedIn:ya,onClickMapHandler:function(){tn(e,t),en()},isFavoriteStore:!0,addToFavoriteHandler:function(){cn(e)},removeFromFavoriteHandler:function(){ln(e)},onStoreSelectFinish:K,storeInfo:e},d[0]),b)})}})),vn=yt.map((function(e,t){var a,i,r,s;if(rt||Ct([]),Bt>=G||0===(null===(a=e.summary)||void 0===a||null===(i=a.timings)||void 0===i||null===(r=i.scheduled)||void 0===r||null===(s=r.periods)||void 0===s?void 0:s.length))return null;var o,c,l=(null===(o=e.summary)||void 0===o||null===(c=o.status)||void 0===c?void 0:c.currentStatus)===Oe;return l&&Bt++,Object(M.jsx)(O.a.Fragment,{children:Object(M.jsx)(Ee,Object(n.a)(Object(n.a)({"data-testid":t,storeName:Object(v.Bc)(e.name[0].value),storeDistance:Object(v.Bc)(e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:Object(v.zc)(e.addresses[0].address)},d[0]),{},{storeInfo:e,currentMarket:W,isOpen:l,onStoreSelectFinish:K,isMobile:Ht,loggedIn:ya,onClickMapHandler:function(){tn(e,t),en()},isFavoriteStore:B.some((function(t){return t.id===e.id})),addToFavoriteHandler:function(){cn(e)},removeFromFavoriteHandler:function(){ln(e)}}),t)})})),jn=function(){var e=-1!==at.toLowerCase().indexOf("dine")?ye:at;if(a=Object(F.a)(e,x))return Object(M.jsx)(O.a.Fragment,{children:Object(M.jsx)(Y,{errorMsgToShow:a,onClearTextHandler:qa,dispositionType:at,handleGoBack:J})})},bn=function(){if(yt.length===ia.length&&ia.length>0){var e=-1!==at.toLowerCase().indexOf("dine")?ye:at,t=Object(F.a)(e,x);return Object(v.ub)(Object(o.e)(f.a.contentData.searchStoreHeaderText),Object(o.e)(t)),jn()}if(yt.length===ea.length&&ea.length)return On;var n=-1!==at.toLowerCase().indexOf("dine")?ye:at;return yt.length&&(a=Object(F.a)(n,yt))?jn():(Bt<5&&vn.push(On),vn)},On=ea.map((function(e,t){var a=e.availableServicesPerChannel&&Object(F.g)(e.availableServicesPerChannel),i=Object(v.yc)(a[0]).services,r=void 0===i?[]:i;if(rt||Ct([]),oa>=G-Bt)return null;oa++;var s="".concat(e.name[0].value,"_").concat(t),o=yt.findIndex((function(t){return t.id===e.id}));return Object(M.jsx)(O.a.Fragment,{children:Object(M.jsx)(He,Object(n.a)({storeName:Object(v.Bc)(e.name[0].value),storeDistance:Object(v.Bc)(e.distance),orderTypes:r,addresses:Object(v.zc)(e.addresses[0].address),storeStatus:e.summary,mapText:se,isMobile:Ht,loggedIn:ya,onClickMapHandler:function(){tn(e,o),en()},isFavoriteStore:B.some((function(t){return t.id===e.id})),addToFavoriteHandler:function(){cn(e)},removeFromFavoriteHandler:function(){ln(e)},onStoreSelectFinish:K,storeInfo:e},d[0]),s)})})),mn=function(){switch(at.split("-").join(" ").toUpperCase()){case pe:return Object(o.e)(Te);case Ce:return Object(o.e)(Se);default:return null}};return Object(M.jsxs)(O.a.Fragment,{children:[Object(M.jsxs)("div",{className:"searchStore-module-form","data-testid":"searchstore-component",children:[Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:"store-count",children:[Object(M.jsx)("span",{className:"member-signin",children:!ya&&Object(M.jsxs)("div",{"data-id":V.M.HEADER_SIGN_IN_ATTR_DATA_ID,"data-testid":"memberText",children:[Object(o.e)(Q),Object(M.jsx)("span",{onClick:P,children:Object(M.jsx)(N.a,{className:"store-signin-link",targettype:ee.targetType,href:ee.linkUrl,"data-testid":"store-signin-link",children:Object(o.e)(ee.linkText)})})]})}),Object(M.jsx)("span",{children:Object(M.jsxs)(N.a,{onClickHandler:Xa,className:"store-location-link","data-testid":"useCurrentLocation",children:[Object(M.jsx)(y.a,{"data-testid":"",srcFile:C.a,alt:"location",className:"location-img"}),Object(o.e)(ae)]})})]}),Object(M.jsx)("div",{className:"search-address",children:Object(M.jsx)("div",{className:"input-address",children:Object(M.jsx)(D.a,{"data-testid":"handle-select",value:rt,onChange:function(e){e||qa(),st(e),Object(v.Ob)(e)<3&&Ya(!1)},onSelect:za,searchOptions:{componentRestrictions:{country:ue}},shouldFetchSuggestions:!0,onError:function(e,t){t()},children:function(e){var t=e.getInputProps,i=e.suggestions,r=e.getSuggestionItemProps;e.loading;return Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:"".concat(a||0===Bt&&0===oa&&Zt&&X&&!yt.length?"search-container-data error-border":"search-container-data"),children:[Object(M.jsx)(y.a,{"data-testid":"",srcFile:E.a,alt:"googleMapLocation",className:"google-location-img"}),Object(M.jsx)("input",Object(n.a)({"data-testid":"store-search-input",className:"store-search-input t-2"},t({placeholder:Object(o.e)(ie)}))),rt&&Object(M.jsx)("img",{"data-testid":"clear-text-icon",src:k.a,className:"clearTextIcon",onClick:function(){return qa()}})]}),!!Object(v.S)(Object(v.Ob)(i),Pa)&&Object(M.jsx)("div",{className:"suggestion-list","data-testid":"suggestionlist-id",children:i.map((function(e,t){var a;if(null!==e&&void 0!==e&&null!==(a=e.types)&&void 0!==a&&a.some((function(e){return le.includes(e)}))){var i=e.active?{backgroundColor:ve,opacity:je}:{backgroundColor:be};return Object(M.jsxs)(O.a.Fragment,{children:[0===t&&Object(M.jsx)("div",{className:"suggestion-items suggest-text",id:"suggestion-text","data-testid":"suggestion-item-".concat(t),children:Object(o.e)(ce)}),Object(M.jsx)("div",{style:i,children:Object(M.jsx)("div",Object(n.a)(Object(n.a)({"data-testid":"suggestion-item-".concat(t)},r(e,{className:"suggestion-items",id:"suggestion-items"})),{},{children:Object(M.jsxs)("div",{className:"suggested-address-alignment",children:[Object(M.jsx)("div",{children:Object(M.jsx)(y.a,{"data-testid":"",srcFile:Za(e.description)?w.a:A.a,alt:"googleMapLocation",className:"suggetion-pin",id:"suggetion-pin"})}),Object(M.jsx)("div",{className:"suggestion-description",children:e.description})]})}),t)})]})}}))})]})}})})})]}),Object(M.jsx)("div",{className:"my-3 store-form-separation margin-bottom"}),Ze(rt,pt,me,en,Qa),Object(M.jsxs)("form",{className:"form",children:[Object(M.jsxs)("div",{className:"store-count",children:[!!Bt&&Object(M.jsx)("span",{"data-testid":"tab-open-store",className:We(ya,wa),onClick:function(){Vt(0),sn(!0)},children:ya?Object(M.jsxs)("span",{children:[" ","".concat(Object(o.e)("nearYou"))," (",Bt+oa,")"]}):Object(M.jsxs)("span",{children:[Bt+oa," ","".concat(Object(o.e)("nearYou"))]})}),!!oa&&yt.length===ea.length&&yt.length!==ia.length&&Object(M.jsx)("span",{"data-testid":"tab-closed-store",className:We(ya,wa),onClick:function(){Vt(0),sn(!0)},children:"".concat(Object(o.e)("nearYou")," (").concat(oa,")")}),0===Bt&&0===oa&&Zt&&X&&Object(M.jsx)("span",{className:"store-count-title",children:"".concat(Object(o.e)("nearYou")," (").concat(Bt,")")}),qe(Bt,oa,ya,va,{firstTab:wa,setCenterIndex:Vt,handleTabChange:sn}),(!!Bt||!!oa)&&yt.length!==ia.length&&Object(M.jsx)("div",{"data-testid":"togglemap-id",onClick:function(){Vt(0),en(),Je(wa,Qa,$a)},children:Object(M.jsxs)(N.a,{className:"map-link",children:[Object(M.jsx)("span",{children:Object(M.jsx)(y.a,{"data-testid":"",srcFile:Ge(pt),alt:"map",className:"map-img"})}),pt?Object(o.e)(me):se]})}),0===Bt&&0===oa&&Zt&&X&&Object(M.jsx)("div",{"data-testid":"show-map-div",onClick:function(){Vt(0),en(),Je(wa,Qa,$a)},children:Object(M.jsxs)(N.a,{className:"map-link",children:[Object(M.jsx)("span",{children:Object(M.jsx)(y.a,{"data-testid":"",srcFile:Ge(pt),alt:"map",className:"map-img"})}),pt?Object(o.e)(me):Object(o.e)(se)]})})]}),pt?Object(M.jsx)("div",{className:"order-button-section",children:0===Bt&&0===oa&&Zt&&X&&Object(M.jsx)("div",{className:"store-card store-card-map-view-error",children:Object(M.jsxs)("div",{className:"no-store",children:[Object(M.jsx)("div",{className:"no-store-icon",children:Object(M.jsx)(y.a,{"data-testid":"",srcFile:_.a,alt:"no store"})}),Object(M.jsx)("div",{className:"no-store-text",children:mn()}),Object(M.jsx)(L.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClickHandler:Ga,children:Object(o.e)(ge)})]})})}):Object(M.jsxs)(M.Fragment,{children:[Object(v.S)(!xa,Object(v.S)(wa,0!==Bt||0!==oa||!Zt||X||yt.length?bn():Ka(mn,Ga,fe))),ya&&!wa&&Object(M.jsx)("div",{className:"order-button-section",children:un})]}),Object(M.jsx)("div",{className:"clearfix"}),Object(M.jsx)(Ue.a,{open:Oa,anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:1e3,onClose:function(){ma(!1)},children:Object(M.jsxs)(Pe.a,{children:[Object(M.jsx)(y.a,{"data-testid":"",srcFile:Be,alt:"success",className:"success-img"}),"Saved to your favorite store"]})})]})]}),pt&&Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"".concat((null===at||void 0===at?void 0:at.toUpperCase())!==Ae&&"takeawayDineInMap"," delivery-map"),children:[Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(R.a,{latLongValue:lt,loadingElement:Object(M.jsx)("div",{style:{height:"100%"}}),containerElement:Object(M.jsx)("div",{style:{height:"400px"}}),mapElement:Object(M.jsx)("div",{style:{height:"100%"}}),passAddress:function(e){st(e)},isVisible:at.toUpperCase()===pe||at.toUpperCase()===Ce,isMobile:Ht,centerIndex:Yt,onPositionChangeHandler:rn,setShowCard:xt,setStoreMarker:Object(v.mc)(wa,(function(e){var t=yt.findIndex((function(t){return t.location.latitude===e.lat()&&t.location.longitude===e.lng()}));t>-1&&(Yt===t&&an(),Vt(t))}),(function(e){!function(e,t,a,n,i){var r=e.findIndex((function(e){return e.location.latitude===n.lat()&&e.location.longitude===n.lng()}));r>-1&&(i===r&&t(),a(r))}(Aa,nn,Vt,e,Yt)})),storeCardHeight:Ha}),St&&_t&&Ht?!a&&dn(_t,"Selected-Card"):null]}),St&&_t&&!Ht?Object(v.S)(yt.length===ea.length,wa)?!a&&function(e,t){var a=e.availableServicesPerChannel&&Object(F.g)(e.availableServicesPerChannel),i=Object(v.yc)(a[0]).services,r=void 0===i?[]:i,s="".concat(e.name[0].value,"_").concat(t);return Object(M.jsx)(O.a.Fragment,{children:Object(M.jsx)(He,Object(n.a)(Object(n.a)({storeName:Object(v.Bc)(e.name[0].value),storeDistance:Object(v.Bc)(e.distance),orderTypes:r,addresses:Object(v.zc)(e.addresses[0].address),storeStatus:e.summary,mapText:se,isMobile:Ht,isMapView:!0,onStoreSelectFinish:K,onClick:function(){en(),Qa()},storeInfo:e},d[0]),{},{centerIndex:Yt,storeLength:Object(v.mc)(wa,null===yt||void 0===yt?void 0:yt.length,null===Aa||void 0===Aa?void 0:Aa.length)}),s)})}(_t,"Selected-Card"):dn(_t,"Selected-Card"):""]})})]})}));function Ze(e,t,a,n,i){return Object(M.jsx)(M.Fragment,{children:(null===e||void 0===e?void 0:e.length)<=3&&Object(M.jsxs)("div",{className:"enter-your-address-section",children:[Object(M.jsx)("span",{className:"search-store-text",children:Object(o.e)("pleaseEnterLocation")}),Object(M.jsx)("div",{"data-testid":"show-list-map",className:Object(v.mc)(t,"store-count","show-map-div"),onClick:function(){t&&n(),i()},children:Object(M.jsxs)(N.a,{className:"map-link",children:[Object(M.jsx)("span",{children:Object(M.jsx)(y.a,{"data-testid":"",srcFile:Ge(t),alt:"map",className:"map-img"})}),Object(v.mc)(t,Object(o.e)(a),Object(o.e)("map"))]})})]})})}function qe(e,t,a,n,i){var r=i.firstTab,s=i.setCenterIndex,c=i.handleTabChange;return Object(M.jsx)(M.Fragment,{children:(!!e||!!t)&&a&&Object(M.jsx)("span",{"data-testid":"tab-favorite-store",className:Ve(r),onClick:function(){s(0),c(!1)},children:"".concat(Object(o.e)("savedkfc")," (").concat(n,")")})})}var Qe=a(796),$e=a(95),et=function(e){var t=e.contentData,a=void 0===t?{}:t,f=e.onStoreSelectFinish,S=h.a.SEARCH_ORDER_DATA,x=h.a.DISPOSITION_DATA,T=h.a.ANALYTICS_LOCALISATION_SIGNIN,N=Object(m.b)(),y=g.a.COUNTRY_CODE,C=g.a.STORE_CARD_LIMIT,E=g.a.TYPE_TAKE_WAY,A=g.a.PICK_UP,I=g.a.TENANT_ID,D=g.a.TENATNT_SESSION_ID,k=g.a.TYPE_DELIVERY,w=Object(b.useContext)(j.a),_=w.userOrderState,L=w.userOrderStateDispatch,R=_.dispositionStateData,H=_.searchStoreData,B=Object(v.Bc)(R).dispositionType,U=void 0===B?localStorage.getItem("dispositionType"):B,P=H.currentMarket,Y=void 0===P?y:P,V=H.storeCardLimit,W=void 0===V?C:V,z=H.storeStatusUrl,G=void 0===z?"".concat(Object(s.a)(r.eb),"v1/stores/{storeid}/{channel}/{service}/status"):z,K=H.tenantID,J=void 0===K?I:K,X=H.tenantSessionID,Z=void 0===X?D:X,q=a.searchStoreHeaderText,Q=void 0===q?"":q,$=a.deliveryHeaderText,ee=void 0===$?"":$,te=a.searchStoreModalContent,ae=void 0===te?{}:te,ne=ae.formContent,ie=void 0===ne?{}:ne,re=ae.locationsContent.storeData,se=void 0===re?[]:re,oe=O.a.useState([]),ce=Object(i.a)(oe,2),le=ce[0],de=ce[1],ve=O.a.useState({}),je=Object(i.a)(ve,2),be=je[0],Oe=je[1],pe=O.a.useState([]),he=Object(i.a)(pe,2),ge=he[0],fe=he[1],Se=O.a.useState([]),xe=Object(i.a)(Se,2),Te=xe[0],Ne=xe[1],ye=Object(m.c)((function(e){return Object(v.zc)(e.tenantReducer)})),Ce=ye.storeSearch,Ee=void 0===Ce?{}:Ce,Ae=ye.tenantId,Ie=Object(m.c)((function(e){return Object(v.zc)(e.storesReducer)})),De=Ie.allStores,ke=void 0===De?[]:De,we=Ie.storesWithStatus,_e=void 0===we?[]:we,Le=Ie.isStoreStatusLoading,Re=void 0!==Le&&Le,Fe=Ee.maxDriveTimeMins,He=Ee.distanceMetrics,Me=Ee.maxDeliveryDistanceMtrs,Be=Ee.maxPickupDistanceMtrs,Ue=Ee.geohashprecision,Pe=Ee.boundingBoxSizeMeters,Ye=function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),L({type:x,value:{showDisposition:!1}}),L({type:S,value:{showSearchStore:!1}})};Object(b.useEffect)((function(){var e=function(e){27===e.keyCode&&Ye(e)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var Ve=function(e){e.stopPropagation(),e.preventDefault(),L({type:x,value:{showDisposition:!0}}),L({type:S,value:{showSearchStore:!1}})},We=function(e){e.stopPropagation(),e.preventDefault(),localStorage.setItem(T,JSON.stringify(!0)),Object(F.j)(),setTimeout((function(){Object($e.b)()}),500)},ze=Object(m.c)((function(e){return e.profileReducer.favouriteStores}));Object(b.useEffect)((function(){Ge({userLat:be.userLat,userLong:be.userLong})}),[ze.length]),Object(b.useEffect)((function(){ke.length>0&&et(ke)}),[ke]),Object(b.useEffect)((function(){_e.length>0&&rt(_e)}),[_e]),Object(b.useEffect)((function(){(null===U||void 0===U?void 0:U.toUpperCase())===k&&tt(Te)}),[Te]);var Ge=function(e){Object(Qe.a)(e.userLat,e.userLong,ze,Ke)},Ke=function(e,t){var a=Object(v.mc)((null===U||void 0===U?void 0:U.toUpperCase())===E,A,U),n=G.replace("{channel}",u.b.channel).replace("{service}",a).replace(" ","-"),i=Object(p.a)();Object(F.h)(e,n.toLowerCase(),J,Z||Object(p.a)(),i,Je)},Je=function(e){var t=e.map((function(e){var t=e.storeBasic,a=t.additionalProperties,i=void 0===a?[]:a,r=t.address,s=t.amenities,o=t.dname,c=t.id,l=t.location;return Object(n.a)(Object(n.a)({},e),{},{id:c,location:l,name:o,amenities:s,addresses:r,additionalAttributes:i,storeBasic:{}})}));fe(t)},Ze=function(e){N(Object(c.b)()),Oe({userLat:e.userLat,userLong:e.userLong}),le&&de([]),qe(e.userLat,e.userLong),setTimeout((function(){N(Object(c.a)())}),2e3)},qe=function(e,t){var a={lat:e,lon:t,distanceFromCurrentLoc:Pe/1e3,geohashprecision:Ue},n=d.a.calculateGH(a);N(Object(l.r)(null===n||void 0===n?void 0:n.length))},et=function(e){var t=Object(v.sb)(U.toUpperCase()),a=e.filter((function(e){var t,a;return Object(v.gd)(e.id)&&Object(v.gd)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(v.gd)(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)})),n={stores:a,disposition:t,distanceMetrics:He,driveTime:Fe,distanceInMtrs:Object(v.mc)(U.toUpperCase()===k,Me,Be),noOfStores:Object(v.mc)(U.toUpperCase()===k,2,a.length),channel:u.b.channel},i=d.a.checkAndProceed(n);Ne(i),U.toUpperCase()===k?tt(i):it(i,t)},tt=function(e){var t=[];null===e||void 0===e||e.forEach((function(e){var a,n;t.push({lat:null===(a=e.location)||void 0===a?void 0:a.latitude,lng:null===(n=e.location)||void 0===n?void 0:n.longitude})})),Object(Qe.b)(t,[{lat:be.userLat,lng:be.userLong}],at)},at=function(e){var t=e.allStoreDistance,a=(e.originAddressText,Object(v.sb)(U.toUpperCase())),n={stores:nt(t,Te),numberOfStores:2,disposition:a,distanceMetrics:He,driveTime:Fe,distanceInMtrs:Object(v.mc)((null===U||void 0===U?void 0:U.toUpperCase())===k,Me,Be),channel:u.b.channel},i=d.a.getSortedNearbyStores(n);(null===i||void 0===i?void 0:i.length)>0&&it(i,a)},nt=function(e,t){return null===t||void 0===t?void 0:t.map((function(t,a){return Object(n.a)(Object(n.a)({},t),{},{distance:e[a]})}))},it=function(e,t){var a={data:null===e||void 0===e?void 0:e.map((function(e){return{storeId:e.id,channel:u.b.channel,service:t}})),store:e,tenantId:Ae,setStatusFlag:!1,isFavoritePage:!1};N(Object(l.d)(a,null))},rt=function(e){var t=e.filter((function(e){var t,a,n,i,r,s,o,c,l,d,u,v;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)&&(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(i=n.status)||void 0===i?void 0:i.currentStatus)&&(null===e||void 0===e||null===(r=e.summary)||void 0===r||null===(s=r.menu)||void 0===s||null===(o=s.catalogs)||void 0===o?void 0:o.length)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(l=c.timings)||void 0===l||null===(d=l.operatingHours)||void 0===d?void 0:d.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v?void 0:v.asap)}));de(t)},st=(null===U||void 0===U?void 0:U.toUpperCase())===k?Object(M.jsx)(ue,{singInClickhandler:We,formContent:ie,storeData:se,onStoreSelectFinish:f,eligibleStoreData:le,storeCardLimit:W,userPositionHandler:Ze,currentMarket:Y}):Object(M.jsx)(Xe,{singInClickhandler:We,formContent:ie,storeData:se,eligibleStoreData:le,noStoresList:Re,storeCardLimit:W,userPositionHandler:Ze,currentMarket:Y,onStoreSelectFinish:f,handleGoBack:Ve,favoriteStoreData:ge,favoriteStoreHandler:Ge});return Object(M.jsx)(me,{handleClose:Ye,orderModeTypeItem:st,headerText:Object(v.mc)((null===U||void 0===U?void 0:U.toUpperCase())===k,Object(o.e)(ee),Object(o.e)(Q)),handleGoBack:Ve,modalTitleId:"search-store"})};et.defaultProps=f.a;t.default=et},759:function(e,t,a){"use strict";t.a={contentData:{scheduleOrderHeaderText:"scheduleOrder",changeScheduleOrderHeaderText:"changeYourOrderTitle",scheduleOrderModalContent:{formContent:{orderTypeTitle:"orderType",restaurantTitle:"YourKFCLocation",yourLocationTitle:"yourLocation",editTitle:"edit",scheduleDateTitle:"scheduleForYourOrder",dateTitle:"date",timeTitle:"time",buttonText:"confirm",dateOptions:["Today","23/03/2021","24/03/2021"],timeOptions:[9.3,10,10.3,11]}},DELIVERY_NA_WARNING_MESSAGE:"noStoresWithDeliveryHeader",DELIVERY_PICKUP_NA_MESSAGE:"deliverystoresWithoutAnyServiceHeader",SWITCH_TO_TAKEAWAY:"switchToTakeaway",errorMessageInactive:"errorMessageInactive",errorMessageClosed:"errorMessageClosed"},timingsSampleData:{operatingHours:[{day:"EVERYDAY",availableHours:{from:"10:00",to:"23:00"}}],asap:{isAvailable:!0,promiseTime:0},scheduled:{date:"2021-05-05",periods:[{startEndTime:{from:"11:30",to:"23:00"},interval:15}],unavailibilities:[]},futureDates:["2021-05-06"]}}},769:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(17),i=a(10),r=a(224),s=a(11),o=[{key:n.d.roundTheClock,image:r.a.RoundTheClockDark,label:Object(i.e)(s.a.ROUND_THE_CLOCK)},{key:n.d.birthday,image:r.a.BirthdayDark,label:Object(i.e)(s.a.BIRTHDAY)},{key:n.d.breakfast,image:r.a.BreakfastDark,label:Object(i.e)(s.a.BREAKFAST)},{key:n.d.contactless,image:r.a.ContactlessDark,label:Object(i.e)(s.a.CONTACTLESS)},{key:n.d.driveThru,image:r.a.DrivethruDark,label:Object(i.e)(s.a.DRIVETHRU)},{key:n.d.driveThruOnly,image:r.a.DrivethruDark,label:Object(i.e)(s.a.DRIVETHRU)},{key:n.d.foodCourt,image:r.a.FoodCourtDark,label:Object(i.e)(s.a.FOODCOURT)},{key:n.d.wifi,image:r.a.WifiDark,label:Object(i.e)(s.a.FREE_WIFI)},{key:n.d.wifiOnly,image:r.a.WifiDark,label:Object(i.e)(s.a.WIFI)},{key:n.d.kiosks,image:r.a.KiosksDark,label:Object(i.e)(s.a.KIOSKS)},{key:n.d.parking,image:r.a.ParkingDark,label:Object(i.e)(s.a.PARKING)},{key:n.d.playground,image:r.a.PlaygroundDark,label:Object(i.e)(s.a.PLAYGROUND)},{key:n.d.refill,image:r.a.RefillDark,label:Object(i.e)(s.a.REFILL)},{key:n.d.terraces,image:r.a.TerracesDark,label:Object(i.e)(s.a.TERRACES)},{key:n.d.phc,image:r.a.AccessibilityDark,label:Object(i.e)(s.a.ACCESSIBILTY)},{key:n.d.accessibility,image:r.a.AccessibilityDark,label:Object(i.e)(s.a.ACCESSIBILTY)},{key:n.d.restroom,image:r.a.RestRoomDark,label:Object(i.e)(s.a.RESTROOM)},{key:n.d.cateringType,image:r.a.BirthdayDark,label:Object(i.e)(s.a.CATERING_TEXT)}],c=function(e,t){return o.filter((function(t){var a,n;if(null!==e&&void 0!==e&&null!==(a=e.amenities)&&void 0!==a&&a.length)return(null===e||void 0===e||null===(n=e.amenities)||void 0===n?void 0:n.indexOf(null===t||void 0===t?void 0:t.key))>=0}))}},771:function(e,t,a){"use strict";var n=a(28),i=a(4),r=a.n(i),s=a(248),o=a(254),c=a(249),l=a(45),d=a(245),u=a(136),v=a(10),j=a(7),b=a(60),O=a(3),m=a(5);t.a=function(e){var t,a,p=e.locationAlertProp,h=e.negativeScenarioAlertProp,g=e.isMobile,f=e.onPositionChangeHandler,S=e.centerIndex,x=e.isVisible,T=e.setShowCard,N=e.locationAlert,y=e.setStoreMarker,C=void 0===y?function(){}:y,E=e.passAddress,A=e.storeCardHeight,I=e.latLongValue,D=l.a.PLACE_PIN,k=r.a.useContext(b.a).userOrderState.dispositionStateData,w=(void 0===k?{}:k).dispositionType,_=void 0===w?localStorage.getItem("dispositionType"):w,L=r.a.createRef(),R=Object(i.useState)(I),F=Object(n.a)(R,2),H=F[0],M=F[1],B=Object(i.useState)(!1),U=Object(n.a)(B,2),P=U[0],Y=U[1];Object(i.useEffect)((function(){t=V(H),a=W(H)}),[]),Object(i.useEffect)((function(){M(I),Y(!1)}),[I]),Object(i.useEffect)((function(){V(H),a=W(H)}),[H,S,P]);var V=function(e){return new window.google.maps.Map(L.current,{zoom:10,center:Array.isArray(e)&&e.length>0?e[S]:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!g,gestureHandling:"greedy"})},W=function(e){var n=new window.google.maps.Geocoder,i=e;t=V(i),x?P||(t.addListener("zoom_changed",(function(){T(!1),Y(!0)})),t.addListener("drag",(function(){T(!1),Y(!0)}))):(t.addListener("drag",(function(){i={lat:t.getCenter().lat(),lng:t.getCenter().lng()},a.setPosition(i)})),window.google.maps.event.addListener(t,"dragend",(function(){!function(e,t,a){e.geocode({location:a},(function(e,t){"OK"===t&&e[0]&&E(e[0].formatted_address)}))}(n,0,i)})));var r=Object(j.mc)(Array.isArray(i)&&i.length>0,i,[i]).map((function(e,a){var n=new window.google.maps.Marker({position:e,map:t,visible:!0,icon:Object(j.xc)(!x,!P&&x&&a===S)?(null===_||void 0===_?void 0:_.toUpperCase())===O.Bd?o.a:s.a:c.a});return n.addListener("click",(function(e){C(e.latLng)})),n}));return Object(j.mc)(Array.isArray(i),r,r[0])};return Object(m.jsxs)(r.a.Fragment,{children:[!p&&((null===_||void 0===_?void 0:_.toUpperCase())!==O.Bd||""!==h&&h?null:Object(m.jsx)("div",{className:"map-top-note ".concat(Object(j.mc)(N,"place-pin-off","")),children:Object(m.jsx)("div",{className:"map-top-note-text","data-testid":"map-top-text-test",children:Object(v.e)(D)})})),g&&!P&&Object(m.jsxs)("div",{className:"arrows",style:{bottom:"".concat(A+15,"px")},children:[Object(m.jsx)("span",{className:"map-arrow-left ".concat(Object(j.S)(0===S,"disableArrow")),"data-testid":"map-arrow-left",onClick:function(e){return Object(j.mc)(0===S,e.preventDefault(),f(0))},children:Object(m.jsx)(d.a,{srcFile:u.a,alt:"map-arrow-left"})}),Object(m.jsx)("span",{className:"map-arrow-right ".concat(S===H.length-1&&"disableArrow"),"data-testid":"map-arrow-right",onClick:function(e){return S===H.length-1?e.preventDefault():f(1)},children:Object(m.jsx)(d.a,{srcFile:u.a,alt:"map-arrow-right"})})]}),Object(m.jsx)("div",{id:"google-map",ref:L})]})}},796:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return v}));a(71);var n,i,r=a(0),s=a(32),o=(a(23),a(22),a(45)),c=[],l="",d=function(e,t,a,n){if(e,t,i=n,(c=a).length>0){var r=c.map((function(e){var t=e&&e.storeBasic.location;return{lat:t.latitude,lng:t.longitude}})),o=[{lat:e,lng:t}];(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[].concat(o).slice(0,24),destinations:Object(s.a)(r).slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},u)}else i([],"")},u=function(e,t){var a,n;n=e&&e.rows&&e.rows[0].elements.map((function(e){return e}));var s=e&&e.originAddresses&&e.originAddresses[0]||"";a=c.map((function(e,t){return Object(r.a)(Object(r.a)({},e),n[t])})),i(a,s)},v=function(e,t,a){(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:Object(s.a)(e).slice(0,24),destinations:Object(s.a)(t).slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},j),n=a},j=function(e,t){if(t===o.a.OK_STATUS){var a,i=e&&e.rows&&e.rows.map((function(e){return e}));a=null===i||void 0===i?void 0:i.map((function(e){return e.elements[0]})),l=e&&e.originAddresses||[],n({allStoreDistance:a,originAddressText:l})}}}}]);